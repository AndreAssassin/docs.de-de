---
title: Eigenschaftenentwurf
ms.date: 10/22/2008
ms.technology: dotnet-standard
helpviewer_keywords:
- member design guidelines, properties
- properties [.NET Framework], design guidelines
ms.assetid: 127cbc0c-cbed-48fd-9c89-7c5d4f98f163
ms.openlocfilehash: 8b6570b1b7c292729b78f2fe52f24f73319efe6c
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/24/2020
ms.locfileid: "76743656"
---
# <a name="property-design"></a><span data-ttu-id="8857e-102">Eigenschaftenentwurf</span><span class="sxs-lookup"><span data-stu-id="8857e-102">Property Design</span></span>
<span data-ttu-id="8857e-103">Obwohl die Eigenschaften den Methoden technisch ähnlich ähnlich sind, unterscheiden Sie sich in Bezug auf Ihre Verwendungs Szenarien erheblich.</span><span class="sxs-lookup"><span data-stu-id="8857e-103">Although properties are technically very similar to methods, they are quite different in terms of their usage scenarios.</span></span> <span data-ttu-id="8857e-104">Sie sollten als intelligente Felder betrachtet werden.</span><span class="sxs-lookup"><span data-stu-id="8857e-104">They should be seen as smart fields.</span></span> <span data-ttu-id="8857e-105">Sie verfügen über die Aufruf Syntax der Felder und die Flexibilität der Methoden.</span><span class="sxs-lookup"><span data-stu-id="8857e-105">They have the calling syntax of fields, and the flexibility of methods.</span></span>

 <span data-ttu-id="8857e-106">✔️ Erstellen Sie Get-only-Eigenschaften, wenn der Aufrufer den Wert der-Eigenschaft nicht ändern kann.</span><span class="sxs-lookup"><span data-stu-id="8857e-106">✔️ DO create get-only properties if the caller should not be able to change the value of the property.</span></span>

 <span data-ttu-id="8857e-107">Beachten Sie, dass der Eigenschafts Wert auch dann geändert werden kann, wenn es sich bei dem Typ der Eigenschaft um einen änderbaren Referenztyp handelt.</span><span class="sxs-lookup"><span data-stu-id="8857e-107">Keep in mind that if the type of the property is a mutable reference type, the property value can be changed even if the property is get-only.</span></span>

 <span data-ttu-id="8857e-108">❌ keine festgelegten Eigenschaften oder Eigenschaften bereitstellen, die den Setter mit breiteren Zugriffsmöglichkeiten als der Getter haben.</span><span class="sxs-lookup"><span data-stu-id="8857e-108">❌ DO NOT provide set-only properties or properties with the setter having broader accessibility than the getter.</span></span>

 <span data-ttu-id="8857e-109">Verwenden Sie z. b. keine Eigenschaften mit einem öffentlichen Setter und einem geschützten Getter.</span><span class="sxs-lookup"><span data-stu-id="8857e-109">For example, do not use properties with a public setter and a protected getter.</span></span>

 <span data-ttu-id="8857e-110">Wenn der Getter der Eigenschaft nicht bereitgestellt werden kann, implementieren Sie die Funktionalität stattdessen als Methode.</span><span class="sxs-lookup"><span data-stu-id="8857e-110">If the property getter cannot be provided, implement the functionality as a method instead.</span></span> <span data-ttu-id="8857e-111">Starten Sie den Methodennamen mit `Set`, und folgen Sie den Anweisungen, die Sie als Eigenschaft bezeichnet haben.</span><span class="sxs-lookup"><span data-stu-id="8857e-111">Consider starting the method name with `Set` and follow with what you would have named the property.</span></span> <span data-ttu-id="8857e-112"><xref:System.AppDomain> hat beispielsweise eine Methode mit dem Namen `SetCachePath`, anstatt eine nur-Eigenschaft mit dem Namen `CachePath`zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="8857e-112">For example, <xref:System.AppDomain> has a method called `SetCachePath` instead of having a set-only property called `CachePath`.</span></span>

 <span data-ttu-id="8857e-113">✔️ Stellen sinnvolle Standardwerte für alle Eigenschaften bereit, um sicherzustellen, dass die Standardwerte nicht zu einer Sicherheitslücke oder zu einem äußerst ineffizienten Code führen.</span><span class="sxs-lookup"><span data-stu-id="8857e-113">✔️ DO provide sensible default values for all properties, ensuring that the defaults do not result in a security hole or terribly inefficient code.</span></span>

 <span data-ttu-id="8857e-114">✔️ erlauben, dass Eigenschaften in beliebiger Reihenfolge festgelegt werden, auch wenn dies zu einem temporären ungültigen Zustand des Objekts führt.</span><span class="sxs-lookup"><span data-stu-id="8857e-114">✔️ DO allow properties to be set in any order even if this results in a temporary invalid state of the object.</span></span>

 <span data-ttu-id="8857e-115">Es kommt häufig vor, dass zwei oder mehr Eigenschaften mit einem Punkt verknüpft werden, an dem einige Werte einer Eigenschaft aufgrund der Werte anderer Eigenschaften desselben Objekts möglicherweise ungültig sind.</span><span class="sxs-lookup"><span data-stu-id="8857e-115">It is common for two or more properties to be interrelated to a point where some values of one property might be invalid given the values of other properties on the same object.</span></span> <span data-ttu-id="8857e-116">In solchen Fällen sollten Ausnahmen, die sich aus dem ungültigen Zustand ergeben, verschoben werden, bis die miteinander verknüpften Eigenschaften tatsächlich vom Objekt zusammen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="8857e-116">In such cases, exceptions resulting from the invalid state should be postponed until the interrelated properties are actually used together by the object.</span></span>

 <span data-ttu-id="8857e-117">✔️ behalten Sie den vorherigen Wert bei, wenn ein Eigenschaften Setter eine Ausnahme auslöst.</span><span class="sxs-lookup"><span data-stu-id="8857e-117">✔️ DO preserve the previous value if a property setter throws an exception.</span></span>

 <span data-ttu-id="8857e-118">❌ vermeiden Sie das Auslösen von Ausnahmen von Eigenschaften Getters.</span><span class="sxs-lookup"><span data-stu-id="8857e-118">❌ AVOID throwing exceptions from property getters.</span></span>

 <span data-ttu-id="8857e-119">Eigenschaften Getter sollten einfache Vorgänge sein und sollten keine Vorbedingungen aufweisen.</span><span class="sxs-lookup"><span data-stu-id="8857e-119">Property getters should be simple operations and should not have any preconditions.</span></span> <span data-ttu-id="8857e-120">Wenn ein Getter eine Ausnahme auslösen kann, sollte er wahrscheinlich neu gestaltet werden, um eine Methode zu sein.</span><span class="sxs-lookup"><span data-stu-id="8857e-120">If a getter can throw an exception, it should probably be redesigned to be a method.</span></span> <span data-ttu-id="8857e-121">Beachten Sie, dass diese Regel nicht für Indexer gilt, bei denen Ausnahmen aufgrund der Validierung der Argumente erwartet werden.</span><span class="sxs-lookup"><span data-stu-id="8857e-121">Notice that this rule does not apply to indexers, where we do expect exceptions as a result of validating the arguments.</span></span>

### <a name="indexed-property-design"></a><span data-ttu-id="8857e-122">Design der indizierten Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="8857e-122">Indexed Property Design</span></span>
 <span data-ttu-id="8857e-123">Eine indizierte Eigenschaft ist eine spezielle Eigenschaft, die über Parameter verfügen kann und mit spezieller Syntax ähnlich der Array Indizierung aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="8857e-123">An indexed property is a special property that can have parameters and can be called with special syntax similar to array indexing.</span></span>

 <span data-ttu-id="8857e-124">Indizierte Eigenschaften werden im Allgemeinen als Indexer bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="8857e-124">Indexed properties are commonly referred to as indexers.</span></span> <span data-ttu-id="8857e-125">Indexer sollten nur in APIs verwendet werden, die den Zugriff auf Elemente in einer logischen Auflistung ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="8857e-125">Indexers should be used only in APIs that provide access to items in a logical collection.</span></span> <span data-ttu-id="8857e-126">Beispielsweise ist eine Zeichenfolge eine Auflistung von Zeichen, und der Indexer auf <xref:System.String?displayProperty=nameWithType> wurde hinzugefügt, um auf seine Zeichen zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="8857e-126">For example, a string is a collection of characters, and the indexer on <xref:System.String?displayProperty=nameWithType> was added to access its characters.</span></span>

 <span data-ttu-id="8857e-127">✔️ können Indexer verwenden, um den Zugriff auf Daten bereitzustellen, die in einem internen Array gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="8857e-127">✔️ CONSIDER using indexers to provide access to data stored in an internal array.</span></span>

 <span data-ttu-id="8857e-128">✔️ sollten Indexer für Typen bereitgestellt werden, die Element Auflistungen darstellen.</span><span class="sxs-lookup"><span data-stu-id="8857e-128">✔️ CONSIDER providing indexers on types representing collections of items.</span></span>

 <span data-ttu-id="8857e-129">❌ vermeiden Sie die Verwendung indizierter Eigenschaften mit mehr als einem Parameter.</span><span class="sxs-lookup"><span data-stu-id="8857e-129">❌ AVOID using indexed properties with more than one parameter.</span></span>

 <span data-ttu-id="8857e-130">Wenn der Entwurf mehrere Parameter erfordert, überdenken Sie, ob die-Eigenschaft tatsächlich einen Accessor für eine logische Auflistung darstellt.</span><span class="sxs-lookup"><span data-stu-id="8857e-130">If the design requires multiple parameters, reconsider whether the property really represents an accessor to a logical collection.</span></span> <span data-ttu-id="8857e-131">Wenn dies nicht der Fall ist, verwenden Sie stattdessen-Methoden.</span><span class="sxs-lookup"><span data-stu-id="8857e-131">If it does not, use methods instead.</span></span> <span data-ttu-id="8857e-132">Sie sollten den Methodennamen ggf. mit `Get` oder `Set`beginnen.</span><span class="sxs-lookup"><span data-stu-id="8857e-132">Consider starting the method name with `Get` or `Set`.</span></span>

 <span data-ttu-id="8857e-133">❌ vermeiden Sie Indexer mit anderen Parametertypen als <xref:System.Int32?displayProperty=nameWithType>, <xref:System.Int64?displayProperty=nameWithType>, <xref:System.String?displayProperty=nameWithType>, <xref:System.Object?displayProperty=nameWithType>oder einer Enumeration.</span><span class="sxs-lookup"><span data-stu-id="8857e-133">❌ AVOID indexers with parameter types other than <xref:System.Int32?displayProperty=nameWithType>, <xref:System.Int64?displayProperty=nameWithType>, <xref:System.String?displayProperty=nameWithType>, <xref:System.Object?displayProperty=nameWithType>, or an enum.</span></span>

 <span data-ttu-id="8857e-134">Wenn der Entwurf andere Typen von Parametern erfordert, sollten Sie nachdrücklich neu auswerten, ob die API tatsächlich einen Accessor für eine logische Auflistung darstellt.</span><span class="sxs-lookup"><span data-stu-id="8857e-134">If the design requires other types of parameters, strongly reevaluate whether the API really represents an accessor to a logical collection.</span></span> <span data-ttu-id="8857e-135">Wenn dies nicht der Fall ist, verwenden Sie eine-Methode.</span><span class="sxs-lookup"><span data-stu-id="8857e-135">If it does not, use a method.</span></span> <span data-ttu-id="8857e-136">Sie sollten den Methodennamen ggf. mit `Get` oder `Set`beginnen.</span><span class="sxs-lookup"><span data-stu-id="8857e-136">Consider starting the method name with `Get` or `Set`.</span></span>

 <span data-ttu-id="8857e-137">✔️ den Namen `Item` für indizierte Eigenschaften verwenden, es sei denn, es gibt einen offensichtlich besseren Namen (z. b. die <xref:System.String.Chars%2A>-Eigenschaft auf `System.String`).</span><span class="sxs-lookup"><span data-stu-id="8857e-137">✔️ DO use the name `Item` for indexed properties unless there is an obviously better name (e.g., see the <xref:System.String.Chars%2A> property on `System.String`).</span></span>

 <span data-ttu-id="8857e-138">In C#sind Indexer standardmäßig benannte Elemente.</span><span class="sxs-lookup"><span data-stu-id="8857e-138">In C#, indexers are by default named Item.</span></span> <span data-ttu-id="8857e-139">Der <xref:System.Runtime.CompilerServices.IndexerNameAttribute> kann zum Anpassen dieses Namens verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="8857e-139">The <xref:System.Runtime.CompilerServices.IndexerNameAttribute> can be used to customize this name.</span></span>

 <span data-ttu-id="8857e-140">❌ nicht sowohl einen Indexer als auch Methoden bereitstellen, die semantisch äquivalent sind.</span><span class="sxs-lookup"><span data-stu-id="8857e-140">❌ DO NOT provide both an indexer and methods that are semantically equivalent.</span></span>

 <span data-ttu-id="8857e-141">❌ geben nicht mehr als eine Familie überladener Indexer in einem Typ an.</span><span class="sxs-lookup"><span data-stu-id="8857e-141">❌ DO NOT provide more than one family of overloaded indexers in one type.</span></span>

 <span data-ttu-id="8857e-142">Dies wird vom C# Compiler erzwungen.</span><span class="sxs-lookup"><span data-stu-id="8857e-142">This is enforced by the C# compiler.</span></span>

 <span data-ttu-id="8857e-143">❌ nicht standardmäßige indizierte Eigenschaften verwenden.</span><span class="sxs-lookup"><span data-stu-id="8857e-143">❌ DO NOT use nondefault indexed properties.</span></span>

 <span data-ttu-id="8857e-144">Dies wird vom C# Compiler erzwungen.</span><span class="sxs-lookup"><span data-stu-id="8857e-144">This is enforced by the C# compiler.</span></span>

### <a name="property-change-notification-events"></a><span data-ttu-id="8857e-145">Benachrichtigungs Ereignisse für Eigenschafts Änderungen</span><span class="sxs-lookup"><span data-stu-id="8857e-145">Property Change Notification Events</span></span>
 <span data-ttu-id="8857e-146">Manchmal ist es hilfreich, ein Ereignis anzugeben, das den Benutzer über Änderungen in einem Eigenschafts Wert benachrichtigt.</span><span class="sxs-lookup"><span data-stu-id="8857e-146">Sometimes it is useful to provide an event notifying the user of changes in a property value.</span></span> <span data-ttu-id="8857e-147">`System.Windows.Forms.Control` löst z. b. ein `TextChanged`-Ereignis aus, nachdem sich der Wert der `Text`-Eigenschaft geändert hat.</span><span class="sxs-lookup"><span data-stu-id="8857e-147">For example, `System.Windows.Forms.Control` raises a `TextChanged` event after the value of its `Text` property has changed.</span></span>

 <span data-ttu-id="8857e-148">✔️ sollten Änderungs Benachrichtigungs Ereignisse in Erwägung ziehen, wenn Eigenschaftswerte in APIs auf hoher Ebene (normalerweise Designer Komponenten) geändert werden.</span><span class="sxs-lookup"><span data-stu-id="8857e-148">✔️ CONSIDER raising change notification events when property values in high-level APIs (usually designer components) are modified.</span></span>

 <span data-ttu-id="8857e-149">Wenn ein Benutzer ein gutes Szenario kennt, wenn eine Eigenschaft eines Objekts geändert wird, sollte das Objekt ein Änderungs Benachrichtigungs Ereignis für die Eigenschaft angeben.</span><span class="sxs-lookup"><span data-stu-id="8857e-149">If there is a good scenario for a user to know when a property of an object is changing, the object should raise a change notification event for the property.</span></span>

 <span data-ttu-id="8857e-150">Es ist jedoch unwahrscheinlich, dass Sie den Aufwand für die Anwendung solcher Ereignisse für APIs auf niedriger Ebene, wie z. b. Basis Typen oder Sammlungen, erhöhen sollten.</span><span class="sxs-lookup"><span data-stu-id="8857e-150">However, it is unlikely to be worth the overhead to raise such events for low-level APIs such as base types or collections.</span></span> <span data-ttu-id="8857e-151">Beispielsweise würden <xref:System.Collections.Generic.List%601> solche Ereignisse nicht aufschlagen, wenn der Liste ein neues Element hinzugefügt wird und die `Count`-Eigenschaft geändert wird.</span><span class="sxs-lookup"><span data-stu-id="8857e-151">For example, <xref:System.Collections.Generic.List%601> would not raise such events when a new item is added to the list and the `Count` property changes.</span></span>

 <span data-ttu-id="8857e-152">✔️ sollten Änderungs Benachrichtigungs Ereignisse in Erwägung ziehen, wenn sich der Wert einer Eigenschaft über externe Erzwingung ändert.</span><span class="sxs-lookup"><span data-stu-id="8857e-152">✔️ CONSIDER raising change notification events when the value of a property changes via external forces.</span></span>

 <span data-ttu-id="8857e-153">Wenn sich ein Eigenschafts Wert über eine externe Kraft ändert (anders als durch Aufrufen von Methoden für das Objekt), geben Sie Ereignisse an den Entwickler an, dass sich der Wert ändert und sich geändert hat.</span><span class="sxs-lookup"><span data-stu-id="8857e-153">If a property value changes via some external force (in a way other than by calling methods on the object), raise events indicate to the developer that the value is changing and has changed.</span></span> <span data-ttu-id="8857e-154">Ein gutes Beispiel hierfür ist die `Text`-Eigenschaft eines Textfeld-Steuer Elements.</span><span class="sxs-lookup"><span data-stu-id="8857e-154">A good example is the `Text` property of a text box control.</span></span> <span data-ttu-id="8857e-155">Wenn der Benutzer Text in einem `TextBox`eingibt, ändert sich der Eigenschafts Wert automatisch.</span><span class="sxs-lookup"><span data-stu-id="8857e-155">When the user types text in a `TextBox`, the property value automatically changes.</span></span>

 <span data-ttu-id="8857e-156">*Teile © 2005, 2009 Microsoft Corporation. Alle Rechte vorbehalten.*</span><span class="sxs-lookup"><span data-stu-id="8857e-156">*Portions © 2005, 2009 Microsoft Corporation. All rights reserved.*</span></span>

 <span data-ttu-id="8857e-157">*Nachdruck mit Genehmigung von Pearson Education, Inc aus [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) von Krzysztof Cwalina und Brad Abrams, veröffentlicht am 22. Oktober 2008 durch Addison-Wesley Professional als Teil der Microsoft Windows Development Series.*</span><span class="sxs-lookup"><span data-stu-id="8857e-157">*Reprinted by permission of Pearson Education, Inc. from [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.*</span></span>

## <a name="see-also"></a><span data-ttu-id="8857e-158">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="8857e-158">See also</span></span>

- [<span data-ttu-id="8857e-159">Entwurfsrichtlinien für Member</span><span class="sxs-lookup"><span data-stu-id="8857e-159">Member Design Guidelines</span></span>](../../../docs/standard/design-guidelines/member.md)
- [<span data-ttu-id="8857e-160">Frameworkentwurfsrichtlinien</span><span class="sxs-lookup"><span data-stu-id="8857e-160">Framework Design Guidelines</span></span>](../../../docs/standard/design-guidelines/index.md)
