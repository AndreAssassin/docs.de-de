---
title: Einführung in die XML-Serialisierung
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- XML serialization, about XML serialization
- ICollection interface, serializing
- XmlSerializer class, serializing
- serialization, about serialization
- DataSet class, serializing
- XML Schema, serializing
ms.assetid: 8c63200d-db63-4a03-a93d-21641623df62
ms.openlocfilehash: 491819c52c5bb1e7767e41fce7e56d8f95d10286
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/23/2019
ms.locfileid: "61933691"
---
# <a name="introducing-xml-serialization"></a><span data-ttu-id="3f98a-102">Einführung in die XML-Serialisierung</span><span class="sxs-lookup"><span data-stu-id="3f98a-102">Introducing XML Serialization</span></span>

<span data-ttu-id="3f98a-103">Unter Serialisierung wird das Konvertieren des Zustands eines Objekts in eine Form verstanden, die sofort transportiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="3f98a-103">Serialization is the process of converting an object into a form that can be readily transported.</span></span> <span data-ttu-id="3f98a-104">Beispielsweise können Sie ein Objekt serialisieren und mittels HTTP über das Internet zwischen einem Client und einem Server transportieren.</span><span class="sxs-lookup"><span data-stu-id="3f98a-104">For example, you can serialize an object and transport it over the Internet using HTTP between a client and a server.</span></span> <span data-ttu-id="3f98a-105">Bei der Deserialisierung wird das Objekt dagegen aus dem Stream rekonstruiert.</span><span class="sxs-lookup"><span data-stu-id="3f98a-105">On the other end, deserialization reconstructs the object from the stream.</span></span>

 <span data-ttu-id="3f98a-106">Die XML-Serialisierung serialisiert nur die öffentlichen Felder und die Eigenschaftenwerte eines Objekts in einen XML-Stream.</span><span class="sxs-lookup"><span data-stu-id="3f98a-106">XML serialization serializes only the public fields and property values of an object into an XML stream.</span></span> <span data-ttu-id="3f98a-107">Bei der XML-Serialisierung werden keine Typinformationen eingeschlossen.</span><span class="sxs-lookup"><span data-stu-id="3f98a-107">XML serialization does not include type information.</span></span> <span data-ttu-id="3f98a-108">Wenn beispielsweise ein **Book**-Objekt gegeben ist, das im **Library**-Namespace existiert, ist nicht garantiert, dass es in ein Objekt des gleichen Typs deserialisiert wird.</span><span class="sxs-lookup"><span data-stu-id="3f98a-108">For example, if you have a **Book** object that exists in the **Library** namespace, there is no guarantee that it is deserialized into an object of the same type.</span></span>

> [!NOTE]
> <span data-ttu-id="3f98a-109">Methoden, Indexer, private Felder und schreibgeschützte Eigenschaften(ausgenommen schreibgeschützte Auflistungen) werden bei der XML-Serialisierung nicht konvertiert.</span><span class="sxs-lookup"><span data-stu-id="3f98a-109">XML serialization does not convert methods, indexers, private fields, or read-only properties (except read-only collections).</span></span> <span data-ttu-id="3f98a-110">Verwenden Sie <xref:System.Runtime.Serialization.DataContractSerializer> statt der XML-Serialisierung, wenn alle öffentlichen und privaten Felder und Eigenschaften eines Objekts serialisiert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="3f98a-110">To serialize all an object's fields and properties, both public and private, use the <xref:System.Runtime.Serialization.DataContractSerializer> instead of XML serialization.</span></span>

 <span data-ttu-id="3f98a-111">Bei der XML-Serialisierung ist die <xref:System.Xml.Serialization.XmlSerializer>-Klasse die zentrale Klasse, und die wichtigsten Methoden dieser Klasse sind die **Serialize**-Methode und die **Deserialize**-Methode.</span><span class="sxs-lookup"><span data-stu-id="3f98a-111">The central class in XML serialization is the <xref:System.Xml.Serialization.XmlSerializer> class, and the most important methods in this class are the **Serialize** and **Deserialize** methods.</span></span> <span data-ttu-id="3f98a-112"><xref:System.Xml.Serialization.XmlSerializer> erstellt C#-Dateien und kompiliert sie in DLL-Dateien, um diese Serialisierung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="3f98a-112">The <xref:System.Xml.Serialization.XmlSerializer> creates C# files and compiles them into .dll files to perform this serialization.</span></span> <span data-ttu-id="3f98a-113">In .NET Framework 2.0 ist [XML Serializer Generator Tool (Sgen.exe)](xml-serializer-generator-tool-sgen-exe.md) dafür konzipiert, diese Serialisierungsassemblys vorab zu erzeugen, die zusammen mit der Anwendung bereitgestellt werden sollen, und die Startleistung zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="3f98a-113">In .NET Framework 2.0, the [XML Serializer Generator Tool (Sgen.exe)](xml-serializer-generator-tool-sgen-exe.md) is designed to generate these serialization assemblies in advance to be deployed with your application and improve startup performance.</span></span> <span data-ttu-id="3f98a-114">Der XML-Stream von generiert die **XmlSerializer** ist kompatibel mit der Spezifikation des World Wide Web Consortium (W3C) [XML-Schemadefinitionssprache (XSD) 1.0 Empfehlung](https://www.w3.org/TR/xslt).</span><span class="sxs-lookup"><span data-stu-id="3f98a-114">The XML stream generated by the **XmlSerializer** is compliant with the World Wide Web Consortium (W3C) [XML Schema definition language (XSD) 1.0 recommendation](https://www.w3.org/TR/xslt).</span></span> <span data-ttu-id="3f98a-115">Darüber hinaus die generierten Datentypen kompatibel sind mit dem Dokument mit dem Titel "XML Schema Part 2: "Datatypes."</span><span class="sxs-lookup"><span data-stu-id="3f98a-115">Furthermore, the data types generated are compliant with the document titled "XML Schema Part 2: Datatypes."</span></span>

 <span data-ttu-id="3f98a-116">Die Daten des Objekts werden durch Konstrukte der Programmiersprache beschrieben, z.B. Klassen, Felder, Eigenschaften, primitive Typen, Arrays oder auch eingebettetes XML in Form von **XmlElement**- oder **XmlAttribute**-Objekten.</span><span class="sxs-lookup"><span data-stu-id="3f98a-116">The data in your objects is described using programming language constructs like classes, fields, properties, primitive types, arrays, and even embedded XML in the form of **XmlElement** or **XmlAttribute** objects.</span></span> <span data-ttu-id="3f98a-117">Sie können eigene, mit Attributen versehene Klassen erstellen oder Klassen mit dem XML Schema Definition-Tool auf der Grundlage eines vorhandenen XML-Schemas generieren.</span><span class="sxs-lookup"><span data-stu-id="3f98a-117">You have the option of creating your own classes, annotated with attributes, or using the XML Schema Definition tool to generate the classes based on an existing XML Schema.</span></span>

 <span data-ttu-id="3f98a-118">Wenn ein XML-Schema gegeben ist, können Sie das XML Schema Definition-Tool ausführen und so eine Reihe von Klassen erstellen, die für dieses Schema streng typisiert und mit Attributen versehen sind.</span><span class="sxs-lookup"><span data-stu-id="3f98a-118">If you have an XML Schema, you can run the XML Schema Definition tool to produce a set of classes that are strongly typed to the schema and annotated with attributes.</span></span> <span data-ttu-id="3f98a-119">Wenn eine Instanz einer solchen Klasse serialisiert wird, entspricht der generierte XML-Code dem XML-Schema.</span><span class="sxs-lookup"><span data-stu-id="3f98a-119">When an instance of such a class is serialized, the generated XML adheres to the XML Schema.</span></span> <span data-ttu-id="3f98a-120">Wenn eine solche Klasse gegeben ist, können Sie mit einem einfach bearbeitbaren Objektmodell programmieren und gleichzeitig sicher sein, dass der erzeugte XML-Code dem XML-Schema entspricht.</span><span class="sxs-lookup"><span data-stu-id="3f98a-120">Provided with such a class, you can program against an easily manipulated object model while being assured that the generated XML conforms to the XML schema.</span></span> <span data-ttu-id="3f98a-121">Dies ist eine Alternative dazu, andere Klassen von .NET Framework, wie die **XmlReader**-Klasse und die **XmlWriter**-Klasse, zum Analysieren und Schreiben von XML-Streams zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="3f98a-121">This is an alternative to using other classes in the .NET Framework, such as the **XmlReader** and **XmlWriter** classes, to parse and write an XML stream.</span></span> <span data-ttu-id="3f98a-122">Weitere Informationen hierzu finden Sie unter [XML Documents and Data (XML-Dokumente und -Daten)](../../../docs/standard/data/xml/index.md).</span><span class="sxs-lookup"><span data-stu-id="3f98a-122">For more information, see [XML Documents and Data](../../../docs/standard/data/xml/index.md).</span></span> <span data-ttu-id="3f98a-123">Diese Klassen ermöglichen es Ihnen, jeden XML-Stream zu analysieren.</span><span class="sxs-lookup"><span data-stu-id="3f98a-123">These classes allow you to parse any XML stream.</span></span> <span data-ttu-id="3f98a-124">Verwenden Sie dagegen **XmlSerializer**, wenn der XML-Stream einem bekannten XML-Schema entsprechen soll.</span><span class="sxs-lookup"><span data-stu-id="3f98a-124">In contrast, use the **XmlSerializer** when the XML stream is expected to conform to a known XML Schema.</span></span>

 <span data-ttu-id="3f98a-125">Attribute steuern den von der **XmlSerializer**-Klasse generierten XML-Stream und ermöglichen es Ihnen, den XML-Namespace, den Elementnamen, den Attributnamen usw. des XML-Streams festzulegen.</span><span class="sxs-lookup"><span data-stu-id="3f98a-125">Attributes control the XML stream generated by the **XmlSerializer** class, allowing you to set the XML namespace, element name, attribute name, and so on, of the XML stream.</span></span> <span data-ttu-id="3f98a-126">Weitere Informationen zu diesen Attributen und ihrer Funktion in Bezug auf die XML-Serialisierung finden Sie unter [Controlling XML Serialization Using Attributes (Steuern der XML-Serialisierung mithilfe von Attributen)](controlling-xml-serialization-using-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="3f98a-126">For more information about these attributes and how they control XML serialization, see [Controlling XML Serialization Using Attributes](controlling-xml-serialization-using-attributes.md).</span></span> <span data-ttu-id="3f98a-127">Eine Tabelle der Attribute, die sich auf den generierten XML-Code auswirken, finden Sie unter [Attributes That Control XML Serialization (Attribute zum Steuern der XML-Serialisierung)](attributes-that-control-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="3f98a-127">For a table of those attributes that are used to control the generated XML, see [Attributes That Control XML Serialization](attributes-that-control-xml-serialization.md).</span></span>

 <span data-ttu-id="3f98a-128">Die **XmlSerializer**-Klasse kann überdies ein Objekt serialisieren und einen codierten SOAP-XML-Stream generieren.</span><span class="sxs-lookup"><span data-stu-id="3f98a-128">The **XmlSerializer** class can further serialize an object and generate an encoded SOAP XML stream.</span></span> <span data-ttu-id="3f98a-129">Das generierte XML entspricht Abschnitt 5 des World Wide Web Consortium-Dokuments mit dem Titel "Simple Object Access-Protokoll (SOAP) 1.1."</span><span class="sxs-lookup"><span data-stu-id="3f98a-129">The generated XML adheres to section 5 of the World Wide Web Consortium document titled "Simple Object Access Protocol (SOAP) 1.1."</span></span> <span data-ttu-id="3f98a-130">Weitere Informationen zu diesem Prozess finden Sie unter [Vorgehensweise: Serialisieren eines Objekts als ein SOAP-codierten XML-Stream](how-to-serialize-an-object-as-a-soap-encoded-xml-stream.md).</span><span class="sxs-lookup"><span data-stu-id="3f98a-130">For more information about this process, see [How to: Serialize an Object as a SOAP-Encoded XML Stream](how-to-serialize-an-object-as-a-soap-encoded-xml-stream.md).</span></span> <span data-ttu-id="3f98a-131">Eine Tabelle der Attribute, die sich auf den generierten XML-Code auswirken, finden Sie unter [Attributes That Control Encoded SOAP Serialization (Attribute zum Steuern der codierten SOAP-Serialisierung)](attributes-that-control-encoded-soap-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="3f98a-131">For a table of the attributes that control the generated XML, see [Attributes That Control Encoded SOAP Serialization](attributes-that-control-encoded-soap-serialization.md).</span></span>

 <span data-ttu-id="3f98a-132">Die **XmlSerializer**-Klasse generiert die SOAP-Nachrichten, die durch XML-Webdienste erstellt und an XML-Webdienste übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="3f98a-132">The **XmlSerializer** class generates the SOAP messages created by, and passed to, XML Web services.</span></span> <span data-ttu-id="3f98a-133">Zur Steuerung der SOAP-Nachrichten können Sie Attribute auf die Klassen, Rückgabewerte, Parameter und Felder einer Webdienstdatei (ASMX) anwenden.</span><span class="sxs-lookup"><span data-stu-id="3f98a-133">To control the SOAP messages, you can apply attributes to the classes, return values, parameters, and fields found in an XML Web service file (.asmx).</span></span> <span data-ttu-id="3f98a-134">Sie können sowohl die unter "Attribute zur Steuerung der XML-Serialisierung" als auch die unter "Attribute zur Steuerung der Serialisierung von codiertem SOAP" aufgeführten Attribute verwenden, weil XML-Webdienste sowohl das literale als auch das codierte SOAP-Format verarbeiten können.</span><span class="sxs-lookup"><span data-stu-id="3f98a-134">You can use both the attributes listed in "Attributes That Control XML Serialization" and "Attributes That Control Encoded SOAP Serialization" because an XML Web service can use either the literal or encoded SOAP style.</span></span> <span data-ttu-id="3f98a-135">Weitere Informationen dazu, wie sich der von einem XML-Webdienst erzeugte XML-Code mit Attributen steuern lässt, finden Sie unter [XML Serialization with XML Web Services (XML-Serialisierung mit XML-Webdiensten)](xml-serialization-with-xml-web-services.md).</span><span class="sxs-lookup"><span data-stu-id="3f98a-135">For more information about using attributes to control the XML generated by an XML Web service, see [XML Serialization with XML Web Services](xml-serialization-with-xml-web-services.md).</span></span> <span data-ttu-id="3f98a-136">Weitere Informationen zu SOAP und XML-Webdiensten, finden Sie unter [Anpassen von SOAP-Nachricht formatieren](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dkwy2d72(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="3f98a-136">For more information about SOAP and XML Web services, see [Customizing SOAP Message Formatting](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dkwy2d72(v=vs.100)).</span></span>

## <a name="security-considerations-for-xmlserializer-applications"></a><span data-ttu-id="3f98a-137">Sicherheitsüberlegungen zu XmlSerializer-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="3f98a-137">Security Considerations for XmlSerializer Applications</span></span>

<span data-ttu-id="3f98a-138">Beim Erstellen einer Anwendung, die die **XmlSerializer**-Klasse verwendet, sollten Ihnen die folgenden Elemente und deren Auswirkungen bekannt sein:</span><span class="sxs-lookup"><span data-stu-id="3f98a-138">When creating an application that uses the **XmlSerializer**, you should be aware of the following items and their implications:</span></span>

- <span data-ttu-id="3f98a-139">Die **XmlSerializer**-Klasse erstellt C#-Dateien (CS), kompiliert sie zu DLL-Dateien und legt diese in dem Verzeichnis ab, das durch die Umgebungsvariable TEMP angegeben wird. Die Deserialisierung wird in diesen DLL-Dateien ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="3f98a-139">The **XmlSerializer** creates C# (.cs) files and compiles them into .dll files in the directory named by the TEMP environment variable; serialization occurs with those DLLs.</span></span>

  > [!NOTE]
  > <span data-ttu-id="3f98a-140">Diese Serialisierungsassemblys können mit dem Tool SGen.exe im Voraus erzeugt und signiert werden.</span><span class="sxs-lookup"><span data-stu-id="3f98a-140">These serialization assemblies can be generated in advance and signed by using the SGen.exe tool.</span></span> <span data-ttu-id="3f98a-141">Dieses Tool kann nicht auf einem Server von Webdiensten ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="3f98a-141">This does not work a server of Web services.</span></span> <span data-ttu-id="3f98a-142">Das heißt, es kann nur von Clients und für die manuelle Serialisierung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="3f98a-142">In other words, it is only for client use and for manual serialization.</span></span>

  <span data-ttu-id="3f98a-143">Der Code und die DLL-Dateien sind während ihrer Erstellung und Kompilierung anfällig gegenüber bösartigen Prozessen.</span><span class="sxs-lookup"><span data-stu-id="3f98a-143">The code and the DLLs are vulnerable to a malicious process at the time of creation and compilation.</span></span> <span data-ttu-id="3f98a-144">Wenn ein Computer mit Microsoft Windows NT 4.0 oder höher eingesetzt wird, können zwei oder mehr Benutzer gemeinsam auf das Verzeichnis TEMP zugreifen.</span><span class="sxs-lookup"><span data-stu-id="3f98a-144">When using a computer running Microsoft Windows NT 4.0 or later, it might be possible for two or more users to share the TEMP directory.</span></span> <span data-ttu-id="3f98a-145">Die gemeinsame Nutzung eines TEMP-Verzeichnisses ist gefährlich, wenn die beiden Konten über unterschiedliche Sicherheitsberechtigungen verfügen und der Benutzer mit den höheren Sicherheitsberechtigungen eine Anwendung ausführt, die **XmlSerializer** verwendet.</span><span class="sxs-lookup"><span data-stu-id="3f98a-145">Sharing a TEMP directory is dangerous if the two accounts have different security privileges and the higher-privilege account runs an application using the **XmlSerializer**.</span></span> <span data-ttu-id="3f98a-146">In diesem Fall kann ein Benutzer die Sicherheit des Computers verletzen, indem er die CS- oder die DLL-Datei, die kompiliert wird, durch eine andere Datei ersetzt.</span><span class="sxs-lookup"><span data-stu-id="3f98a-146">In this case, one user can breach the computer's security by replacing either the .cs or .dll file that is compiled.</span></span> <span data-ttu-id="3f98a-147">Um diesen Aspekt auszuschließen, stellen Sie immer sicher, dass für jedes Benutzerkonto auf dem Computer ein eigenes Profil vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="3f98a-147">To eliminate this concern, always be sure that each account on the computer has its own profile.</span></span> <span data-ttu-id="3f98a-148">Standardmäßig zeigt die TEMP-Umgebungsvariable für jedes Konto auf ein anderes Verzeichnis.</span><span class="sxs-lookup"><span data-stu-id="3f98a-148">By default, the TEMP environment variable points to a different directory for each account.</span></span>

- <span data-ttu-id="3f98a-149">Wenn ein böswilliger Benutzer einen fortlaufenden Stream von XML-Daten an einen Webserver sendet (ein Denial-of-Service-Angriff), dann fährt die **XmlSerializer**-Anwendung solange mit der Verarbeitung von Daten fort, bis die Ressourcen des Computers erschöpft sind.</span><span class="sxs-lookup"><span data-stu-id="3f98a-149">If a malicious user sends a continuous stream of XML data to a Web server (a denial of service attack), then the **XmlSerializer** continues to process the data until the computer runs low on resources.</span></span>

  <span data-ttu-id="3f98a-150">Diese Art von Angriff wird unterbunden, wenn ein Computer mit Internet Information Services (IIS) verwendet und die Anwendung in IIS ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="3f98a-150">This kind of attack is eliminated if you are using a computer running Internet Information Services (IIS), and your application is running within IIS.</span></span> <span data-ttu-id="3f98a-151">IIS umfasst ein Gate, das keine Streams verarbeitet, die größer als ein definierter Wert (der Standardwert ist 4 KB) sind.</span><span class="sxs-lookup"><span data-stu-id="3f98a-151">IIS features a gate that does not process streams longer than a set amount (the default is 4 KB).</span></span> <span data-ttu-id="3f98a-152">Wenn Sie eine Anwendung erstellen, die IIS nicht verwendet und mit **XmlSerializer** deserialisiert, sollten Sie ein ähnliches Gate implementieren, das Denial-of-Service-Angriffe verhindert.</span><span class="sxs-lookup"><span data-stu-id="3f98a-152">If you create an application that does not use IIS and deserializes with the **XmlSerializer**, you should implement a similar gate that prevents a denial of service attack.</span></span>

- <span data-ttu-id="3f98a-153">**XmlSerializer** serialisiert Daten und führt jeden Code mit jedem ihm gegebenen Typ aus.</span><span class="sxs-lookup"><span data-stu-id="3f98a-153">The **XmlSerializer** serializes data and runs any code using any type given to it.</span></span>

  <span data-ttu-id="3f98a-154">Ein bösartiges Objekt kann auf zweierlei Art eine Bedrohung darstellen.</span><span class="sxs-lookup"><span data-stu-id="3f98a-154">There are two ways in which a malicious object presents a threat.</span></span> <span data-ttu-id="3f98a-155">Es kann bösartigen Code ausführen, und es kann bösartigen Code in die C#-Datei einfügen, die von **XmlSerializer** erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="3f98a-155">It could run malicious code or it could inject malicious code into the C# file created by the **XmlSerializer**.</span></span> <span data-ttu-id="3f98a-156">Im ersten Fall, wenn ein bösartiges Objekt eine zerstörerische Prozedur auszuführen versucht, trägt die Codezugriffssicherheit dazu bei, dass kein Schaden angerichtet werden kann.</span><span class="sxs-lookup"><span data-stu-id="3f98a-156">In the first case, if a malicious object tries to run a destructive procedure, code access security helps prevent any damage from being done.</span></span> <span data-ttu-id="3f98a-157">Im zweiten Fall besteht theoretisch die Möglichkeit, dass ein bösartiges Objekt auf irgendeine Weise Code in die von **XmlSerializer** erzeugte C#-Datei einfügen kann.</span><span class="sxs-lookup"><span data-stu-id="3f98a-157">In the second case, there is a theoretical possibility that a malicious object may somehow inject code into the C# file created by the **XmlSerializer**.</span></span> <span data-ttu-id="3f98a-158">Obwohl dieses Problem gründlich untersucht wurde ein solcher Angriff als unwahrscheinlich gilt, sollten Sie entsprechende Vorsichtsmaßnahmen treffen und nie Daten mit einem unbekannten oder nicht vertrauenswürdigen Typ serialisieren.</span><span class="sxs-lookup"><span data-stu-id="3f98a-158">Although this issue has been examined thoroughly, and such an attack is considered unlikely, you should take the precaution of never serializing data with an unknown and untrusted type.</span></span>

- <span data-ttu-id="3f98a-159">Serialisierte vertrauliche Daten sind unter Umständen verwundbar.</span><span class="sxs-lookup"><span data-stu-id="3f98a-159">Serialized sensitive data might be vulnerable.</span></span>

  <span data-ttu-id="3f98a-160">Nach der **XmlSerializer** serialisiert wurden, können Sie eine XML-Datei oder andere Datenspeicher gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="3f98a-160">After the **XmlSerializer** has serialized data, it can be stored as an XML file or other data store.</span></span> <span data-ttu-id="3f98a-161">Wenn dieser Datenspeicher für andere Prozesse zugänglich oder im Intranet oder dem Internet sichtbar ist, können die Daten gestohlen und missbraucht werden.</span><span class="sxs-lookup"><span data-stu-id="3f98a-161">If your data store is available to other processes, or is visible on an intranet or the Internet, the data can be stolen and used maliciously.</span></span> <span data-ttu-id="3f98a-162">Wenn Sie beispielsweise eine Anwendung erstellen, die Bestellungen serialisiert, welche Kreditkartennummern enthalten, dann sind diese Daten streng vertraulich.</span><span class="sxs-lookup"><span data-stu-id="3f98a-162">For example, if you create an application that serializes orders that include credit card numbers, the data is highly sensitive.</span></span> <span data-ttu-id="3f98a-163">Um Missbrauch oder Diebstahl zu verhindern, sollten Sie den Speicherort der Daten stets schützen und durch geeignete Maßnahmen sicherstellen, dass die Daten vertraulich bleiben.</span><span class="sxs-lookup"><span data-stu-id="3f98a-163">To help prevent this, always protect the store for your data and take steps to keep it private.</span></span>

## <a name="serialization-of-a-simple-class"></a><span data-ttu-id="3f98a-164">Serialisierung einer einfachen Klasse</span><span class="sxs-lookup"><span data-stu-id="3f98a-164">Serialization of a Simple Class</span></span>

<span data-ttu-id="3f98a-165">Im folgenden Codebeispiel wird eine grundlegende Klasse mit einem öffentlichen Feld veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="3f98a-165">The following code example shows a basic class with a public field.</span></span>

```vb
Public Class OrderForm
    Public OrderDate As DateTime
End Class
```

```csharp
public class OrderForm
{
    public DateTime OrderDate;
}
```

<span data-ttu-id="3f98a-166">Wenn eine Instanz dieser Klasse serialisiert wird, könnte dies etwa so aussehen.</span><span class="sxs-lookup"><span data-stu-id="3f98a-166">When an instance of this class is serialized, it might resemble the following.</span></span>

```xml
<OrderForm>
    <OrderDate>12/12/01</OrderDate>
</OrderForm>
```

<span data-ttu-id="3f98a-167">Weitere Beispiele zur Serialisierung finden Sie unter [Examples of XML Serialization (Beispiele für die XML-Serialisierung)](examples-of-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="3f98a-167">For more examples of serialization, see [Examples of XML Serialization](examples-of-xml-serialization.md).</span></span>

## <a name="items-that-can-be-serialized"></a><span data-ttu-id="3f98a-168">Elemente, die serialisiert werden können</span><span class="sxs-lookup"><span data-stu-id="3f98a-168">Items That Can Be Serialized</span></span>

<span data-ttu-id="3f98a-169">Die folgenden Elemente können mit der **XmlSerializer**-Klasse serialisiert werden:</span><span class="sxs-lookup"><span data-stu-id="3f98a-169">The following items can be serialized using the **XmLSerializer** class:</span></span>

- <span data-ttu-id="3f98a-170">Öffentliche Eigenschaften mit Lese-/Schreibzugriff und Felder von öffentlichen Klassen</span><span class="sxs-lookup"><span data-stu-id="3f98a-170">Public read/write properties and fields of public classes.</span></span>

- <span data-ttu-id="3f98a-171">Klassen, die **ICollection** oder **IEnumerable** implementieren.</span><span class="sxs-lookup"><span data-stu-id="3f98a-171">Classes that implement **ICollection** or **IEnumerable**.</span></span>

  > [!NOTE]
  > <span data-ttu-id="3f98a-172">Nur Auflistungen werden serialisiert, öffentliche Eigenschaften nicht</span><span class="sxs-lookup"><span data-stu-id="3f98a-172">Only collections are serialized, not public properties.</span></span>

- <span data-ttu-id="3f98a-173">**XmlElement**-Objekte.</span><span class="sxs-lookup"><span data-stu-id="3f98a-173">**XmlElement** objects.</span></span>

- <span data-ttu-id="3f98a-174">**XmlNode**-Objekte.</span><span class="sxs-lookup"><span data-stu-id="3f98a-174">**XmlNode** objects.</span></span>

- <span data-ttu-id="3f98a-175">**DataSet**-Objekte.</span><span class="sxs-lookup"><span data-stu-id="3f98a-175">**DataSet** objects.</span></span>

 <span data-ttu-id="3f98a-176">Weitere Informationen zur Serialisierung und Deserialisierung von Objekten finden Sie unter [Vorgehensweise: Ein Objekt serialisieren](how-to-serialize-an-object.md) und [Vorgehensweise: Deserialisieren eines Objekts](how-to-deserialize-an-object.md).</span><span class="sxs-lookup"><span data-stu-id="3f98a-176">For more information about serializing or deserializing objects, see [How to: Serialize an Object](how-to-serialize-an-object.md) and [How to: Deserialize an Object](how-to-deserialize-an-object.md).</span></span>

## <a name="advantages-of-using-xml-serialization"></a><span data-ttu-id="3f98a-177">Vorteile der XML-Serialisierung</span><span class="sxs-lookup"><span data-stu-id="3f98a-177">Advantages of Using XML Serialization</span></span>

<span data-ttu-id="3f98a-178">Die **XmlSerializer** -Klasse gibt Ihnen uneingeschränkte und flexibles Kontrolle beim Serialisieren eines Objekts als XML.</span><span class="sxs-lookup"><span data-stu-id="3f98a-178">The **XmlSerializer** class gives you complete and flexible control when you serialize an object as XML.</span></span> <span data-ttu-id="3f98a-179">Wenn Sie einen XML-Webdienst erstellen, können Sie Attribute, die die Serialisierung steuern, auf Klassen und Member anwenden, um sicherzustellen, dass die XML-Ausgabe dem gegebenen Schema entspricht.</span><span class="sxs-lookup"><span data-stu-id="3f98a-179">If you are creating an XML Web service, you can apply attributes that control serialization to classes and members to ensure that the XML output conforms to a specific schema.</span></span>

<span data-ttu-id="3f98a-180">**XmlSerializer** ermöglicht beispielsweise Folgendes:</span><span class="sxs-lookup"><span data-stu-id="3f98a-180">For example, **XmlSerializer** enables you to:</span></span>

- <span data-ttu-id="3f98a-181">Angeben, ob ein Feld oder eine Eigenschaft als Attribut oder ein Element codiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="3f98a-181">Specify whether a field or property should be encoded as an attribute or an element.</span></span>

- <span data-ttu-id="3f98a-182">Angeben des zu verwendenden XML-Namespace.</span><span class="sxs-lookup"><span data-stu-id="3f98a-182">Specify an XML namespace to use.</span></span>

- <span data-ttu-id="3f98a-183">Angeben des Namens eines Elements oder Attributs, wenn ein Feld- oder Eigenschaftenname unpassend ist.</span><span class="sxs-lookup"><span data-stu-id="3f98a-183">Specify the name of an element or attribute if a field or property name is inappropriate.</span></span>

<span data-ttu-id="3f98a-184">Ein weiterer Vorteil der XM-Serialisierung besteht darin, dass für die von Ihnen entwickelten Anwendungen keine Einschränkungen gelten, solange der erzeugte XML-Stream dem gegebenen Schema entspricht.</span><span class="sxs-lookup"><span data-stu-id="3f98a-184">Another advantage of XML serialization is that you have no constraints on the applications you develop, as long as the XML stream that is generated conforms to a given schema.</span></span> <span data-ttu-id="3f98a-185">Stellen Sie sich ein Schema vor, das das zum Beschreiben von Büchern dient.</span><span class="sxs-lookup"><span data-stu-id="3f98a-185">Imagine a schema that is used to describe books.</span></span> <span data-ttu-id="3f98a-186">Es stellt als Elemente den Titel, Autor, Verleger und die ISBN-Nummer zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="3f98a-186">It features a title, author, publisher, and ISBN number element.</span></span> <span data-ttu-id="3f98a-187">Sie können eine Anwendung entwickeln, die die XML-Daten auf die gewünschte Weise verarbeitet, z. B. als Buchbestellung oder Bücherbestand.</span><span class="sxs-lookup"><span data-stu-id="3f98a-187">You can develop an application that processes the XML data in any way you want, for example, as a book order, or as an inventory of books.</span></span> <span data-ttu-id="3f98a-188">In beiden Fällen besteht die einzige Anforderung darin, dass der XML-Stream dem angegebenen XSD-Schema (XML Schema Definition Language) entspricht.</span><span class="sxs-lookup"><span data-stu-id="3f98a-188">In either case, the only requirement is that the XML stream conforms to the specified XML Schema definition language (XSD) schema.</span></span>

## <a name="xml-serialization-considerations"></a><span data-ttu-id="3f98a-189">Überlegungen zur XML-Serialisierung</span><span class="sxs-lookup"><span data-stu-id="3f98a-189">XML Serialization Considerations</span></span>

<span data-ttu-id="3f98a-190">Folgende Punkte sollten bei der Verwendung der **XmlSerializer**-Klasse berücksichtigt werden:</span><span class="sxs-lookup"><span data-stu-id="3f98a-190">The following should be considered when using the **XmlSerializer** class:</span></span>

- <span data-ttu-id="3f98a-191">Das Tool Sgen.exe wurde speziell entworfen, um Serialisierungsassemblys mit optimaler Leistung zu generieren.</span><span class="sxs-lookup"><span data-stu-id="3f98a-191">The Sgen.exe tool is expressly designed to generate serialization assemblies for optimum performance.</span></span>

- <span data-ttu-id="3f98a-192">Die serialisierten Daten enthalten nur die Daten selbst und die Struktur der Klassen.</span><span class="sxs-lookup"><span data-stu-id="3f98a-192">The serialized data contains only the data itself and the structure of your classes.</span></span> <span data-ttu-id="3f98a-193">Typidentität und Assemblyinformationen sind nicht darin enthalten.</span><span class="sxs-lookup"><span data-stu-id="3f98a-193">Type identity and assembly information are not included.</span></span>

- <span data-ttu-id="3f98a-194">Es können nur öffentliche Eigenschaften und Felder serialisiert werden.</span><span class="sxs-lookup"><span data-stu-id="3f98a-194">Only public properties and fields can be serialized.</span></span> <span data-ttu-id="3f98a-195">Eigenschaften müssen über öffentliche Accessoren (get- und set-Methoden) verfügen.</span><span class="sxs-lookup"><span data-stu-id="3f98a-195">Properties must have public accessors (get and set methods).</span></span> <span data-ttu-id="3f98a-196">Wenn nicht öffentliche Daten serialisiert werden müssen, verwenden Sie die <xref:System.Runtime.Serialization.DataContractSerializer>-Klasse statt der XML-Serialisierung.</span><span class="sxs-lookup"><span data-stu-id="3f98a-196">If you must serialize non-public data, use the <xref:System.Runtime.Serialization.DataContractSerializer> class rather than XML serialization.</span></span>

- <span data-ttu-id="3f98a-197">Eine Klasse muss über einen Standardkonstruktor verfügen, damit sie von **XmlSerializer** serialisiert wird.</span><span class="sxs-lookup"><span data-stu-id="3f98a-197">A class must have a default constructor to be serialized by **XmlSerializer**.</span></span>

- <span data-ttu-id="3f98a-198">Methoden können nicht serialisiert werden.</span><span class="sxs-lookup"><span data-stu-id="3f98a-198">Methods cannot be serialized.</span></span>

- <span data-ttu-id="3f98a-199">**XmlSerializer** kann Klassen verarbeiten, die **IEnumerable** oder **ICollection** anders implementieren, wenn sie die folgenden Anforderungen erfüllen.</span><span class="sxs-lookup"><span data-stu-id="3f98a-199">**XmlSerializer** can process classes that implement **IEnumerable** or **ICollection** differently if they meet certain requirements, as follows.</span></span>

  <span data-ttu-id="3f98a-200">Eine Klasse, die **IEnumerable** implementiert, muss eine öffentliche **Add**-Methode mit einem einzigen Parameter implementieren.</span><span class="sxs-lookup"><span data-stu-id="3f98a-200">A class that implements **IEnumerable** must implement a public **Add** method that takes a single parameter.</span></span> <span data-ttu-id="3f98a-201">Der Parameter der **Add**-Methode muss von dem Typ (polymorph) sein, den die **IEnumerator.Current**-Eigenschaft zurückgibt, die von der **GetEnumerator**-Methode zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="3f98a-201">The **Add** method's parameter must be consistent (polymorphic) with the type returned from the **IEnumerator.Current** property returned from the **GetEnumerator** method.</span></span>

  <span data-ttu-id="3f98a-202">Eine Klasse, die **ICollection** zusätzlich zu **IEnumerable** implementiert (z.B. **CollectionBase**) muss eine öffentliche und mit **Item** indizierte Eigenschaft (Indexer in C#), die einen Integer-Wert annimmt, sowie eine öffentliche **Count**-Eigenschaft vom Typ **Integer** aufweisen.</span><span class="sxs-lookup"><span data-stu-id="3f98a-202">A class that implements **ICollection** in addition to **IEnumerable** (such as **CollectionBase**) must have a public **Item** indexed property (an indexer in C#) that takes an integer and it must have a public **Count** property of type **integer**.</span></span> <span data-ttu-id="3f98a-203">Der Parameter, der der **Add**-Methode übergeben wird, muss vom gleichen Typ sein wie der Wert, den die **Item**-Eigenschaft zurückgibt, oder muss ein Basistyp dieses Typs sein.</span><span class="sxs-lookup"><span data-stu-id="3f98a-203">The parameter passed to the **Add** method must be the same type as that returned from the **Item** property, or one of that type's bases.</span></span>

  <span data-ttu-id="3f98a-204">Bei Klassen, die **ICollection** implementieren, werden die zu serialisierenden Werte nicht durch einen Aufruf von **Item**, sondern über die indizierte **GetEnumerator**-Eigenschaft abgerufen.</span><span class="sxs-lookup"><span data-stu-id="3f98a-204">For classes that implement **ICollection**, values to be serialized are retrieved from the indexed **Item** property rather than by calling **GetEnumerator**.</span></span> <span data-ttu-id="3f98a-205">Öffentliche Felder und Eigenschaften werden nicht serialisiert, mit Ausnahme von öffentlichen Feldern, die eine andere Auflistungsklasse zurückgeben (eine Klasse, die **ICollection** implementiert).</span><span class="sxs-lookup"><span data-stu-id="3f98a-205">Also, public fields and properties are not serialized, with the exception of public fields that return another collection class (one that implements **ICollection**).</span></span> <span data-ttu-id="3f98a-206">Ein Beispiel finden Sie in [Examples of XML Serialization (Beispiele für die XML-Serialisierung)](examples-of-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="3f98a-206">For an example, see [Examples of XML Serialization](examples-of-xml-serialization.md).</span></span>

## <a name="xsd-data-type-mapping"></a><span data-ttu-id="3f98a-207">XSD-Datentypzuordnung</span><span class="sxs-lookup"><span data-stu-id="3f98a-207">XSD Data Type Mapping</span></span>

<span data-ttu-id="3f98a-208">Das W3C-Dokument mit dem Titel [XML Schema Part 2: Datentypen](https://www.w3.org/TR/xmlschema-2/) gibt Sie die einfachen Datentypen, die zulässig sind, in ein Schema für XML Schema Definition Language (XSD).</span><span class="sxs-lookup"><span data-stu-id="3f98a-208">The W3C document titled [XML Schema Part 2: Datatypes](https://www.w3.org/TR/xmlschema-2/) specifies the simple data types that are allowed in an XML Schema definition language (XSD) schema.</span></span> <span data-ttu-id="3f98a-209">Für viele dieser Datentypen (beispielsweise **int** und **decimal**) ist ein entsprechender Datentyp im .NET Framework vorhanden.</span><span class="sxs-lookup"><span data-stu-id="3f98a-209">For many of these (for example, **int** and **decimal**), there is a corresponding data type in the .NET Framework.</span></span> <span data-ttu-id="3f98a-210">Für einige XML-Datentypen sind jedoch keine entsprechenden Datentypen im .NET Framework verfügbar (beispielsweise für den Datentyp **NMTOKEN**).</span><span class="sxs-lookup"><span data-stu-id="3f98a-210">However, some XML data types do not have a corresponding data type in the .NET Framework (for example, the **NMTOKEN** data type).</span></span> <span data-ttu-id="3f98a-211">In diesen Fällen erzeugen Sie mit dem XML Schema Definition-Tool ([XML Schema Definition Tool (Xsd.exe)](xml-schema-definition-tool-xsd-exe.md)) Klassen anhand eines Schemas. Ein entsprechendes Attribut wird auf ein Member vom Typ „Zeichenfolge“ angewendet, und die **DataType**-Eigenschaft wird auf den Namen des XML-Datentyps festgelegt.</span><span class="sxs-lookup"><span data-stu-id="3f98a-211">In such cases, if you use the XML Schema Definition tool ([XML Schema Definition Tool (Xsd.exe)](xml-schema-definition-tool-xsd-exe.md)) to generate classes from a schema, an appropriate attribute is applied to a member of type string, and its **DataType** property is set to the XML data type name.</span></span> <span data-ttu-id="3f98a-212">Wenn ein Schema beispielsweise ein Element namens „MyToken“ mit dem XML-Datentyp **NMTOKEN** aufweist, enthält die erzeugte Klasse unter Umständen einen Member, der wie im folgenden Beispiel aussieht.</span><span class="sxs-lookup"><span data-stu-id="3f98a-212">For example, if a schema contains an element named "MyToken" with the XML data type **NMTOKEN**, the generated class might contain a member as shown in the following example.</span></span>

```vb
<XmlElement(DataType:="NMTOKEN")> _
Public MyToken As String
```

```csharp
[XmlElement(DataType = "NMTOKEN")]
public string MyToken;
```

<span data-ttu-id="3f98a-213">Ebenso gilt: Wenn Sie eine Klasse erstellen, die einem bestimmten XML-Schema (XSD) entsprechen soll, müssen Sie das entsprechende Attribut anwenden und deren **DataType**-Eigenschaft auf den Namen des gewünschten XML-Datentyps festlegen.</span><span class="sxs-lookup"><span data-stu-id="3f98a-213">Similarly, if you are creating a class that must conform to a specific XML Schema (XSD), you should apply the appropriate attribute and set its **DataType** property to the desired XML data type name.</span></span>

<span data-ttu-id="3f98a-214">Eine umfassende Liste mit Typzuordnungen finden Sie in der **DataType**-Eigenschaft der folgenden Attributklassen:</span><span class="sxs-lookup"><span data-stu-id="3f98a-214">For a complete list of type mappings, see the **DataType** property for any of the following attribute classes:</span></span>

- <xref:System.Xml.Serialization.SoapAttributeAttribute>

- <xref:System.Xml.Serialization.SoapElementAttribute>

- <xref:System.Xml.Serialization.XmlArrayItemAttribute>

- <xref:System.Xml.Serialization.XmlAttributeAttribute>

- <xref:System.Xml.Serialization.XmlElementAttribute>

- <xref:System.Xml.Serialization.XmlRootAttribute>

## <a name="see-also"></a><span data-ttu-id="3f98a-215">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="3f98a-215">See also</span></span>

- <xref:System.Xml.Serialization.XmlSerializer>
- <xref:System.Runtime.Serialization.DataContractSerializer>
- <xref:System.IO.FileStream>
- [<span data-ttu-id="3f98a-216">XML- und SOAP-Serialisierung</span><span class="sxs-lookup"><span data-stu-id="3f98a-216">XML and SOAP Serialization</span></span>](xml-and-soap-serialization.md)
- [<span data-ttu-id="3f98a-217">Binäre Serialisierung</span><span class="sxs-lookup"><span data-stu-id="3f98a-217">Binary Serialization</span></span>](binary-serialization.md)
- [<span data-ttu-id="3f98a-218">Serialisierung</span><span class="sxs-lookup"><span data-stu-id="3f98a-218">Serialization</span></span>](index.md)
- <xref:System.Xml.Serialization.XmlSerializer>
- [<span data-ttu-id="3f98a-219">Beispiele für die XML-Serialisierung</span><span class="sxs-lookup"><span data-stu-id="3f98a-219">Examples of XML Serialization</span></span>](examples-of-xml-serialization.md)
- [<span data-ttu-id="3f98a-220">Vorgehensweise: Serialisieren eines Objekts</span><span class="sxs-lookup"><span data-stu-id="3f98a-220">How to: Serialize an Object</span></span>](how-to-serialize-an-object.md)
- [<span data-ttu-id="3f98a-221">Vorgehensweise: Deserialisieren eines Objekts</span><span class="sxs-lookup"><span data-stu-id="3f98a-221">How to: Deserialize an Object</span></span>](how-to-deserialize-an-object.md)
