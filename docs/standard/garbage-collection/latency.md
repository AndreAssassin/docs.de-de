---
title: Latenzmodi
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- garbage collection, intrusiveness
- garbage collection, latency modes
ms.assetid: 96278bb7-6eab-4612-8594-ceebfc887d81
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 7a81a0015ae046682e1afa40c1c8d272357839ba
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 04/28/2019
ms.locfileid: "64622774"
---
# <a name="latency-modes"></a><span data-ttu-id="ceda6-102">Latenzmodi</span><span class="sxs-lookup"><span data-stu-id="ceda6-102">Latency Modes</span></span>
<span data-ttu-id="ceda6-103">Zum Freigeben von Objekten muss der Garbage Collector alle ausgeführten Threads einer Anwendung beenden.</span><span class="sxs-lookup"><span data-stu-id="ceda6-103">To reclaim objects, the garbage collector must stop all the executing threads in an application.</span></span> <span data-ttu-id="ceda6-104">In einigen Situationen, z. B. wenn eine Anwendung Daten abruft oder Inhalte anzeigt, kann eine vollständige Garbage Collection zu einem kritischen Zeitpunkt erfolgen und die Leistung beeinträchtigen.</span><span class="sxs-lookup"><span data-stu-id="ceda6-104">In some situations, such as when an application retrieves data or displays content, a full garbage collection can occur at a critical time and impede performance.</span></span> <span data-ttu-id="ceda6-105">Sie können das Ausmaß der Garbage Collection anpassen, indem Sie die <xref:System.Runtime.GCSettings.LatencyMode%2A?displayProperty=nameWithType>-Eigenschaft auf einen der <xref:System.Runtime.GCLatencyMode?displayProperty=nameWithType>-Werte festlegen.</span><span class="sxs-lookup"><span data-stu-id="ceda6-105">You can adjust the intrusiveness of the garbage collector by setting the <xref:System.Runtime.GCSettings.LatencyMode%2A?displayProperty=nameWithType> property to one of the <xref:System.Runtime.GCLatencyMode?displayProperty=nameWithType> values.</span></span>  
  
 <span data-ttu-id="ceda6-106">Der Begriff Latenz bezieht sich auf die Zeit, während der der Garbage Collector in die Anwendung eingreift.</span><span class="sxs-lookup"><span data-stu-id="ceda6-106">Latency refers to the time that the garbage collector intrudes in your application.</span></span> <span data-ttu-id="ceda6-107">In Zeiten mit geringer Latenz verhält sich der Garbage Collector bei der Freigabe von Objekten zurückhaltender und weniger intrusiv.</span><span class="sxs-lookup"><span data-stu-id="ceda6-107">During low latency periods, the garbage collector is more conservative and less intrusive in reclaiming objects.</span></span> <span data-ttu-id="ceda6-108">Die <xref:System.Runtime.GCLatencyMode?displayProperty=nameWithType>-Enumeration bietet zwei Einstellungen mit geringer Latenz:</span><span class="sxs-lookup"><span data-stu-id="ceda6-108">The <xref:System.Runtime.GCLatencyMode?displayProperty=nameWithType> enumeration provides two low latency settings:</span></span>  
  
- <span data-ttu-id="ceda6-109"><xref:System.Runtime.GCLatencyMode.LowLatency> unterdrückt Garbage Collections der Generation 2 und führt nur Garbage Collections der Generationen 0 und 1 aus.</span><span class="sxs-lookup"><span data-stu-id="ceda6-109"><xref:System.Runtime.GCLatencyMode.LowLatency> suppresses generation 2 collections and performs only generation 0 and 1 collections.</span></span> <span data-ttu-id="ceda6-110">Diese Einstellung kann nur für kurze Zeiträume verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ceda6-110">It can be used only for short periods of time.</span></span> <span data-ttu-id="ceda6-111">Über längere Zeiträume (und wenn auf dem System nicht genügend Arbeitsspeicher vorhanden ist) löst der Garbage Collector eine Auflistung aus, die die Anwendung kurz anhalten und einen zeitkritischen Vorgang unterbrechen kann.</span><span class="sxs-lookup"><span data-stu-id="ceda6-111">Over longer periods, if the system is under memory pressure, the garbage collector will trigger a collection, which can briefly pause the application and disrupt a time-critical operation.</span></span> <span data-ttu-id="ceda6-112">Diese Einstellung ist nur für die Garbage Collection auf Arbeitsstationen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="ceda6-112">This setting is available only for workstation garbage collection.</span></span>  
  
- <span data-ttu-id="ceda6-113"><xref:System.Runtime.GCLatencyMode.SustainedLowLatency> unterdrückt Garbage Collections der Generation 2 im Vordergrund und führt nur Garbage Collections der Generationen 0 und 1 sowie Garbage Collections der Generation 2 im Hintergrund aus.</span><span class="sxs-lookup"><span data-stu-id="ceda6-113"><xref:System.Runtime.GCLatencyMode.SustainedLowLatency> suppresses foreground generation 2 collections and performs only generation 0, 1, and background generation 2 collections.</span></span> <span data-ttu-id="ceda6-114">Diese Einstellung kann für längere Zeiträume verwendet werden und ist für die Garbage Collection für die Arbeitsstation und für die Garbage Collection auf dem Server verfügbar.</span><span class="sxs-lookup"><span data-stu-id="ceda6-114">It can be used for longer periods of time, and is available for both workstation and server garbage collection.</span></span> <span data-ttu-id="ceda6-115">Diese Einstellung kann nicht verwendet werden, wenn die [gleichzeitige Garbage Collection](../../../docs/framework/configure-apps/file-schema/runtime/gcconcurrent-element.md) deaktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="ceda6-115">This setting cannot be used if [concurrent garbage collection](../../../docs/framework/configure-apps/file-schema/runtime/gcconcurrent-element.md) is disabled.</span></span>  
  
 <span data-ttu-id="ceda6-116">In Zeiten mit geringer Latenz werden Garbage Collections der Generation 2 unterdrückt, außer wenn Folgendes geschieht:</span><span class="sxs-lookup"><span data-stu-id="ceda6-116">During low latency periods, generation 2 collections are suppressed unless the following occurs:</span></span>  
  
- <span data-ttu-id="ceda6-117">Das System erhält vom Betriebssystem eine Benachrichtigung über unzureichenden Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="ceda6-117">The system receives a low memory notification from the operating system.</span></span>  
  
- <span data-ttu-id="ceda6-118">Der Anwendungscode initiiert eine Garbage Collection, indem die <xref:System.GC.Collect%2A?displayProperty=nameWithType>-Methode aufgerufen und für den `generation`-Parameter der Wert "2" angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="ceda6-118">Your application code induces a collection by calling the <xref:System.GC.Collect%2A?displayProperty=nameWithType> method and specifying 2 for the `generation` parameter.</span></span>  
  
 <span data-ttu-id="ceda6-119">In der folgenden Tabelle werden die Anwendungsszenarien für die Verwendung der <xref:System.Runtime.GCLatencyMode>-Werte aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="ceda6-119">The following table lists the application scenarios for using the <xref:System.Runtime.GCLatencyMode> values.</span></span>  
  
|<span data-ttu-id="ceda6-120">Latenzmodus</span><span class="sxs-lookup"><span data-stu-id="ceda6-120">Latency mode</span></span>|<span data-ttu-id="ceda6-121">Anwendungsszenarien</span><span class="sxs-lookup"><span data-stu-id="ceda6-121">Application scenarios</span></span>|  
|------------------|---------------------------|  
|<xref:System.Runtime.GCLatencyMode.Batch>|<span data-ttu-id="ceda6-122">Für Anwendungen ohne Benutzeroberfläche oder serverseitige Vorgänge.</span><span class="sxs-lookup"><span data-stu-id="ceda6-122">For applications that have no UI or server-side operations.</span></span><br /><br /> <span data-ttu-id="ceda6-123">Dies ist der Standardmodus, wenn die [gleichzeitige Garbage Collection](../../../docs/framework/configure-apps/file-schema/runtime/gcconcurrent-element.md) deaktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="ceda6-123">This is the default mode when [concurrent garbage collection](../../../docs/framework/configure-apps/file-schema/runtime/gcconcurrent-element.md) is disabled.</span></span>|  
|<xref:System.Runtime.GCLatencyMode.Interactive>|<span data-ttu-id="ceda6-124">Für die meisten Anwendungen, die über eine Benutzeroberfläche verfügen.</span><span class="sxs-lookup"><span data-stu-id="ceda6-124">For most applications that have a UI.</span></span><br /><br /> <span data-ttu-id="ceda6-125">Dies ist der Standardmodus, wenn die [gleichzeitige Garbage Collection](../../../docs/framework/configure-apps/file-schema/runtime/gcconcurrent-element.md) aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="ceda6-125">This is the default mode when [concurrent garbage collection](../../../docs/framework/configure-apps/file-schema/runtime/gcconcurrent-element.md) is enabled.</span></span>|  
|<xref:System.Runtime.GCLatencyMode.LowLatency>|<span data-ttu-id="ceda6-126">Für Anwendungen mit kurzen, zeitkritischen Vorgängen, bei denen Unterbrechungen durch den Garbage Collector störend sein könnten.</span><span class="sxs-lookup"><span data-stu-id="ceda6-126">For applications that have short-term, time-sensitive operations during which interruptions from the garbage collector could be disruptive.</span></span> <span data-ttu-id="ceda6-127">Hierzu gehören beispielsweise Anwendungen, die Animationsrendering- oder Datenerfassungsfunktionen ausführen.</span><span class="sxs-lookup"><span data-stu-id="ceda6-127">For example, applications that do animation rendering or data acquisition functions.</span></span>|  
|<xref:System.Runtime.GCLatencyMode.SustainedLowLatency>|<span data-ttu-id="ceda6-128">Für Anwendungen mit zeitkritischen Vorgängen über einen möglicherweise längeren Zeitraum, bei denen Unterbrechungen durch den Garbage Collector störend sein könnten.</span><span class="sxs-lookup"><span data-stu-id="ceda6-128">For applications that have time-sensitive operations for a contained but potentially longer duration of time during which interruptions from the garbage collector could be disruptive.</span></span> <span data-ttu-id="ceda6-129">Hierzu gehören beispielsweise Anwendungen, die schnelle Antwortzeiten bei Marktdatenänderungen während der Geschäftszeit erfordern.</span><span class="sxs-lookup"><span data-stu-id="ceda6-129">For example, applications that need quick response times as market data changes during trading hours.</span></span><br /><br /> <span data-ttu-id="ceda6-130">Dieser Modus führt im Vergleich zu anderen Modi zu einem größeren verwalteten Heap.</span><span class="sxs-lookup"><span data-stu-id="ceda6-130">This mode results in a larger managed heap size than other modes.</span></span> <span data-ttu-id="ceda6-131">Da der verwaltete Heap nicht komprimiert wird, ist eine stärkere Fragmentierung möglich.</span><span class="sxs-lookup"><span data-stu-id="ceda6-131">Because it does not compact the managed heap, higher fragmentation is possible.</span></span> <span data-ttu-id="ceda6-132">Stellen Sie sicher, dass genügend Arbeitsspeicher verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="ceda6-132">Ensure that sufficient memory is available.</span></span>|  
  
## <a name="guidelines-for-using-low-latency"></a><span data-ttu-id="ceda6-133">Richtlinien für die Verwendung von geringer Latenz</span><span class="sxs-lookup"><span data-stu-id="ceda6-133">Guidelines for Using Low Latency</span></span>  
 <span data-ttu-id="ceda6-134">Beachten Sie beim Verwenden des <xref:System.Runtime.GCLatencyMode.LowLatency>-Modus die folgenden Richtlinien:</span><span class="sxs-lookup"><span data-stu-id="ceda6-134">When you use <xref:System.Runtime.GCLatencyMode.LowLatency> mode, consider the following guidelines:</span></span>  
  
- <span data-ttu-id="ceda6-135">Halten Sie die Zeiten mit geringer Latenz möglichst kurz.</span><span class="sxs-lookup"><span data-stu-id="ceda6-135">Keep the period of time in low latency as short as possible.</span></span>  
  
- <span data-ttu-id="ceda6-136">Vermeiden Sie es, in Zeiten mit geringer Latenz große Speichermengen zu belegen.</span><span class="sxs-lookup"><span data-stu-id="ceda6-136">Avoid allocating high amounts of memory during low latency periods.</span></span> <span data-ttu-id="ceda6-137">Benachrichtigungen über unzureichenden Arbeitsspeicher können ausgegeben werden, wenn die Garbage Collection weniger Objekte freigibt.</span><span class="sxs-lookup"><span data-stu-id="ceda6-137">Low memory notifications can occur because garbage collection reclaims fewer objects.</span></span>  
  
- <span data-ttu-id="ceda6-138">Minimieren Sie im Modus für geringe Latenz die Anzahl der Zuordnungen, insbesondere Zuordnungen für den großen Objektheap und fixierte Objekte.</span><span class="sxs-lookup"><span data-stu-id="ceda6-138">While in the low latency mode, minimize the number of allocations you make, in particular allocations onto the Large Object Heap and pinned objects.</span></span>  
  
- <span data-ttu-id="ceda6-139">Achten Sie auf potenziell zuordnende Threads.</span><span class="sxs-lookup"><span data-stu-id="ceda6-139">Be aware of threads that could be allocating.</span></span> <span data-ttu-id="ceda6-140">Weil die Einstellung der <xref:System.Runtime.GCSettings.LatencyMode%2A>-Eigenschaft prozessweit gültig ist, könnte für jeden potenziell zuordnenden Thread eine <xref:System.OutOfMemoryException> ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="ceda6-140">Because the <xref:System.Runtime.GCSettings.LatencyMode%2A> property setting is process-wide, you could generate an <xref:System.OutOfMemoryException> on any thread that may be allocating.</span></span>  
  
- <span data-ttu-id="ceda6-141">Umschließen Sie den Code mit geringer Latenz in eingeschränkten Ausführungsbereichen (weitere Informationen finden Sie unter [Eingeschränkte Ausführungsbereiche](../../../docs/framework/performance/constrained-execution-regions.md)).</span><span class="sxs-lookup"><span data-stu-id="ceda6-141">Wrap the low latency code in constrained execution regions (for more information, see [Constrained Execution Regions](../../../docs/framework/performance/constrained-execution-regions.md)).</span></span>  
  
- <span data-ttu-id="ceda6-142">Sie können Garbage Collections der Generation 2 in Zeiten mit geringer Latenz erzwingen, indem Sie die <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%29?displayProperty=nameWithType>-Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="ceda6-142">You can force generation 2 collections during a low latency period by calling the <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%29?displayProperty=nameWithType> method.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ceda6-143">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="ceda6-143">See also</span></span>

- <xref:System.GC?displayProperty=nameWithType>
- [<span data-ttu-id="ceda6-144">Induzierte Sammlungen</span><span class="sxs-lookup"><span data-stu-id="ceda6-144">Induced Collections</span></span>](../../../docs/standard/garbage-collection/induced.md)
- [<span data-ttu-id="ceda6-145">Garbage Collection</span><span class="sxs-lookup"><span data-stu-id="ceda6-145">Garbage Collection</span></span>](../../../docs/standard/garbage-collection/index.md)
