---
title: Verwenden von Threads und Threading
ms.date: 08/08/2018
ms.technology: dotnet-standard
helpviewer_keywords:
- threading [.NET Framework], about threading
- managed threading
ms.assetid: 9b5ec2cd-121b-4d49-b075-222cf26f2344
ms.openlocfilehash: 1d487edff2cdc2e63f81963bfaa1f68a06e5b36e
ms.sourcegitcommit: 7e2128d4a4c45b4274bea3b8e5760d4694569ca1
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 01/14/2020
ms.locfileid: "75936845"
---
# <a name="using-threads-and-threading"></a><span data-ttu-id="80c7a-102">Verwenden von Threads und Threading</span><span class="sxs-lookup"><span data-stu-id="80c7a-102">Using threads and threading</span></span>

<span data-ttu-id="80c7a-103">Sie können mit .NET Anwendungen schreiben, die mehrere Vorgänge zur gleichen Zeit ausführen.</span><span class="sxs-lookup"><span data-stu-id="80c7a-103">With .NET, you can write applications that perform multiple operations at the same time.</span></span> <span data-ttu-id="80c7a-104">Vorgänge, die möglicherweise andere Vorgänge aufhalten, können in separaten Threads ausgeführt werden. Dieser Prozess ist als *Multithreading* oder *Freies Threading* bekannt.</span><span class="sxs-lookup"><span data-stu-id="80c7a-104">Operations with the potential of holding up other operations can execute on separate threads, a process known as *multithreading* or *free threading*.</span></span>  
  
<span data-ttu-id="80c7a-105">Clientanwendungen, die Multithreading verwenden, reagieren besser auf Benutzereingaben, weil die Benutzeroberfläche aktiv bleibt, da prozessorintensive Aufgaben in separaten Threads ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="80c7a-105">Applications that use multithreading are more responsive to user input because the user interface stays active as processor-intensive tasks execute on separate threads.</span></span> <span data-ttu-id="80c7a-106">Multithreading ist auch nützlich, wenn Sie skalierbare Aufgaben erstellen, da Sie Threads bei steigender Arbeitsauslastung hinzufügen können.</span><span class="sxs-lookup"><span data-stu-id="80c7a-106">Multithreading is also useful when you create scalable applications, because you can add threads as the workload increases.</span></span>

> [!NOTE]
> <span data-ttu-id="80c7a-107">Wenn Sie mehr Kontrolle über das Verhalten von Threads der Anwendung benötigen, können Sie die Threads selbst verwalten.</span><span class="sxs-lookup"><span data-stu-id="80c7a-107">If you need more control over the behavior of the application's threads, you can manage the threads yourself.</span></span> <span data-ttu-id="80c7a-108">Ab .NET Framework 4 wird die Multithreadprogrammierung durch die Klassen <xref:System.Threading.Tasks.Parallel?displayProperty=nameWithType> und <xref:System.Threading.Tasks.Task?displayProperty=nameWithType>, [Parallel LINQ (PLINQ)](../parallel-programming/parallel-linq-plinq.md), neue parallele Sammlungsklassen im <xref:System.Collections.Concurrent?displayProperty=nameWithType>-Namespace und ein neues Programmiermodell, das auf dem Konzept von Tasks anstatt von Threads basiert, erheblich vereinfacht.</span><span class="sxs-lookup"><span data-stu-id="80c7a-108">However, starting with the .NET Framework 4, multithreaded programming is greatly simplified with the <xref:System.Threading.Tasks.Parallel?displayProperty=nameWithType> and <xref:System.Threading.Tasks.Task?displayProperty=nameWithType> classes, [Parallel LINQ (PLINQ)](../parallel-programming/parallel-linq-plinq.md), new concurrent collection classes in the <xref:System.Collections.Concurrent?displayProperty=nameWithType> namespace, and a new programming model that is based on the concept of tasks rather than threads.</span></span> <span data-ttu-id="80c7a-109">Weitere Informationen finden Sie in den Artikeln zur [parallelen Programmierung](../parallel-programming/index.md) und zu [Task Parallel Library (TPL)](../parallel-programming/task-parallel-library-tpl.md).</span><span class="sxs-lookup"><span data-stu-id="80c7a-109">For more information, see [Parallel Programming](../parallel-programming/index.md) and [Task Parallel Library (TPL)](../parallel-programming/task-parallel-library-tpl.md).</span></span>

## <a name="how-to-create-and-start-a-new-thread"></a><span data-ttu-id="80c7a-110">Vorgehensweise: Erstellen und Starten eines neuen Threads</span><span class="sxs-lookup"><span data-stu-id="80c7a-110">How to: Create and start a new thread</span></span>

<span data-ttu-id="80c7a-111">Sie können einen neuen Thread erstellen, indem Sie eine neue Instanz der <xref:System.Threading.Thread?displayProperty=nameWithType>-Klasse erstellen und den Namen der Methode angeben, die Sie in einem neuen Thread an den Konstruktor ausführen möchten.</span><span class="sxs-lookup"><span data-stu-id="80c7a-111">You create a new thread by creating a new instance of the <xref:System.Threading.Thread?displayProperty=nameWithType> class and providing the name of the method that you want to execute on a new thread to the constructor.</span></span> <span data-ttu-id="80c7a-112">Rufen Sie die <xref:System.Threading.Thread.Start%2A?displayProperty=nameWithType>-Methode auf, um einen erstellten Thread auszuführen.</span><span class="sxs-lookup"><span data-stu-id="80c7a-112">To start a created thread, call the <xref:System.Threading.Thread.Start%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="80c7a-113">Weitere Informationen und Beispiele finden Sie unter [Erstellen von Threads und Übergeben von Daten zur Startzeit](creating-threads-and-passing-data-at-start-time.md) und in der <xref:System.Threading.Thread>-API-Referenz.</span><span class="sxs-lookup"><span data-stu-id="80c7a-113">For more information and examples, see the [Creating threads and passing data at start time](creating-threads-and-passing-data-at-start-time.md) article and the <xref:System.Threading.Thread> API reference.</span></span>

## <a name="how-to-stop-a-thread"></a><span data-ttu-id="80c7a-114">Vorgehensweise: Anhalten eines Threads</span><span class="sxs-lookup"><span data-stu-id="80c7a-114">How to: Stop a thread</span></span>

<span data-ttu-id="80c7a-115">Verwenden Sie <xref:System.Threading.CancellationToken?displayProperty=nameWithType>, um die Ausführung eines Threads zu beenden.</span><span class="sxs-lookup"><span data-stu-id="80c7a-115">To terminate the execution of a thread, use the <xref:System.Threading.CancellationToken?displayProperty=nameWithType>.</span></span> <span data-ttu-id="80c7a-116">Mit dieser Methode lassen sich Threads kooperativ anhalten.</span><span class="sxs-lookup"><span data-stu-id="80c7a-116">It provides a unified way to stop threads cooperatively.</span></span> <span data-ttu-id="80c7a-117">Weitere Informationen finden Sie unter [Abbruch in verwalteten Threads](cancellation-in-managed-threads.md).</span><span class="sxs-lookup"><span data-stu-id="80c7a-117">For more information, see [Cancellation in managed threads](cancellation-in-managed-threads.md).</span></span>

<span data-ttu-id="80c7a-118">Manchmal ist es nicht möglich, einen Thread kooperativ anzuhalten, weil darin Drittanbietercode ausgeführt wird, der für einen kooperativen Abbruch nicht geeignet ist.</span><span class="sxs-lookup"><span data-stu-id="80c7a-118">Sometimes it is not possible to stop a thread cooperatively, because it runs third-party code not designed for cooperative cancellation.</span></span> <span data-ttu-id="80c7a-119">In diesem Fall müssen Sie die Beendigung der Ausführung möglicherweise erzwingen.</span><span class="sxs-lookup"><span data-stu-id="80c7a-119">In this case, you might want to terminate its execution forcibly.</span></span> <span data-ttu-id="80c7a-120">Um die Beendigung der Ausführung eines Threads zu erzwingen, können Sie in .NET Framework die Methode <xref:System.Threading.Thread.Abort%2A?displayProperty=nameWithType> verwenden.</span><span class="sxs-lookup"><span data-stu-id="80c7a-120">To terminate the execution of a thread forcibly, in .NET Framework you can use the <xref:System.Threading.Thread.Abort%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="80c7a-121">Diese Methode löst eine <xref:System.Threading.ThreadAbortException> im Thread aus, in dem sie aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="80c7a-121">That method raises a <xref:System.Threading.ThreadAbortException> on the thread on which it's invoked.</span></span> <span data-ttu-id="80c7a-122">Weitere Informationen finden Sie unter [Zerstören von Threads](destroying-threads.md).</span><span class="sxs-lookup"><span data-stu-id="80c7a-122">For more information, see [Destroying threads](destroying-threads.md).</span></span> <span data-ttu-id="80c7a-123">Die Methode <xref:System.Threading.Thread.Abort%2A?displayProperty=nameWithType> wird in .NET Core nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="80c7a-123">The <xref:System.Threading.Thread.Abort%2A?displayProperty=nameWithType> method is not supported in .NET Core.</span></span> <span data-ttu-id="80c7a-124">Wenn Sie die Beendigung der Ausführung von Drittanbietercode in .NET Core erzwingen müssen, führen Sie den Code in einem separaten Prozess aus und verwenden <xref:System.Diagnostics.Process.Kill%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="80c7a-124">If you need to terminate the execution of third-party code forcibly in .NET Core, run it in the separate process and use <xref:System.Diagnostics.Process.Kill%2A?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="80c7a-125"><xref:System.Threading.CancellationToken?displayProperty=nameWithType> steht erst ab .NET Framework 4 zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="80c7a-125">The <xref:System.Threading.CancellationToken?displayProperty=nameWithType> is not available before .NET Framework 4.</span></span> <span data-ttu-id="80c7a-126">Um einen Thread in einer älteren .NET Framework-Version anzuhalten, müssen Sie den kooperativen Abbruch mithilfe von Techniken zur Threadsynchronisierung manuell implementieren.</span><span class="sxs-lookup"><span data-stu-id="80c7a-126">To stop a thread in older .NET Framework versions, you should implement the cooperative cancellation manually using the thread synchronization techniques.</span></span> <span data-ttu-id="80c7a-127">Sie können beispielsweise das flüchtige (volatile) boolesche Feld `shouldStop` erstellen und damit anfordern, dass der vom Thread ausgeführte Code angehalten wird.</span><span class="sxs-lookup"><span data-stu-id="80c7a-127">For example, you can create the volatile boolean field `shouldStop` and use it to request the code executed by the thread to stop.</span></span> <span data-ttu-id="80c7a-128">Weitere Informationen finden Sie unter [volatile](../../csharp/language-reference/keywords/volatile.md) in der C#-Referenz sowie unter <xref:System.Threading.Volatile?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="80c7a-128">For more information, see [volatile](../../csharp/language-reference/keywords/volatile.md) in C# Reference and <xref:System.Threading.Volatile?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="80c7a-129">Verwenden Sie die <xref:System.Threading.Thread.Join%2A?displayProperty=nameWithType>-Methode, damit der aufrufende Thread auf die Beendigung des Threads wartet, der angehalten wird.</span><span class="sxs-lookup"><span data-stu-id="80c7a-129">Use the <xref:System.Threading.Thread.Join%2A?displayProperty=nameWithType> method to make the calling thread wait for the termination of the thread being stopped.</span></span>

## <a name="how-to-pause-or-interrupt-a-thread"></a><span data-ttu-id="80c7a-130">Vorgehensweise: Anhalten oder Unterbrechen eines Threads</span><span class="sxs-lookup"><span data-stu-id="80c7a-130">How to: Pause or interrupt a thread</span></span>

<span data-ttu-id="80c7a-131">Mit der <xref:System.Threading.Thread.Sleep%2A?displayProperty=nameWithType>-Methode können Sie den aktuellen Thread für bestimmte Zeit pausieren.</span><span class="sxs-lookup"><span data-stu-id="80c7a-131">You use the <xref:System.Threading.Thread.Sleep%2A?displayProperty=nameWithType> method to pause the current thread for a specified amount of time.</span></span> <span data-ttu-id="80c7a-132">Sie können einen blockierten Thread unterbrechen, indem Sie die <xref:System.Threading.Thread.Interrupt%2A?displayProperty=nameWithType>-Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="80c7a-132">You can interrupt a blocked thread by calling the <xref:System.Threading.Thread.Interrupt%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="80c7a-133">Weitere Informationen finden Sie unter [Pausing and interrupting threads (Anhalten und Unterbrechen von Threads)](pausing-and-resuming-threads.md).</span><span class="sxs-lookup"><span data-stu-id="80c7a-133">For more information, see [Pausing and interrupting threads](pausing-and-resuming-threads.md).</span></span>

## <a name="thread-properties"></a><span data-ttu-id="80c7a-134">Threadeigenschaften</span><span class="sxs-lookup"><span data-stu-id="80c7a-134">Thread properties</span></span>

<span data-ttu-id="80c7a-135">In der folgenden Tabelle werden einige <xref:System.Threading.Thread>-Eigenschaften aufgeführt:</span><span class="sxs-lookup"><span data-stu-id="80c7a-135">The following table presents some of the <xref:System.Threading.Thread> properties:</span></span>  
  
|<span data-ttu-id="80c7a-136">Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="80c7a-136">Property</span></span>|<span data-ttu-id="80c7a-137">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="80c7a-137">Description</span></span>|  
|--------------|-----------|  
|<xref:System.Threading.Thread.IsAlive%2A>|<span data-ttu-id="80c7a-138">Gibt `true` zurück, wenn dieser Thread gestartet und ordnungsgemäß beendet bzw. abgebrochen wurde.</span><span class="sxs-lookup"><span data-stu-id="80c7a-138">Returns `true` if a thread has been started and has not yet terminated normally or aborted.</span></span>|  
|<xref:System.Threading.Thread.IsBackground%2A>|<span data-ttu-id="80c7a-139">Es wird ein boolescher Wert abgerufen oder festgelegt, der angibt, ob ein Thread ein Hintergrundthread ist.</span><span class="sxs-lookup"><span data-stu-id="80c7a-139">Gets or sets a Boolean that indicates if a thread is a background thread.</span></span> <span data-ttu-id="80c7a-140">Hintergrundthreads sind wie Vordergrundthreads, aber ein Hintergrundthread verhindert nicht, dass ein Prozess beendet wird.</span><span class="sxs-lookup"><span data-stu-id="80c7a-140">Background threads are like foreground threads, but a background thread doesn't prevent a process from stopping.</span></span> <span data-ttu-id="80c7a-141">Sobald alle zu einem Prozess gehörenden Vordergrundthreads beendet wurden, beendet die Common Language Runtime den Prozess, indem die Methode <xref:System.Threading.Thread.Abort%2A> in Hintergrundthreads aufgerufen wird, die noch aktiv sind.</span><span class="sxs-lookup"><span data-stu-id="80c7a-141">Once all foreground threads that belong to a process have stopped, the common language runtime ends the process by calling the <xref:System.Threading.Thread.Abort%2A> method on background threads that are still alive.</span></span> <span data-ttu-id="80c7a-142">Weitere Informationen finden Sie im Artikel zu [Vordergrund- und Hintergrundthreads](foreground-and-background-threads.md).</span><span class="sxs-lookup"><span data-stu-id="80c7a-142">For more information, see [Foreground and Background Threads](foreground-and-background-threads.md).</span></span>|  
|<xref:System.Threading.Thread.Name%2A>|<span data-ttu-id="80c7a-143">Ruft den Namen eines Threads ab oder legt diesen fest.</span><span class="sxs-lookup"><span data-stu-id="80c7a-143">Gets or sets the name of a thread.</span></span> <span data-ttu-id="80c7a-144">Wird am häufigsten beim Debuggen verwendet, um einzelne Threads zu erkennen.</span><span class="sxs-lookup"><span data-stu-id="80c7a-144">Most frequently used to discover individual threads when you debug.</span></span>|  
|<xref:System.Threading.Thread.Priority%2A>|<span data-ttu-id="80c7a-145">Es wird ein <xref:System.Threading.ThreadPriority>-Wert abgerufen oder festgelegt, der vom Betriebssystem zum Priorisieren der Threadplanung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="80c7a-145">Gets or sets a <xref:System.Threading.ThreadPriority> value that is used by the operating system to prioritize thread scheduling.</span></span> <span data-ttu-id="80c7a-146">Weitere Informationen finden Sie unter [Scheduling Threads (Planen von Threads)](scheduling-threads.md) und in der <xref:System.Threading.ThreadPriority>-Referenz.</span><span class="sxs-lookup"><span data-stu-id="80c7a-146">For more information, see [Scheduling threads](scheduling-threads.md) and the <xref:System.Threading.ThreadPriority> reference.</span></span>|  
|<xref:System.Threading.Thread.ThreadState%2A>|<span data-ttu-id="80c7a-147">Ruft einen <xref:System.Threading.ThreadState>-Wert ab, der die aktuellen Zustände des Threads enthält.</span><span class="sxs-lookup"><span data-stu-id="80c7a-147">Gets a <xref:System.Threading.ThreadState> value containing the current states of a thread.</span></span>|  

## <a name="see-also"></a><span data-ttu-id="80c7a-148">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="80c7a-148">See also</span></span>

- <xref:System.Threading.Thread?displayProperty=nameWithType>
- [<span data-ttu-id="80c7a-149">Threads and Threading (Threads und Threading)</span><span class="sxs-lookup"><span data-stu-id="80c7a-149">Threads and Threading</span></span>](threads-and-threading.md)
- [<span data-ttu-id="80c7a-150">Parallele Programmierung</span><span class="sxs-lookup"><span data-stu-id="80c7a-150">Parallel Programming</span></span>](../parallel-programming/index.md)
