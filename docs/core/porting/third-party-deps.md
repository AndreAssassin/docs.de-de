---
title: Analysieren von Abhängigkeiten zum Portieren von Code zu .NET Core
description: Erfahren Sie, wie Sie externe Abhängigkeiten analysieren können, um Ihr Projekt von .NET Framework auf .NET Core portieren zu können.
author: cartermp
ms.date: 10/22/2019
ms.openlocfilehash: 2aa09e551a99358d3a6961fafcfc0aa8dbd976b1
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 03/14/2020
ms.locfileid: "79397920"
---
# <a name="analyze-your-dependencies-to-port-code-to-net-core"></a><span data-ttu-id="13c4d-103">Analysieren Ihrer Abhängigkeiten zum Portieren von Code zu .NET Core</span><span class="sxs-lookup"><span data-stu-id="13c4d-103">Analyze your dependencies to port code to .NET Core</span></span>

<span data-ttu-id="13c4d-104">Um den Code zu .NET Core oder .NET Standard portieren zu können, müssen Sie Ihre Abhängigkeiten verstehen.</span><span class="sxs-lookup"><span data-stu-id="13c4d-104">To port your code to .NET Core or .NET Standard, you must understand your dependencies.</span></span> <span data-ttu-id="13c4d-105">Externe Abhängigkeiten sind die NuGet-Pakete oder `.dll`-Dateien, auf die Sie in Ihrem Projekt verweisen, die Sie aber nicht selbst erstellen.</span><span class="sxs-lookup"><span data-stu-id="13c4d-105">External dependencies are the NuGet packages or `.dll` files you reference in your project, but that you don't build yourself.</span></span>

## <a name="migrate-your-nuget-packages-to-packagereference"></a><span data-ttu-id="13c4d-106">Migrieren von NuGet-Paketen zu `PackageReference`</span><span class="sxs-lookup"><span data-stu-id="13c4d-106">Migrate your NuGet packages to `PackageReference`</span></span>

<span data-ttu-id="13c4d-107">.NET Core verwendet [PackageReference](/nuget/consume-packages/package-references-in-project-files) zum Angeben von Paketabhängigkeiten.</span><span class="sxs-lookup"><span data-stu-id="13c4d-107">.NET Core uses [PackageReference](/nuget/consume-packages/package-references-in-project-files) to specify package dependencies.</span></span> <span data-ttu-id="13c4d-108">Wenn Sie [packages.config](/nuget/reference/packages-config) verwenden, um die Pakete in Ihrem Projekt anzugeben, konvertieren Sie diese in das `PackageReference`-Format, da `packages.config` in .NET Core nicht unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="13c4d-108">If you're using [packages.config](/nuget/reference/packages-config) to specify your packages in your project, convert it to the `PackageReference` format, because `packages.config` isn't supported in .NET Core.</span></span>

<span data-ttu-id="13c4d-109">Informationen zum Migrieren finden Sie im Artikel [Migrieren von „packages.config“ zu PackageReference](/nuget/reference/migrate-packages-config-to-package-reference).</span><span class="sxs-lookup"><span data-stu-id="13c4d-109">To learn how to migrate, see the [Migrate from packages.config to PackageReference](/nuget/reference/migrate-packages-config-to-package-reference) article.</span></span>

## <a name="upgrade-your-nuget-packages"></a><span data-ttu-id="13c4d-110">Aktualisieren von NuGet-Paketen</span><span class="sxs-lookup"><span data-stu-id="13c4d-110">Upgrade your NuGet packages</span></span>

<span data-ttu-id="13c4d-111">Nachdem Sie Ihr Projekt zum `PackageReference`-Format migriert haben, überprüfen Sie, ob Ihre Pakete mit .NET Core kompatibel sind.</span><span class="sxs-lookup"><span data-stu-id="13c4d-111">After you migrate your project to the `PackageReference` format, verify if your packages are compatible with .NET Core.</span></span>

<span data-ttu-id="13c4d-112">Aktualisieren Sie zunächst Ihre Pakete auf die neueste Version, die verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="13c4d-112">First, upgrade your packages to the latest version that you can.</span></span> <span data-ttu-id="13c4d-113">Dies kann über die Benutzeroberfläche des NuGet-Paket-Managers in Visual Studio erfolgen.</span><span class="sxs-lookup"><span data-stu-id="13c4d-113">This can be done with the NuGet Package Manager UI in Visual Studio.</span></span> <span data-ttu-id="13c4d-114">Es ist wahrscheinlich, dass neuere Versionen ihrer Paketabhängigkeiten bereits mit .NET Core kompatibel sind.</span><span class="sxs-lookup"><span data-stu-id="13c4d-114">It's likely that newer versions of your package dependencies are already compatible with .NET Core.</span></span>

## <a name="analyze-your-package-dependencies"></a><span data-ttu-id="13c4d-115">Analysieren der Paketabhängigkeiten</span><span class="sxs-lookup"><span data-stu-id="13c4d-115">Analyze your package dependencies</span></span>

<span data-ttu-id="13c4d-116">Wenn Sie noch nicht überprüft haben, ob die konvertierten und aktualisierten Paketabhängigkeiten in .NET Core funktionieren, gibt es einige Möglichkeiten, dies zu bestätigen:</span><span class="sxs-lookup"><span data-stu-id="13c4d-116">If you haven't already verified that your converted and upgraded package dependencies work on .NET Core, there are a few ways that you can achieve that:</span></span>

### <a name="analyze-nuget-packages-using-nugetorg"></a><span data-ttu-id="13c4d-117">Analysieren von NuGet-Paketen mit nuget.org</span><span class="sxs-lookup"><span data-stu-id="13c4d-117">Analyze NuGet packages using nuget.org</span></span>

<span data-ttu-id="13c4d-118">Sie können die TFMs (Target Framework Monikers, Zielframeworkmoniker), die die einzelnen Pakete unterstützen, unter [nuget.org](https://www.nuget.org/) im Abschnitt **Dependencies** (Abhängigkeiten) der Paketseite anzeigen.</span><span class="sxs-lookup"><span data-stu-id="13c4d-118">You can see the Target Framework Monikers (TFMs) that each package supports on [nuget.org](https://www.nuget.org/) under the **Dependencies** section of the package page.</span></span>

<span data-ttu-id="13c4d-119">Es ist einfacher, die Website zum Überprüfen der Kompatibilität zu verwenden. Allerdings stehen dort nicht für alle **Abhängigkeiten** Informationen zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="13c4d-119">Although using the site is an easier method to verify the compatibility, **Dependencies** information isn't available on the site for all packages.</span></span>

### <a name="analyze-nuget-packages-using-nuget-package-explorer"></a><span data-ttu-id="13c4d-120">Analysieren von NuGet-Paketen mit dem NuGet-Paket-Explorer</span><span class="sxs-lookup"><span data-stu-id="13c4d-120">Analyze NuGet packages using NuGet Package Explorer</span></span>

<span data-ttu-id="13c4d-121">Ein NuGet-Paket besteht wiederum aus mehreren Ordnern, die plattformspezifische Assemblys enthalten.</span><span class="sxs-lookup"><span data-stu-id="13c4d-121">A NuGet package is itself a set of folders that contain platform-specific assemblies.</span></span> <span data-ttu-id="13c4d-122">Überprüfen Sie, ob es im Paket einen Ordner gibt, der eine kompatible Assembly enthält.</span><span class="sxs-lookup"><span data-stu-id="13c4d-122">Check if there's a folder that contains a compatible assembly inside the package.</span></span>

<span data-ttu-id="13c4d-123">Am einfachsten überprüfen Sie die NuGet-Paketordner mit dem Tool [NuGet Package Explorer](https://github.com/NuGetPackageExplorer/NuGetPackageExplorer).</span><span class="sxs-lookup"><span data-stu-id="13c4d-123">The easiest way to inspect NuGet package folders is to use the [NuGet Package Explorer](https://github.com/NuGetPackageExplorer/NuGetPackageExplorer) tool.</span></span> <span data-ttu-id="13c4d-124">Führen Sie nach der Installation folgende Schritte durch, um die Ordnernamen anzuzeigen:</span><span class="sxs-lookup"><span data-stu-id="13c4d-124">After installing it, use the following steps to see the folder names:</span></span>

1. <span data-ttu-id="13c4d-125">Öffnen Sie den NuGet-Paket-Explorer.</span><span class="sxs-lookup"><span data-stu-id="13c4d-125">Open the NuGet Package Explorer.</span></span>
2. <span data-ttu-id="13c4d-126">Klicken Sie auf **Open package from online feed** (Paket über Onlinefeed öffnen).</span><span class="sxs-lookup"><span data-stu-id="13c4d-126">Click **Open package from online feed**.</span></span>
3. <span data-ttu-id="13c4d-127">Suchen Sie nach dem Namen des Pakets.</span><span class="sxs-lookup"><span data-stu-id="13c4d-127">Search for the name of the package.</span></span>
4. <span data-ttu-id="13c4d-128">Wählen Sie den Paketnamen aus den Suchergebnissen aus, und klicken Sie auf **Öffnen**.</span><span class="sxs-lookup"><span data-stu-id="13c4d-128">Select the package name from the search results and click **open**.</span></span>
5. <span data-ttu-id="13c4d-129">Erweitern Sie den Ordner *Lib* (Bibliotheken) auf der rechten Seite, und suchen Sie in den Ordnernamen.</span><span class="sxs-lookup"><span data-stu-id="13c4d-129">Expand the *lib* folder on the right-hand side and look at folder names.</span></span>

<span data-ttu-id="13c4d-130">Suchen Sie nach einem Ordner mit Namen mit einem der folgenden Muster: `netstandardX.Y` oder `netcoreappX.Y`.</span><span class="sxs-lookup"><span data-stu-id="13c4d-130">Look for a folder with names using one the following patterns: `netstandardX.Y` or `netcoreappX.Y`.</span></span>

<span data-ttu-id="13c4d-131">Bei diesen Werten handelt es sich um [Target Framework Moniker (TFMs)](../../standard/frameworks.md), die den Versionen des [.NET-Standard](../../standard/net-standard.md) und .NET Core-Profils und der herkömmlichen PCL-Profilen (Portable Class Library) zugeordnet sind, die mit .NET Core kompatibel sind.</span><span class="sxs-lookup"><span data-stu-id="13c4d-131">These values are the [Target Framework Monikers (TFMs)](../../standard/frameworks.md) that map to versions of the [.NET Standard](../../standard/net-standard.md), .NET Core, and traditional Portable Class Library (PCL) profiles that are compatible with .NET Core.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="13c4d-132">Beachten Sie bei TFMs, die von einem Paket unterstützt werden, dass `netcoreapp*` trotz Kompatibilität, nur für .NET Core-Projekte konzipiert ist und nicht für .NET Standard-Projekte.</span><span class="sxs-lookup"><span data-stu-id="13c4d-132">When looking at the TFMs that a package supports, note that `netcoreapp*`, while compatible, is for .NET Core projects only and not for .NET Standard projects.</span></span>
> <span data-ttu-id="13c4d-133">Eine Bibliothek, die nur auf `netcoreapp*` und nicht auf `netstandard*` ausgerichtet ist, kann nur von anderen .NET Core-Apps verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="13c4d-133">A library that only targets `netcoreapp*` and not `netstandard*` can only be consumed by other .NET Core apps.</span></span>

## <a name="net-framework-compatibility-mode"></a><span data-ttu-id="13c4d-134">Der .NET Framework-Kompatibilitätsmodus</span><span class="sxs-lookup"><span data-stu-id="13c4d-134">.NET Framework compatibility mode</span></span>

<span data-ttu-id="13c4d-135">Nachdem Sie die NuGet-Pakete analysiert haben, zeigt sich möglicherweise, dass sie nur .NET Framework als Ziel verwenden.</span><span class="sxs-lookup"><span data-stu-id="13c4d-135">After analyzing the NuGet packages, you might find that they only target the .NET Framework.</span></span>

<span data-ttu-id="13c4d-136">Mit .NET Standard 2.0 wurde der .NET Framework-Kompatibilitätsmodus eingeführt.</span><span class="sxs-lookup"><span data-stu-id="13c4d-136">Starting with .NET Standard 2.0, the .NET Framework compatibility mode was introduced.</span></span> <span data-ttu-id="13c4d-137">Mit diesem Kompatibilitätsmodus können .NET Standard- und .NET Core-Projekte auf .NET Framework-Bibliotheken verweisen.</span><span class="sxs-lookup"><span data-stu-id="13c4d-137">This compatibility mode allows .NET Standard and .NET Core projects to reference .NET Framework libraries.</span></span> <span data-ttu-id="13c4d-138">Das Verweisen auf .NET Framework-Bibliotheken funktioniert nicht bei allen Projekten. So funktioniert es z.B. nicht, wenn die Bibliothek Windows Presentation Foundation-APIs (WPF) verwendet. Dadurch werden jedoch viele Portierungsszenarios ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="13c4d-138">Referencing .NET Framework libraries doesn't work for all projects, such as if the library uses Windows Presentation Foundation (WPF) APIs, but it does unblock many porting scenarios.</span></span>

<span data-ttu-id="13c4d-139">Wenn Sie in Ihrem Projekt auf NuGet-Pakete verweisen, die .NET Framework als Ziel verwenden, etwa [Huitian.PowerCollections](https://www.nuget.org/packages/Huitian.PowerCollections), wird eine Paketfallbackwarnung ([NU1701](/nuget/reference/errors-and-warnings/nu1701)) wie die folgende ausgegeben:</span><span class="sxs-lookup"><span data-stu-id="13c4d-139">When you reference NuGet packages that target .NET Framework in your project, such as [Huitian.PowerCollections](https://www.nuget.org/packages/Huitian.PowerCollections), you get a package fallback warning ([NU1701](/nuget/reference/errors-and-warnings/nu1701)) similar to the following example:</span></span>

`NU1701: Package ‘Huitian.PowerCollections 1.0.0’ was restored using ‘.NETFramework,Version=v4.6.1’ instead of the project target framework ‘.NETStandard,Version=v2.0’. This package may not be fully compatible with your project.`

<span data-ttu-id="13c4d-140">Diese Warnung wird angezeigt, wenn Sie das Paket hinzufügen und jedes Mal, wenn Sie etwas erstellen, um sicherzustellen, dass Sie das Paket mit Ihrem Projekt testen.</span><span class="sxs-lookup"><span data-stu-id="13c4d-140">That warning is displayed when you add the package and every time you build to make sure you test that package with your project.</span></span> <span data-ttu-id="13c4d-141">Wenn Ihr Projekt wie gewünscht funktioniert, können Sie die Warnung unterdrücken, indem Sie die Paketeigenschaften in Visual Studio bearbeiten oder die Projektdatei in Ihrem bevorzugten Code-Editor manuell bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="13c4d-141">If your project works as expected, you can suppress that warning by editing the package properties in Visual Studio or by manually editing the project file in your favorite code editor.</span></span>

<span data-ttu-id="13c4d-142">Um die Warnung durch Bearbeiten der Projektdatei zu unterdrücken, suchen Sie den `PackageReference`-Eintrag für das Paket, für das Sie die Warnung unterdrücken möchten, und fügen Sie das `NoWarn`-Attribut hinzu.</span><span class="sxs-lookup"><span data-stu-id="13c4d-142">To suppress the warning by editing the project file, find the `PackageReference` entry for the package you want to suppress the warning for and add the `NoWarn` attribute.</span></span> <span data-ttu-id="13c4d-143">Das `NoWarn`-Attribut akzeptiert eine durch Trennzeichen getrennte Liste aller Warnungs-IDs.</span><span class="sxs-lookup"><span data-stu-id="13c4d-143">The `NoWarn` attribute accepts a comma-separated list of all the warning IDs.</span></span> <span data-ttu-id="13c4d-144">Im folgenden Beispiel wird gezeigt, wie Sie die `NU1701`-Warnung für das `Huitian.PowerCollections`-Paket unterdrücken, indem Sie Ihre Projektdatei manuell bearbeiten:</span><span class="sxs-lookup"><span data-stu-id="13c4d-144">The following example shows how to suppress the `NU1701` warning for the `Huitian.PowerCollections` package by editing your project file manually:</span></span>

```xml
<ItemGroup>
  <PackageReference Include="Huitian.PowerCollections" Version="1.0.0" NoWarn="NU1701" />
</ItemGroup>
```

<span data-ttu-id="13c4d-145">Weitere Informationen zum Unterdrücken von Compilerwarnungen in Visual Studio finden Sie unter [Unterdrücken von Compilerwarnungen](/visualstudio/ide/how-to-suppress-compiler-warnings#suppress-warnings-for-nuget-packages) im Abschnitt zum Unterdrücken von Warnungen für NuGet-Pakete.</span><span class="sxs-lookup"><span data-stu-id="13c4d-145">For more information on how to suppress compiler warnings in Visual Studio, see [Suppressing warnings for NuGet packages](/visualstudio/ide/how-to-suppress-compiler-warnings#suppress-warnings-for-nuget-packages).</span></span>

## <a name="what-to-do-when-your-nuget-package-dependency-doesnt-run-on-net-core"></a><span data-ttu-id="13c4d-146">Vorgehensweise, wenn die NuGet-Paket-Abhängigkeit unter .NET Core nicht ausgeführt wird</span><span class="sxs-lookup"><span data-stu-id="13c4d-146">What to do when your NuGet package dependency doesn't run on .NET Core</span></span>

<span data-ttu-id="13c4d-147">Es gibt einige Dinge, die Sie tun können, wenn ein NuGet-Paket, auf das Sie angewiesen sind, unter .NET Core nicht ausgeführt wird:</span><span class="sxs-lookup"><span data-stu-id="13c4d-147">There are a few things you can do if a NuGet package you depend on doesn't run on .NET Core:</span></span>

- <span data-ttu-id="13c4d-148">Wenn es sich um ein Open Source-Projekt handelt, das beispielsweise von GitHub gehostet wird, können Sie sich direkt an die Entwickler wenden.</span><span class="sxs-lookup"><span data-stu-id="13c4d-148">If the project is open source and hosted somewhere like GitHub, you can engage the developers directly.</span></span>
- <span data-ttu-id="13c4d-149">Sie können den Autor direkt über [nuget.org](https://www.nuget.org/) kontaktieren. Suchen Sie nach dem Paket, und klicken Sie links auf der Paketseite auf **Contact Owners** (Besitzer kontaktieren).</span><span class="sxs-lookup"><span data-stu-id="13c4d-149">You can contact the author directly on [nuget.org](https://www.nuget.org/). Search for the package and click **Contact Owners** on the left-hand side of the package's page.</span></span>
- <span data-ttu-id="13c4d-150">Sie können nach einem anderen Paket suchen, das unter .NET Core ausgeführt wird und denselben Zweck erfüllt wie das Paket, das Sie bisher verwendet haben.</span><span class="sxs-lookup"><span data-stu-id="13c4d-150">You can search for another package that runs on .NET Core that accomplishes the same task as the package you were using.</span></span>
- <span data-ttu-id="13c4d-151">Sie können den vom Paket ausgeführten Code selbst schreiben.</span><span class="sxs-lookup"><span data-stu-id="13c4d-151">You can attempt to write the code the package was doing yourself.</span></span>
- <span data-ttu-id="13c4d-152">Sie können die Abhängigkeit für das Paket eliminieren, indem Sie die Funktionalität Ihrer Anwendung ändern, zumindest bis eine kompatible Version des Pakets verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="13c4d-152">You could eliminate the dependency on the package by changing the functionality of your app, at least until a compatible version of the package becomes available.</span></span>

<span data-ttu-id="13c4d-153">Denken Sie daran, dass Open-Source-Projektverwalter und NuGet-Paketherausgeber häufig Freiwillige sind.</span><span class="sxs-lookup"><span data-stu-id="13c4d-153">Remember that open-source project maintainers and NuGet package publishers are often volunteers.</span></span> <span data-ttu-id="13c4d-154">Sie beteiligen sich, weil Ihnen eine bestimmte Domäne wichtig ist. Sie arbeiten daran unentgeltlich und haben häufig einen anderen Job, für den sie unter der Woche arbeiten.</span><span class="sxs-lookup"><span data-stu-id="13c4d-154">They contribute because they care about a given domain, do it for free, and often have a different daytime job.</span></span> <span data-ttu-id="13c4d-155">Denken Sie daran, wenn Sie diese Personen kontaktieren, um sie um Unterstützung bezüglich .NET Core zu bitten.</span><span class="sxs-lookup"><span data-stu-id="13c4d-155">Be mindful of that when contacting them to ask for .NET Core support.</span></span>

<span data-ttu-id="13c4d-156">Wenn es Ihnen mit den genannten Optionen nicht gelingt, Ihr Problem zu beheben, müssen Sie sich mit dem Portieren in .NET Core noch etwas gedulden.</span><span class="sxs-lookup"><span data-stu-id="13c4d-156">If you can't resolve your issue with any of these options, you may have to port to .NET Core at a later date.</span></span>

<span data-ttu-id="13c4d-157">Das .NET-Team würde gerne wissen, welche Bibliotheken von .NET Core unterstützt werden sollten.</span><span class="sxs-lookup"><span data-stu-id="13c4d-157">The .NET Team would like to know which libraries are the most important to support with .NET Core.</span></span> <span data-ttu-id="13c4d-158">Sie können uns gerne mit einer E-Mail an dotnet@microsoft.com mitteilen, welche Bibliotheken Sie gerne verwenden würden.</span><span class="sxs-lookup"><span data-stu-id="13c4d-158">You can send an email to dotnet@microsoft.com about the libraries you'd like to use.</span></span>

## <a name="analyze-dependencies-that-arent-nuget-packages"></a><span data-ttu-id="13c4d-159">Analysieren von Abhängigkeiten, bei denen es sich nicht um NuGet-Pakete handelt</span><span class="sxs-lookup"><span data-stu-id="13c4d-159">Analyze dependencies that aren't NuGet packages</span></span>

<span data-ttu-id="13c4d-160">Möglicherweise verfügen Sie über eine Abhängigkeit, bei der es sich nicht um ein NuGet-Paket, sondern beispielsweise um eine DLL im Dateisystem handelt.</span><span class="sxs-lookup"><span data-stu-id="13c4d-160">You may have a dependency that isn't a NuGet package, such as a DLL in the file system.</span></span> <span data-ttu-id="13c4d-161">Wenn Sie feststellen möchten, ob diese Abhängigkeit portiert werden kann, haben Sie nur die Möglichkeit, das Tool [.NET Portability Analyzer](https://github.com/Microsoft/dotnet-apiport) auszuführen.</span><span class="sxs-lookup"><span data-stu-id="13c4d-161">The only way to determine the portability of that dependency is to run the [.NET Portability Analyzer](https://github.com/Microsoft/dotnet-apiport) tool.</span></span> <span data-ttu-id="13c4d-162">Das Tool analysiert Assemblys, die .NET Framework als Ziel verwenden, und identifiziert APIs, die nicht auf andere .NET-Plattformen wie .NET Core portiert werden können.</span><span class="sxs-lookup"><span data-stu-id="13c4d-162">The tool analyzes assemblies that target the .NET Framework and identifies APIs that aren't portable to other .NET platforms such as .NET Core.</span></span> <span data-ttu-id="13c4d-163">Sie können das Tool als Konsolenanwendung oder als [Visual Studio-Erweiterung](../../standard/analyzers/portability-analyzer.md) ausführen.</span><span class="sxs-lookup"><span data-stu-id="13c4d-163">You can run the tool as a console application or as a [Visual Studio extension](../../standard/analyzers/portability-analyzer.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="13c4d-164">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="13c4d-164">Next steps</span></span>

>[!div class="nextstepaction"]
>[<span data-ttu-id="13c4d-165">Portbibliotheken</span><span class="sxs-lookup"><span data-stu-id="13c4d-165">Port libraries</span></span>](libraries.md)
