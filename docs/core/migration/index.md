---
title: .NET Core-Migration über „project.json“
description: Erfahren Sie, wie Sie ein älteres .NET Core-Projekt mithilfe von „project.json“ migrieren.
ms.date: 07/19/2017
ms.custom: seodec18
ms.openlocfilehash: 167f0707bbaf34ce12a1c56ee2320e7cc4f48bd3
ms.sourcegitcommit: 3094dcd17141b32a570a82ae3f62a331616e2c9c
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 10/01/2019
ms.locfileid: "71698917"
---
# <a name="migrating-net-core-projects-from-projectjson"></a><span data-ttu-id="e80db-103">Migrieren von .NET Core-Projekten über „project.json“</span><span class="sxs-lookup"><span data-stu-id="e80db-103">Migrating .NET Core projects from project.json</span></span>

<span data-ttu-id="e80db-104">In diesem Dokument werden die folgenden drei Migrationsszenarien für .NET Core-Projekte behandelt:</span><span class="sxs-lookup"><span data-stu-id="e80db-104">This document covers the following three migration scenarios for .NET Core projects:</span></span>

1. [<span data-ttu-id="e80db-105">Migration von einem gültigen neuesten Schema von *project.json* zu *csproj*</span><span class="sxs-lookup"><span data-stu-id="e80db-105">Migration from a valid latest schema of *project.json* to *csproj*</span></span>](#migration-from-projectjson-to-csproj)
2. [<span data-ttu-id="e80db-106">Migration von DNX zu csproj</span><span class="sxs-lookup"><span data-stu-id="e80db-106">Migration from DNX to csproj</span></span>](#migration-from-dnx-to-csproj)
3. [<span data-ttu-id="e80db-107">Migration von RC3 und früheren .NET Core csproj-Projekten in das endgültige Format</span><span class="sxs-lookup"><span data-stu-id="e80db-107">Migration from RC3 and previous .NET Core csproj projects to the final format</span></span>](#migration-from-earlier-net-core-csproj-formats-to-rtm-csproj)

<span data-ttu-id="e80db-108">Dieses Dokument gilt nur für ältere .NET Core-Projekte, die „project.json“ verwenden.</span><span class="sxs-lookup"><span data-stu-id="e80db-108">This document is only applicable to older .NET Core projects that use project.json.</span></span> <span data-ttu-id="e80db-109">Die hier genannten Informationen gelten nicht für die Migration von .NET Framework zu .NET Core.</span><span class="sxs-lookup"><span data-stu-id="e80db-109">It does not apply to migrating from .NET Framework to .NET Core.</span></span>

## <a name="migration-from-projectjson-to-csproj"></a><span data-ttu-id="e80db-110">Migration von project.json zu csproj</span><span class="sxs-lookup"><span data-stu-id="e80db-110">Migration from project.json to csproj</span></span>

<span data-ttu-id="e80db-111">Die Migration von *project.json* zu *csproj* kann mithilfe einer der folgenden Methoden erfolgen:</span><span class="sxs-lookup"><span data-stu-id="e80db-111">Migration from *project.json* to *.csproj* can be done using one of the following methods:</span></span>

- [<span data-ttu-id="e80db-112">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="e80db-112">Visual Studio</span></span>](#visual-studio)
- [<span data-ttu-id="e80db-113">dotnet migrate-Befehlszeilentool</span><span class="sxs-lookup"><span data-stu-id="e80db-113">dotnet migrate command-line tool</span></span>](#dotnet-migrate)

<span data-ttu-id="e80db-114">Beide Methoden verwenden die gleiche zugrunde liegende Engine, um die Projekte zu migrieren, sodass die Ergebnisse bei beiden gleich sind.</span><span class="sxs-lookup"><span data-stu-id="e80db-114">Both methods use the same underlying engine to migrate the projects, so the results will be the same for both.</span></span> <span data-ttu-id="e80db-115">In den meisten Fällen genügt eine der folgenden beiden Methoden zum Migrieren von *project.json* zu *CSPROJ*-Dateien, und es ist keine weitere manuelle Bearbeitung der Projektdatei erforderlich.</span><span class="sxs-lookup"><span data-stu-id="e80db-115">In most cases, using one of these two ways to migrate the *project.json* to *csproj* is the only thing that is needed, and no further manual editing of the project file is necessary.</span></span> <span data-ttu-id="e80db-116">Die resultierende *.csproj*-Datei erhält denselben Namen wie das Verzeichnis, in dem sie enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="e80db-116">The resulting *.csproj* file will be named the same as the containing directory name.</span></span>

### <a name="visual-studio"></a><span data-ttu-id="e80db-117">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="e80db-117">Visual Studio</span></span>

<span data-ttu-id="e80db-118">Wenn Sie eine *XPROJ*-Datei oder eine Projektmappendatei öffnen, die auf *XPROJ*-Dateien in Visual Studio 2017 oder Visual Studio 2019 Version 16.2 oder früher verweist, wird das Dialogfeld **Unidirektionales Upgrade** angezeigt.</span><span class="sxs-lookup"><span data-stu-id="e80db-118">When you open an *.xproj* file or a solution file that references *.xproj* files in Visual Studio 2017 or Visual Studio 2019 version 16.2 and earlier, the **One-way upgrade** dialog appears.</span></span> <span data-ttu-id="e80db-119">Das Dialogfeld zeigt die Projekte, die migriert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="e80db-119">The dialog displays the projects to be migrated.</span></span> <span data-ttu-id="e80db-120">Wenn Sie eine Projektmappendatei öffnen, werden alle Projekte aufgeführt, die in der Projektmappendatei angegeben sind.</span><span class="sxs-lookup"><span data-stu-id="e80db-120">If you open a solution file, all the projects specified in the solution file are listed.</span></span> <span data-ttu-id="e80db-121">Überprüfen Sie die Liste der Projekte, die migriert werden sollen, und wählen Sie **OK**.</span><span class="sxs-lookup"><span data-stu-id="e80db-121">Review the list of projects to be migrated and select **OK**.</span></span>

![Unidirektionales Upgrade-Dialogfeld mit der Liste der zu migrierenden Projekte](media/one-way-upgrade.jpg)

<span data-ttu-id="e80db-123">Die ausgewählten Projekte werden von Visual Studio automatisch migriert.</span><span class="sxs-lookup"><span data-stu-id="e80db-123">Visual Studio migrates the selected projects automatically.</span></span> <span data-ttu-id="e80db-124">Wenn Sie bei der Migration einer Projektmappe nicht alle Projekte auswählen, wird das gleiche Dialogfeld angezeigt, und Sie werden aufgefordert, für die übrigen Projekte aus dieser Projektmappe ein Upgrade auszuführen.</span><span class="sxs-lookup"><span data-stu-id="e80db-124">When migrating a solution, if you don't choose all projects, the same dialog appears asking you to upgrade the remaining projects from that solution.</span></span> <span data-ttu-id="e80db-125">Nachdem das Projekt migriert wurde, können Sie sich seine Inhalt anzeigen lassen und diese ändern, indem Sie mit der rechten Maustaste auf das Projekt im Fenster **Projektmappen-Explorer** und anschließend auf **Bearbeiten \<Projektname>.csproj** klicken.</span><span class="sxs-lookup"><span data-stu-id="e80db-125">After the project is migrated, you can see and modify its contents by right-clicking the project in the **Solution Explorer** window and selecting **Edit \<project name>.csproj**.</span></span>

<span data-ttu-id="e80db-126">Dateien, die migriert wurden (*project.json*, *global.json*, die *XPROJ*-Datei und die Projektmappendatei), werden in einen *Sicherungsordner* verschoben.</span><span class="sxs-lookup"><span data-stu-id="e80db-126">Files that were migrated (*project.json*, *global.json*, *.xproj*, and solution file) are moved to a *Backup* folder.</span></span> <span data-ttu-id="e80db-127">Für die migrierte Projektmappendatei wird ein Upgrade auf Visual Studio 2017 oder Visual Studio 2019 durchgeführt, und Sie können diese Projektmappe nicht mehr in Visual Studio 2015 oder früheren Versionen öffnen.</span><span class="sxs-lookup"><span data-stu-id="e80db-127">The migrated solution file is upgraded to Visual Studio 2017 or Visual Studio 2019 and you won't be able to open that solution file in Visual Studio 2015 or earlier versions.</span></span> <span data-ttu-id="e80db-128">Eine Datei namens *UpgradeLog.htm*, die einen Migrationsbericht enthält, wird ebenfalls gespeichert und automatisch geöffnet.</span><span class="sxs-lookup"><span data-stu-id="e80db-128">A file named *UpgradeLog.htm* that contains a migration report is also saved and opened automatically.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e80db-129">Sie können Ihre Projekte nicht mithilfe von Visual Studio 2015 migrieren.</span><span class="sxs-lookup"><span data-stu-id="e80db-129">You cannot migrate your projects using Visual Studio 2015.</span></span>

### <a name="dotnet-migrate"></a><span data-ttu-id="e80db-130">dotnet migrate</span><span class="sxs-lookup"><span data-stu-id="e80db-130">dotnet migrate</span></span>

<span data-ttu-id="e80db-131">Im Befehlszeilenszenario können Sie den Befehl [`dotnet migrate`](../tools/dotnet-migrate.md) verwenden.</span><span class="sxs-lookup"><span data-stu-id="e80db-131">In the command-line scenario, you can use the [`dotnet migrate`](../tools/dotnet-migrate.md) command.</span></span> <span data-ttu-id="e80db-132">Dabei werden ein Projekt, eine Projektmappe oder eine Reihe von Ordnern in dieser Reihenfolge migriert, je nachdem ob sie gefunden wurden.</span><span class="sxs-lookup"><span data-stu-id="e80db-132">It migrates a project, a solution, or a set of folders in that order, depending on which ones were found.</span></span> <span data-ttu-id="e80db-133">Wenn Sie ein Projekt migrieren, werden das Projekt und alle zugehörigen Abhängigkeiten migriert.</span><span class="sxs-lookup"><span data-stu-id="e80db-133">When you migrate a project, the project and all its dependencies are migrated.</span></span>

<span data-ttu-id="e80db-134">Dateien, die migriert wurden (*project.json*, *global.json* und *XPROJ*-Dateien), werden in einen *Sicherungsordner* verschoben.</span><span class="sxs-lookup"><span data-stu-id="e80db-134">Files that were migrated (*project.json*, *global.json*, and *.xproj*) are moved to a *backup* folder.</span></span>

> [!NOTE]
> <span data-ttu-id="e80db-135">Bei Verwendung von Visual Studio Code ändert der Befehl `dotnet migrate` Visual Studio Code-spezifische Dateien wie z.B. `tasks.json` nicht.</span><span class="sxs-lookup"><span data-stu-id="e80db-135">If you are using Visual Studio Code, the `dotnet migrate` command does not modify Visual Studio Code-specific files such as `tasks.json`.</span></span> <span data-ttu-id="e80db-136">Diese Dateien müssen manuell geändert werden.</span><span class="sxs-lookup"><span data-stu-id="e80db-136">These files need to be changed manually.</span></span>
> <span data-ttu-id="e80db-137">Dies gilt auch, wenn Sie Project Ryder oder einen anderen Editor oder eine andere Integrierte Entwicklungsumgebung (IDE) als Visual Studio verwenden.</span><span class="sxs-lookup"><span data-stu-id="e80db-137">This is also true if you are using Project Ryder or any editor or Integrated Development Environment (IDE) other than Visual Studio.</span></span>

<span data-ttu-id="e80db-138">Einen Vergleich der Formate project.json und csproj finden Sie unter [Die Zuordnung zwischen project.json und csproj-Eigenschaften](../tools/project-json-to-csproj.md).</span><span class="sxs-lookup"><span data-stu-id="e80db-138">See [A mapping between project.json and csproj properties](../tools/project-json-to-csproj.md) for a comparison of project.json and csproj formats.</span></span>

### <a name="common-issues"></a><span data-ttu-id="e80db-139">Häufig auftretende Probleme</span><span class="sxs-lookup"><span data-stu-id="e80db-139">Common issues</span></span>

- <span data-ttu-id="e80db-140">Wenn Sie folgende Fehlermeldung erhalten: „No executable found matching command dotnet-migrate“ (Keine ausführbare Datei gefunden, die mit dem Befehl dotnet-migrate übereinstimmt):</span><span class="sxs-lookup"><span data-stu-id="e80db-140">If you get an error: "No executable found matching command dotnet-migrate":</span></span>

<span data-ttu-id="e80db-141">Führen Sie `dotnet --version` aus, um zu sehen, welche Version Sie verwenden.</span><span class="sxs-lookup"><span data-stu-id="e80db-141">Run `dotnet --version` to see which version you are using.</span></span> <span data-ttu-id="e80db-142">[`dotnet migrate`](../tools/dotnet-migrate.md) erfordert .NET Core-CLI RC3 oder höher.</span><span class="sxs-lookup"><span data-stu-id="e80db-142">[`dotnet migrate`](../tools/dotnet-migrate.md) requires .NET Core CLI RC3 or higher.</span></span>
<span data-ttu-id="e80db-143">Sie erhalten diese Fehlermeldung, wenn sich eine *global.json*-Datei im aktuellen oder übergeordneten Verzeichnis befindet und die `sdk`-Version auf eine ältere Version festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="e80db-143">You’ll get this error if you have a *global.json* file in the current or parent directory and the `sdk` version is set to an older version.</span></span>

## <a name="migration-from-dnx-to-csproj"></a><span data-ttu-id="e80db-144">Migration von DNX zu csproj</span><span class="sxs-lookup"><span data-stu-id="e80db-144">Migration from DNX to csproj</span></span>

<span data-ttu-id="e80db-145">Wenn Sie für die .NET Core-Entwicklung noch immer DNX verwenden, sollte der Migrationsvorgang in zwei Phasen erfolgen:</span><span class="sxs-lookup"><span data-stu-id="e80db-145">If you are still using DNX for .NET Core development, your migration process should be done in two stages:</span></span>

1. <span data-ttu-id="e80db-146">Verwenden Sie die [existing DNX migration guidance (Hinweise zur Migration von einer vorhandenen DNX)](from-dnx.md), um von DNX zu project-json-aktivierter CLI zu migrieren.</span><span class="sxs-lookup"><span data-stu-id="e80db-146">Use the [existing DNX migration guidance](from-dnx.md) to migrate from DNX to project-json enabled CLI.</span></span>
2. <span data-ttu-id="e80db-147">Führen Sie die Schritte aus dem vorherigen Abschnitt zum Migrieren von *project.json* zu *.csproj* aus.</span><span class="sxs-lookup"><span data-stu-id="e80db-147">Follow the steps from the previous section to migrate from *project.json* to *.csproj*.</span></span>  

> [!NOTE]
> <span data-ttu-id="e80db-148">DNX gilt seit der Preview 1-Version der .NET Core-CLI offiziell als veraltet.</span><span class="sxs-lookup"><span data-stu-id="e80db-148">DNX has become officially deprecated during the Preview 1 release of the .NET Core CLI.</span></span>

## <a name="migration-from-earlier-net-core-csproj-formats-to-rtm-csproj"></a><span data-ttu-id="e80db-149">Migration von früheren .NET Core-csproj-Formaten zu RTM-csproj</span><span class="sxs-lookup"><span data-stu-id="e80db-149">Migration from earlier .NET Core csproj formats to RTM csproj</span></span>

<span data-ttu-id="e80db-150">Das .NET Core-csproj-Format ändert und entwickelt sich mit jeder neuen Vorabversion der Tools.</span><span class="sxs-lookup"><span data-stu-id="e80db-150">The .NET Core csproj format has been changing and evolving with each new pre-release version of the tooling.</span></span> <span data-ttu-id="e80db-151">Es gibt kein Tool, das die Projektdatei von früheren csproj-Versionen zur neuesten migriert, sodass Sie die Projektdatei manuell bearbeiten müssen.</span><span class="sxs-lookup"><span data-stu-id="e80db-151">There is no tool that will migrate your project file from earlier versions of csproj to the latest, so you need to manually edit the project file.</span></span> <span data-ttu-id="e80db-152">Die tatsächlichen Schritte hängen von der Version der Projektdatei ab, die Sie migrieren.</span><span class="sxs-lookup"><span data-stu-id="e80db-152">The actual steps depend on the version of the project file you are migrating.</span></span> <span data-ttu-id="e80db-153">Nachfolgend finden Sie einige zu berücksichtigenden Hinweise, die auf den Änderungen von Version zu Version basieren:</span><span class="sxs-lookup"><span data-stu-id="e80db-153">The following is some guidance to consider based on the changes that happened between versions:</span></span>

- <span data-ttu-id="e80db-154">Entfernen Sie die Tools-Version-Eigenschaft aus dem `<Project>`-Element, sofern vorhanden.</span><span class="sxs-lookup"><span data-stu-id="e80db-154">Remove the tools version property from the `<Project>` element, if it exists.</span></span>
- <span data-ttu-id="e80db-155">Entfernen Sie den XML-Namespace (`xmlns`) aus dem `<Project>`-Element.</span><span class="sxs-lookup"><span data-stu-id="e80db-155">Remove the XML namespace (`xmlns`) from the `<Project>` element.</span></span>
- <span data-ttu-id="e80db-156">Wenn es nicht vorhanden ist, fügen Sie das `Sdk`-Attribut dem `<Project>`-Element hinzu, und legen Sie es auf `Microsoft.NET.Sdk` oder `Microsoft.NET.Sdk.Web` fest.</span><span class="sxs-lookup"><span data-stu-id="e80db-156">If it doesn't exist, add the `Sdk` attribute to the `<Project>` element and set it to `Microsoft.NET.Sdk` or `Microsoft.NET.Sdk.Web`.</span></span> <span data-ttu-id="e80db-157">Dieses Attribut gibt an, dass das Projekt das SDK verwendet, das verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="e80db-157">This attribute specifies that the project uses the SDK to be used.</span></span> <span data-ttu-id="e80db-158">`Microsoft.NET.Sdk.Web` wird für Webanwendungen verwendet.</span><span class="sxs-lookup"><span data-stu-id="e80db-158">`Microsoft.NET.Sdk.Web` is used for web apps.</span></span>
- <span data-ttu-id="e80db-159">Entfernen Sie die Anweisungen `<Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" />` und `<Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />` vom oberen und unteren Rand des Projekts.</span><span class="sxs-lookup"><span data-stu-id="e80db-159">Remove the `<Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" />` and `<Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />` statements from the top and bottom of the project.</span></span> <span data-ttu-id="e80db-160">Diese Importanweisungen werden durch das SDK impliziert, daher müssen Sie nicht im Projekt enthalten sein.</span><span class="sxs-lookup"><span data-stu-id="e80db-160">These import statements are implied by the SDK, so there is no need for them to be in the project.</span></span>
- <span data-ttu-id="e80db-161">Wenn Ihr Projekt `Microsoft.NETCore.App`- oder `NETStandard.Library`-`<PackageReference>`-Elemente enthält, sollten Sie diese entfernen.</span><span class="sxs-lookup"><span data-stu-id="e80db-161">If you have `Microsoft.NETCore.App` or `NETStandard.Library` `<PackageReference>` items in your project, you should remove them.</span></span> <span data-ttu-id="e80db-162">Diese Paketverweise werden [durch das SDK impliziert](https://aka.ms/sdkimplicitrefs).</span><span class="sxs-lookup"><span data-stu-id="e80db-162">These package references are [implied by the SDK](https://aka.ms/sdkimplicitrefs).</span></span>
- <span data-ttu-id="e80db-163">Entfernen Sie das `Microsoft.NET.Sdk`-`<PackageReference>`-Element, sofern vorhanden.</span><span class="sxs-lookup"><span data-stu-id="e80db-163">Remove the `Microsoft.NET.Sdk` `<PackageReference>` element, if it exists.</span></span> <span data-ttu-id="e80db-164">Die SDK-Referenz kommt durch das `Sdk`-Attribut auf dem `<Project>`-Element.</span><span class="sxs-lookup"><span data-stu-id="e80db-164">The SDK reference comes through the `Sdk` attribute on the `<Project>` element.</span></span>
- <span data-ttu-id="e80db-165">Entfernen Sie die [Globs](https://en.wikipedia.org/wiki/Glob_(programming)), die [durch das SDK impliziert](../tools/csproj.md#default-compilation-includes-in-net-core-projects) werden.</span><span class="sxs-lookup"><span data-stu-id="e80db-165">Remove the [globs](https://en.wikipedia.org/wiki/Glob_(programming)) that are [implied by the SDK](../tools/csproj.md#default-compilation-includes-in-net-core-projects).</span></span> <span data-ttu-id="e80db-166">Wenn diese Globs im Projekt bleiben, führt dies zu einem Fehler beim Erstellen, da Compile-Elemente dupliziert werden.</span><span class="sxs-lookup"><span data-stu-id="e80db-166">Leaving these globs in your project will cause an error on build because compile items will be duplicated.</span></span>

<span data-ttu-id="e80db-167">Nach diesen Schritten sollte das Projekt mit dem RTM .NET Core-csproj-Format vollständig kompatibel sein.</span><span class="sxs-lookup"><span data-stu-id="e80db-167">After these steps your project should be fully compatible with the RTM .NET Core csproj format.</span></span>

<span data-ttu-id="e80db-168">Beispiele für vor und nach der Migration vom alten csproj-Format zum neuen finden Sie im Artikel [Updating Visual Studio 2017 RC – .NET Core Tooling improvements (Aktualisieren von Visual Studio 2017 RC – Verbesserungen der .NET Core-Tools)](https://devblogs.microsoft.com/dotnet/updating-visual-studio-2017-rc-net-core-tooling-improvements/) im .NET-Blog.</span><span class="sxs-lookup"><span data-stu-id="e80db-168">For examples of before and after the migration from old csproj format to the new one, see the [Updating Visual Studio 2017 RC – .NET Core Tooling improvements](https://devblogs.microsoft.com/dotnet/updating-visual-studio-2017-rc-net-core-tooling-improvements/) article on the .NET blog.</span></span>

## <a name="see-also"></a><span data-ttu-id="e80db-169">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="e80db-169">See also</span></span>

- [<span data-ttu-id="e80db-170">Übertragung, Migration und Upgrade der Visual Studio-Projekte</span><span class="sxs-lookup"><span data-stu-id="e80db-170">Port, Migrate, and Upgrade Visual Studio Projects</span></span>](/visualstudio/porting/port-migrate-and-upgrade-visual-studio-projects)
