---
title: Sequenzen
description: Erfahren Sie, wie F# Sie Sequenzen verwenden, wenn Sie über eine große, geordnete Sammlung von Daten verfügen, aber nicht unbedingt alle Elemente verwenden.
ms.date: 11/04/2019
ms.openlocfilehash: 34e03f1cead0a9f678f637afcb6c8397ef7572bc
ms.sourcegitcommit: f348c84443380a1959294cdf12babcb804cfa987
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/12/2019
ms.locfileid: "73971448"
---
# <a name="sequences"></a><span data-ttu-id="33998-103">Sequenzen</span><span class="sxs-lookup"><span data-stu-id="33998-103">Sequences</span></span>

> [!NOTE]
> <span data-ttu-id="33998-104">Mit dem API-Referenz-Link in diesem Artikel gelangen Sie auf MSDN.</span><span class="sxs-lookup"><span data-stu-id="33998-104">The API reference links in this article will take you to MSDN.</span></span>  <span data-ttu-id="33998-105">Die docs.microsoft.com-API-Referenz ist nicht abgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="33998-105">The docs.microsoft.com API reference is not complete.</span></span>

<span data-ttu-id="33998-106">Eine *Sequenz* ist eine logische Reihe von Elementen, die alle einen Typ haben.</span><span class="sxs-lookup"><span data-stu-id="33998-106">A *sequence* is a logical series of elements all of one type.</span></span> <span data-ttu-id="33998-107">Sequenzen sind besonders nützlich, wenn Sie über eine große, geordnete Auflistung von Daten verfügen, aber nicht unbedingt alle Elemente erwarten.</span><span class="sxs-lookup"><span data-stu-id="33998-107">Sequences are particularly useful when you have a large, ordered collection of data but do not necessarily expect to use all of the elements.</span></span> <span data-ttu-id="33998-108">Einzelne Sequenz Elemente werden nur bei Bedarf berechnet, sodass eine Sequenz eine bessere Leistung als eine Liste bieten kann, wenn nicht alle Elemente verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="33998-108">Individual sequence elements are computed only as required, so a sequence can provide better performance than a list in situations in which not all the elements are used.</span></span> <span data-ttu-id="33998-109">Sequenzen werden durch den `seq<'T>`-Typ dargestellt, bei dem es sich um einen Alias für <xref:System.Collections.Generic.IEnumerable%601>handelt.</span><span class="sxs-lookup"><span data-stu-id="33998-109">Sequences are represented by the `seq<'T>` type, which is an alias for <xref:System.Collections.Generic.IEnumerable%601>.</span></span> <span data-ttu-id="33998-110">Daher kann jeder .NET-Typ, der <xref:System.Collections.Generic.IEnumerable%601>-Schnittstelle implementiert, als Sequenz verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="33998-110">Therefore, any .NET type that implements <xref:System.Collections.Generic.IEnumerable%601> interface can be used as a sequence.</span></span> <span data-ttu-id="33998-111">Das- [Modul "SQ](https://msdn.microsoft.com/library/54e8f059-ca52-4632-9ae9-49685ee9b684) " bietet Unterstützung für Manipulationen bei Sequenzen.</span><span class="sxs-lookup"><span data-stu-id="33998-111">The [Seq module](https://msdn.microsoft.com/library/54e8f059-ca52-4632-9ae9-49685ee9b684) provides support for manipulations involving sequences.</span></span>

## <a name="sequence-expressions"></a><span data-ttu-id="33998-112">Sequenz Ausdrücke</span><span class="sxs-lookup"><span data-stu-id="33998-112">Sequence Expressions</span></span>

<span data-ttu-id="33998-113">Ein *Sequenz Ausdruck* ist ein Ausdruck, der zu einer Sequenz ausgewertet wird.</span><span class="sxs-lookup"><span data-stu-id="33998-113">A *sequence expression* is an expression that evaluates to a sequence.</span></span> <span data-ttu-id="33998-114">Sequenz Ausdrücke können eine Reihe von Formularen annehmen.</span><span class="sxs-lookup"><span data-stu-id="33998-114">Sequence expressions can take a number of forms.</span></span> <span data-ttu-id="33998-115">In der einfachsten Form wird ein Bereich angegeben.</span><span class="sxs-lookup"><span data-stu-id="33998-115">The simplest form specifies a range.</span></span> <span data-ttu-id="33998-116">Beispielsweise erstellt `seq { 1 .. 5 }` eine Sequenz, die fünf Elemente enthält, einschließlich der Endpunkte 1 und 5.</span><span class="sxs-lookup"><span data-stu-id="33998-116">For example, `seq { 1 .. 5 }` creates a sequence that contains five elements, including the endpoints 1 and 5.</span></span> <span data-ttu-id="33998-117">Sie können auch ein Inkrement (oder Dekrement) zwischen zwei doppelten Perioden angeben.</span><span class="sxs-lookup"><span data-stu-id="33998-117">You can also specify an increment (or decrement) between two double periods.</span></span> <span data-ttu-id="33998-118">Der folgende Code erstellt z. b. die Sequenz von Vielfachen von 10.</span><span class="sxs-lookup"><span data-stu-id="33998-118">For example, the following code creates the sequence of multiples of 10.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-1/snippet1502.fs)]

<span data-ttu-id="33998-119">Sequence-Ausdrücke bestehen aus einer F#-Ausdrücke, die Werte der Sequenz zu erzeugen.</span><span class="sxs-lookup"><span data-stu-id="33998-119">Sequence expressions are made up of F# expressions that produce values of the sequence.</span></span> <span data-ttu-id="33998-120">Sie können Werte auch Programm gesteuert generieren:</span><span class="sxs-lookup"><span data-stu-id="33998-120">You can also generate values programmatically:</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-1/snippet1503.fs)]

<span data-ttu-id="33998-121">Im vorherigen Beispiel wird der `->`-Operator verwendet, der es Ihnen ermöglicht, einen Ausdruck anzugeben, dessen Wert zu einem Teil der Sequenz wird.</span><span class="sxs-lookup"><span data-stu-id="33998-121">The previous sample uses the `->` operator, which allows you to specify an expression whose value will become a part of the sequence.</span></span> <span data-ttu-id="33998-122">Sie können nur `->` verwenden, wenn jeder Teil des nachfolgenden Codes einen Wert zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="33998-122">You can only use `->` if every part of the code that follows it returns a value.</span></span>

<span data-ttu-id="33998-123">Alternativ können Sie das `do`-Schlüsselwort mit einem optionalen `yield` angeben, das folgt:</span><span class="sxs-lookup"><span data-stu-id="33998-123">Alternatively, you can specify the `do` keyword, with an optional `yield` that follows:</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-1/snippet1504.fs)]

<span data-ttu-id="33998-124">Der folgende Code generiert eine Liste von Koordinatenpaaren sowie einen Index in einem Array, das das Raster darstellt.</span><span class="sxs-lookup"><span data-stu-id="33998-124">The following code generates a list of coordinate pairs along with an index into an array that represents the grid.</span></span> <span data-ttu-id="33998-125">Beachten Sie, dass für den ersten `for` Ausdruck eine `do` angegeben werden muss.</span><span class="sxs-lookup"><span data-stu-id="33998-125">Note that the first `for` expression requires a `do` to be specified.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-1/snippet1505.fs)]

<span data-ttu-id="33998-126">Ein `if` Ausdruck, der in einer Sequenz verwendet wird, ist ein Filter.</span><span class="sxs-lookup"><span data-stu-id="33998-126">An `if` expression used in a sequence is a filter.</span></span> <span data-ttu-id="33998-127">Wenn Sie z. b. eine Sequenz von nur Primzahlen generieren möchten, vorausgesetzt, dass Sie über eine Funktions `isprime` vom Typ `int -> bool`verfügen, erstellen Sie die Sequenz wie folgt.</span><span class="sxs-lookup"><span data-stu-id="33998-127">For example, to generate a sequence of only prime numbers, assuming that you have a function `isprime` of type `int -> bool`, construct the sequence as follows.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-1/snippet1506.fs)]

<span data-ttu-id="33998-128">Wie bereits erwähnt, ist hier `do` erforderlich, da keine `else` Verzweigung vorhanden ist, die in die `if`übergeht.</span><span class="sxs-lookup"><span data-stu-id="33998-128">As mentioned previously, `do` is required here because there is no `else` branch that goes with the `if`.</span></span> <span data-ttu-id="33998-129">Wenn Sie versuchen, `->`zu verwenden, erhalten Sie eine Fehlermeldung, die besagt, dass nicht alle Verzweigungen einen Wert zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="33998-129">If you try to use `->`, you'll get an error saying that not all branches return a value.</span></span>

## <a name="the-yield-keyword"></a><span data-ttu-id="33998-130">Das `yield!`-Schlüsselwort</span><span class="sxs-lookup"><span data-stu-id="33998-130">The `yield!` keyword</span></span>

<span data-ttu-id="33998-131">Manchmal möchten Sie möglicherweise eine Sequenz von Elementen in eine andere Sequenz einschließen.</span><span class="sxs-lookup"><span data-stu-id="33998-131">Sometimes, you may wish to include a sequence of elements into another sequence.</span></span> <span data-ttu-id="33998-132">Wenn Sie eine Sequenz in eine andere Sequenz einschließen möchten, müssen Sie das `yield!`-Schlüsselwort verwenden:</span><span class="sxs-lookup"><span data-stu-id="33998-132">To include a sequence within another sequence, you'll need to use the `yield!` keyword:</span></span>

```fsharp
// Repeats '1 2 3 4 5' ten times
seq {
    for _ in 1..10 do
        yield! seq { 1; 2; 3; 4; 5}
}
```

<span data-ttu-id="33998-133">Eine andere Möglichkeit der Betrachtung von `yield!` ist, dass Sie eine innere Sequenz vereinfacht und diese dann in die enthaltende Sequenz einbezieht.</span><span class="sxs-lookup"><span data-stu-id="33998-133">Another way of thinking of `yield!` is that it flattens an inner sequence and then includes that in the containing sequence.</span></span>

<span data-ttu-id="33998-134">Wenn `yield!` in einem Ausdruck verwendet wird, müssen alle anderen einzelnen Werte das `yield`-Schlüsselwort verwenden:</span><span class="sxs-lookup"><span data-stu-id="33998-134">When `yield!` is used in an expression, all other single values must use the `yield` keyword:</span></span>

```fsharp
// Combine repeated values with their values
seq {
    for x in 1..10 do
        yield x
        yield! seq { for i in 1..x -> i}
}
```

<span data-ttu-id="33998-135">Wenn Sie nur `x` im vorherigen Beispiel angeben, führt dies dazu, dass die Sequenz keine Werte erzeugt.</span><span class="sxs-lookup"><span data-stu-id="33998-135">Specifying only `x` in the previous example will result in the sequence generating no values.</span></span>

## <a name="examples"></a><span data-ttu-id="33998-136">Beispiele</span><span class="sxs-lookup"><span data-stu-id="33998-136">Examples</span></span>

<span data-ttu-id="33998-137">Im ersten Beispiel wird ein Sequenz Ausdruck verwendet, der eine Iterations-, Filter-und Yield-Sequenz enthält, um ein Array zu generieren.</span><span class="sxs-lookup"><span data-stu-id="33998-137">The first example uses a sequence expression that contains an iteration, a filter, and a yield to generate an array.</span></span> <span data-ttu-id="33998-138">Mit diesem Code wird eine Sequenz von Primzahlen zwischen 1 und 100 in der Konsole ausgegeben.</span><span class="sxs-lookup"><span data-stu-id="33998-138">This code prints a sequence of prime numbers between 1 and 100 to the console.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-1/snippet1507.fs)]

<span data-ttu-id="33998-139">Im folgenden Beispiel wird eine Multiplikationstabelle erstellt, die aus Tupeln mit drei Elementen besteht, die aus zwei Faktoren und dem Produkt bestehen:</span><span class="sxs-lookup"><span data-stu-id="33998-139">The following example creates a multiplication table that consists of tuples of three elements, each consisting of two factors and the product:</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-1/snippet1508.fs)]

<span data-ttu-id="33998-140">Das folgende Beispiel veranschaulicht die Verwendung von `yield!`, um einzelne Sequenzen in einer einzigen abschließenden Sequenz zu kombinieren.</span><span class="sxs-lookup"><span data-stu-id="33998-140">The following example demonstrates the use of `yield!` to combine individual sequences into a single final sequence.</span></span> <span data-ttu-id="33998-141">In diesem Fall werden die Sequenzen für jede Teilstruktur in einer binären Struktur in einer rekursiven Funktion verkettet, um die endgültige Sequenz zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="33998-141">In this case, the sequences for each subtree in a binary tree are concatenated in a recursive function to produce the final sequence.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-1/snippet1509.fs)]

## <a name="using-sequences"></a><span data-ttu-id="33998-142">Verwenden von Sequenzen</span><span class="sxs-lookup"><span data-stu-id="33998-142">Using Sequences</span></span>

<span data-ttu-id="33998-143">Sequenzen unterstützen viele der gleichen Funktionen wie [Listen](lists.md).</span><span class="sxs-lookup"><span data-stu-id="33998-143">Sequences support many of the same functions as [lists](lists.md).</span></span> <span data-ttu-id="33998-144">Sequenzen unterstützen auch Vorgänge wie z. b. das Gruppieren und zählen mithilfe von Funktionen zum Erstellen von Schlüsseln.</span><span class="sxs-lookup"><span data-stu-id="33998-144">Sequences also support operations such as grouping and counting by using key-generating functions.</span></span> <span data-ttu-id="33998-145">Sequenzen unterstützen außerdem vielfältigere Funktionen zum Extrahieren von unter Sequenzen.</span><span class="sxs-lookup"><span data-stu-id="33998-145">Sequences also support more diverse functions for extracting subsequences.</span></span>

<span data-ttu-id="33998-146">Viele Datentypen, z. b. Listen, Arrays, Mengen und Zuordnungen, sind implizit Sequenzen, da es sich um Aufzähl Bare Auflistungen handelt.</span><span class="sxs-lookup"><span data-stu-id="33998-146">Many data types, such as lists, arrays, sets, and maps are implicitly sequences because they are enumerable collections.</span></span> <span data-ttu-id="33998-147">Eine Funktion, die eine Sequenz als Argument annimmt, funktioniert mit einem der Common F# Data Types, zusätzlich zu einem beliebigen .NET-Datentyp, der `System.Collections.Generic.IEnumerable<'T>`implementiert.</span><span class="sxs-lookup"><span data-stu-id="33998-147">A function that takes a sequence as an argument works with any of the common F# data types, in addition to any .NET data type that implements `System.Collections.Generic.IEnumerable<'T>`.</span></span> <span data-ttu-id="33998-148">Vergleichen Sie dies mit einer Funktion, die eine Liste als Argument annimmt, das nur Listen annehmen kann.</span><span class="sxs-lookup"><span data-stu-id="33998-148">Contrast this to a function that takes a list as an argument, which can only take lists.</span></span> <span data-ttu-id="33998-149">Der Typ `seq<'T>` ist eine typabkürzung für `IEnumerable<'T>`.</span><span class="sxs-lookup"><span data-stu-id="33998-149">The type `seq<'T>` is a type abbreviation for `IEnumerable<'T>`.</span></span> <span data-ttu-id="33998-150">Dies bedeutet, dass jeder Typ, der die generische `System.Collections.Generic.IEnumerable<'T>`implementiert, einschließlich Arrays, Listen, Sätze und Zuordnungen F#in sowie der meisten .net-Auflistungs Typen, mit dem `seq`-Typ kompatibel ist und überall dort verwendet werden kann, wo eine Sequenz erwartet wird.</span><span class="sxs-lookup"><span data-stu-id="33998-150">This means that any type that implements the generic `System.Collections.Generic.IEnumerable<'T>`, which includes arrays, lists, sets, and maps in F#, and also most .NET collection types, is compatible with the `seq` type and can be used wherever a sequence is expected.</span></span>

## <a name="module-functions"></a><span data-ttu-id="33998-151">Modulfunktionen</span><span class="sxs-lookup"><span data-stu-id="33998-151">Module Functions</span></span>

<span data-ttu-id="33998-152">Das- [Modul "SQ](https://msdn.microsoft.com/library/54e8f059-ca52-4632-9ae9-49685ee9b684) " im [Microsoft. FSharp. Collections-Namespace](https://msdn.microsoft.com/library/24f64e5f-5030-47d0-9759-8d3e398ed13f) enthält Funktionen zum Arbeiten mit Sequenzen.</span><span class="sxs-lookup"><span data-stu-id="33998-152">The [Seq module](https://msdn.microsoft.com/library/54e8f059-ca52-4632-9ae9-49685ee9b684) in the [Microsoft.FSharp.Collections namespace](https://msdn.microsoft.com/library/24f64e5f-5030-47d0-9759-8d3e398ed13f) contains functions for working with sequences.</span></span> <span data-ttu-id="33998-153">Diese Funktionen können auch mit Listen, Arrays, Zuordnungen und Sätzen verwendet werden, da alle diese Typen Enumerable sind und daher als Sequenzen behandelt werden können.</span><span class="sxs-lookup"><span data-stu-id="33998-153">These functions work with lists, arrays, maps, and sets as well, because all of those types are enumerable, and therefore can be treated as sequences.</span></span>

## <a name="creating-sequences"></a><span data-ttu-id="33998-154">Erstellen von Sequenzen</span><span class="sxs-lookup"><span data-stu-id="33998-154">Creating Sequences</span></span>

<span data-ttu-id="33998-155">Sequenzen können mithilfe von Sequenz Ausdrücken erstellt werden, wie zuvor beschrieben, oder mithilfe bestimmter Funktionen.</span><span class="sxs-lookup"><span data-stu-id="33998-155">You can create sequences by using sequence expressions, as described previously, or by using certain functions.</span></span>

<span data-ttu-id="33998-156">Sie können eine leere Sequenz mithilfe von "\* [. Empty](https://msdn.microsoft.com/library/3c7f1c69-6117-4782-b2da-0e04d6854f59)" erstellen, oder Sie können mithilfe von "\* [. Singleton](https://msdn.microsoft.com/library/9b8cc460-a282-4ec5-b29a-630ab17e9de7)" eine Sequenz von nur einem angegebenen Element erstellen.</span><span class="sxs-lookup"><span data-stu-id="33998-156">You can create an empty sequence by using [Seq.empty](https://msdn.microsoft.com/library/3c7f1c69-6117-4782-b2da-0e04d6854f59), or you can create a sequence of just one specified element by using [Seq.singleton](https://msdn.microsoft.com/library/9b8cc460-a282-4ec5-b29a-630ab17e9de7).</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet9.fs)]

<span data-ttu-id="33998-157">Mithilfe von " [sq. init](https://msdn.microsoft.com/library/059de69d-812c-4f8e-be86-88aa72101576) " können Sie eine Sequenz erstellen, für die die Elemente mithilfe einer von Ihnen bereitgestellten Funktion erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="33998-157">You can use [Seq.init](https://msdn.microsoft.com/library/059de69d-812c-4f8e-be86-88aa72101576) to create a sequence for which the elements are created by using a function that you provide.</span></span> <span data-ttu-id="33998-158">Außerdem geben Sie eine Größe für die Sequenz an.</span><span class="sxs-lookup"><span data-stu-id="33998-158">You also provide a size for the sequence.</span></span> <span data-ttu-id="33998-159">Diese Funktion ähnelt [List. init](https://msdn.microsoft.com/library/dd38c096-0ea8-4858-be6b-794b90418b83), mit dem Unterschied, dass die Elemente erst erstellt werden, nachdem Sie die Sequenz durchlaufen haben.</span><span class="sxs-lookup"><span data-stu-id="33998-159">This function is just like [List.init](https://msdn.microsoft.com/library/dd38c096-0ea8-4858-be6b-794b90418b83), except that the elements are not created until you iterate through the sequence.</span></span> <span data-ttu-id="33998-160">Das folgende Codebeispiel veranschaulicht die Verwendung von `Seq.init`.</span><span class="sxs-lookup"><span data-stu-id="33998-160">The following code illustrates the use of `Seq.init`.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet10.fs)]

<span data-ttu-id="33998-161">Ausgabe:</span><span class="sxs-lookup"><span data-stu-id="33998-161">The output is</span></span>

```console
0 10 20 30 40
```

<span data-ttu-id="33998-162">Durch die Verwendung von "c [q. ofArray](https://msdn.microsoft.com/library/299cd4d9-be72-4511-aac8-089e1ddaac99) " und " [setq. ofList&#60;'t&#62; Function](https://msdn.microsoft.com/visualfsharpdocs/conceptual/seq.oflist%5b%27t%5d-function-%5bfsharp%5d)" können Sie Sequenzen aus Arrays und Listen erstellen.</span><span class="sxs-lookup"><span data-stu-id="33998-162">By using [Seq.ofArray](https://msdn.microsoft.com/library/299cd4d9-be72-4511-aac8-089e1ddaac99) and [Seq.ofList&#60;'T&#62; Function](https://msdn.microsoft.com/visualfsharpdocs/conceptual/seq.oflist%5b%27t%5d-function-%5bfsharp%5d), you can create sequences from arrays and lists.</span></span> <span data-ttu-id="33998-163">Sie können jedoch auch Arrays und Listen in Sequenzen konvertieren, indem Sie einen Cast-Operator verwenden.</span><span class="sxs-lookup"><span data-stu-id="33998-163">However, you can also convert arrays and lists to sequences by using a cast operator.</span></span> <span data-ttu-id="33998-164">Beide Verfahren werden im folgenden Code dargestellt.</span><span class="sxs-lookup"><span data-stu-id="33998-164">Both techniques are shown in the following code.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet11.fs)]

<span data-ttu-id="33998-165">Mithilfe von "\* [. Cast](https://msdn.microsoft.com/library/1d087db3-a8b2-41dd-8ddc-227544529334)" können Sie eine Sequenz aus einer schwach typisierten Auflistung erstellen, z. b. die in `System.Collections`definierten.</span><span class="sxs-lookup"><span data-stu-id="33998-165">By using [Seq.cast](https://msdn.microsoft.com/library/1d087db3-a8b2-41dd-8ddc-227544529334), you can create a sequence from a weakly typed collection, such as those defined in `System.Collections`.</span></span> <span data-ttu-id="33998-166">Solch schwach typisierte Auflistungen haben den Elementtyp `System.Object` und werden mithilfe des nicht generischen `System.Collections.Generic.IEnumerable&#96;1` Typs aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="33998-166">Such weakly typed collections have the element type `System.Object` and are enumerated by using the non-generic `System.Collections.Generic.IEnumerable&#96;1` type.</span></span> <span data-ttu-id="33998-167">Der folgende Code veranschaulicht die Verwendung von `Seq.cast`, um eine `System.Collections.ArrayList` in eine Sequenz zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="33998-167">The following code illustrates the use of `Seq.cast` to convert an `System.Collections.ArrayList` into a sequence.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet12.fs)]

<span data-ttu-id="33998-168">Mithilfe der Funktion " [setq. initInfinite](https://msdn.microsoft.com/library/d1804e53-da92-48ec-8d6e-57eaf4c62bef) " können Sie unendliche Sequenzen definieren.</span><span class="sxs-lookup"><span data-stu-id="33998-168">You can define infinite sequences by using the [Seq.initInfinite](https://msdn.microsoft.com/library/d1804e53-da92-48ec-8d6e-57eaf4c62bef) function.</span></span> <span data-ttu-id="33998-169">Für eine solche Sequenz geben Sie eine Funktion an, die jedes Element aus dem Index des Elements generiert.</span><span class="sxs-lookup"><span data-stu-id="33998-169">For such a sequence, you provide a function that generates each element from the index of the element.</span></span> <span data-ttu-id="33998-170">Aufgrund der verzögerten Auswertung sind unendliche Sequenzen möglich. Elemente werden nach Bedarf erstellt, indem die von Ihnen angegebene Funktion aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="33998-170">Infinite sequences are possible because of lazy evaluation; elements are created as needed by calling the function that you specify.</span></span> <span data-ttu-id="33998-171">Im folgenden Codebeispiel wird eine unendliche Sequenz von Gleit Komma Zahlen erzeugt, in diesem Fall die abwechselnde Reihe von aufeinander folgenden Ganzzahlen.</span><span class="sxs-lookup"><span data-stu-id="33998-171">The following code example produces an infinite sequence of floating point numbers, in this case the alternating series of reciprocals of squares of successive integers.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet13.fs)]

<span data-ttu-id="33998-172">Mit "" wird eine Sequenz aus einer Berechnungs [Funktion generiert,](https://msdn.microsoft.com/library/7d9232fc-742e-42bc-bdf7-6f130f0eff21) die einen-Zustand annimmt und Sie transformiert, um jedes nachfolgende Element in der Sequenz zu erzeugen.</span><span class="sxs-lookup"><span data-stu-id="33998-172">[Seq.unfold](https://msdn.microsoft.com/library/7d9232fc-742e-42bc-bdf7-6f130f0eff21) generates a sequence from a computation function that takes a state and transforms it to produce each subsequent element in the sequence.</span></span> <span data-ttu-id="33998-173">Der Status ist nur ein Wert, der zum Berechnen der einzelnen Elemente verwendet wird, und kann sich ändern, wenn jedes Element berechnet wird.</span><span class="sxs-lookup"><span data-stu-id="33998-173">The state is just a value that is used to compute each element, and can change as each element is computed.</span></span> <span data-ttu-id="33998-174">Das zweite Argument für `Seq.unfold` ist der Anfangswert, der verwendet wird, um die Sequenz zu starten.</span><span class="sxs-lookup"><span data-stu-id="33998-174">The second argument to `Seq.unfold` is the initial value that is used to start the sequence.</span></span> <span data-ttu-id="33998-175">`Seq.unfold` verwendet einen Optionstyp für den-Zustand, mit dem Sie die Sequenz beenden können, indem Sie den `None`-Wert zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="33998-175">`Seq.unfold` uses an option type for the state, which enables you to terminate the sequence by returning the `None` value.</span></span> <span data-ttu-id="33998-176">Der folgende Code zeigt zwei Beispiele für Sequenzen, `seq1` und `fib`, die von einem `unfold` Vorgang generiert werden.</span><span class="sxs-lookup"><span data-stu-id="33998-176">The following code shows two examples of sequences, `seq1` and `fib`, that are generated by an `unfold` operation.</span></span> <span data-ttu-id="33998-177">Der erste, `seq1`, ist nur eine einfache Sequenz mit Zahlen von bis zu 20.</span><span class="sxs-lookup"><span data-stu-id="33998-177">The first, `seq1`, is just a simple sequence with numbers up to 20.</span></span> <span data-ttu-id="33998-178">Der zweite `fib`verwendet `unfold`, um die "fbonacci"-Sequenz zu berechnen.</span><span class="sxs-lookup"><span data-stu-id="33998-178">The second, `fib`, uses `unfold` to compute the Fibonacci sequence.</span></span> <span data-ttu-id="33998-179">Da jedes Element in der "atbonacci"-Sequenz die Summe der vorherigen beiden "fbonacci"-Zahlen ist, ist der Zustandswert ein Tupel, das aus den vorherigen zwei Zahlen in der Sequenz besteht.</span><span class="sxs-lookup"><span data-stu-id="33998-179">Because each element in the Fibonacci sequence is the sum of the previous two Fibonacci numbers, the state value is a tuple that consists of the previous two numbers in the sequence.</span></span> <span data-ttu-id="33998-180">Der Anfangswert ist `(1,1)`, die ersten beiden Zahlen in der Sequenz.</span><span class="sxs-lookup"><span data-stu-id="33998-180">The initial value is `(1,1)`, the first two numbers in the sequence.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet14.fs)]

<span data-ttu-id="33998-181">Die Ausgabe lautet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="33998-181">The output is as follows:</span></span>

```console
The sequence seq1 contains numbers from 0 to 20.

0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20

The sequence fib contains Fibonacci numbers.

2 3 5 8 13 21 34 55 89 144 233 377 610 987 1597
```

<span data-ttu-id="33998-182">Der folgende Code ist ein Beispiel, das viele der hier beschriebenen Sequenz Modulfunktionen verwendet, um die Werte von unendlichen Sequenzen zu generieren und zu berechnen.</span><span class="sxs-lookup"><span data-stu-id="33998-182">The following code is an example that uses many of the sequence module functions described here to generate and compute the values of infinite sequences.</span></span> <span data-ttu-id="33998-183">Die Ausführung des Codes kann einige Minuten dauern.</span><span class="sxs-lookup"><span data-stu-id="33998-183">The code might take a few minutes to run.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet15.fs)]

## <a name="searching-and-finding-elements"></a><span data-ttu-id="33998-184">Suchen und suchen von Elementen</span><span class="sxs-lookup"><span data-stu-id="33998-184">Searching and Finding Elements</span></span>

<span data-ttu-id="33998-185">Funktionen zur Unterstützung von Sequenzen mit Listen: [Seq.exists](https://msdn.microsoft.com/library/428c97bf-599d-4c39-a5b9-f8717c198ad1), [Seq.exists2](https://msdn.microsoft.com/library/efdf14a4-27f7-4dc1-9281-52639e66d565), [Seq.find](https://msdn.microsoft.com/library/02c21ecd-97e5-4e99-a4c1-b4d0b730b7d8), [Seq.findIndex](https://msdn.microsoft.com/library/96dfe86b-df15-4d92-8316-7cd6055e09f3), [Seq.pick](https://msdn.microsoft.com/library/a87bc771-55f7-43f9-94f9-33d8f9bf325d), [Seq.tryFind](https://msdn.microsoft.com/library/ac43c6f5-4dc7-4e9a-a222-00b5736aee47) und [Seq.tryFindIndex](https://msdn.microsoft.com/library/c357b221-edf6-4f68-bf40-82a3156d945a).</span><span class="sxs-lookup"><span data-stu-id="33998-185">Sequences support functionality available with lists: [Seq.exists](https://msdn.microsoft.com/library/428c97bf-599d-4c39-a5b9-f8717c198ad1), [Seq.exists2](https://msdn.microsoft.com/library/efdf14a4-27f7-4dc1-9281-52639e66d565), [Seq.find](https://msdn.microsoft.com/library/02c21ecd-97e5-4e99-a4c1-b4d0b730b7d8), [Seq.findIndex](https://msdn.microsoft.com/library/96dfe86b-df15-4d92-8316-7cd6055e09f3), [Seq.pick](https://msdn.microsoft.com/library/a87bc771-55f7-43f9-94f9-33d8f9bf325d), [Seq.tryFind](https://msdn.microsoft.com/library/ac43c6f5-4dc7-4e9a-a222-00b5736aee47), and [Seq.tryFindIndex](https://msdn.microsoft.com/library/c357b221-edf6-4f68-bf40-82a3156d945a).</span></span> <span data-ttu-id="33998-186">Die Versionen dieser Funktionen, die für Sequenzen verfügbar sind, Werten die Sequenz nur bis zu dem Element aus, nach dem gesucht wird.</span><span class="sxs-lookup"><span data-stu-id="33998-186">The versions of these functions that are available for sequences evaluate the sequence only up to the element that is being searched for.</span></span> <span data-ttu-id="33998-187">Beispiele finden Sie unter [Listen](https://msdn.microsoft.com/library/83102799-f251-42e1-93ef-64232e8c5b1d).</span><span class="sxs-lookup"><span data-stu-id="33998-187">For examples, see [Lists](https://msdn.microsoft.com/library/83102799-f251-42e1-93ef-64232e8c5b1d).</span></span>

## <a name="obtaining-subsequences"></a><span data-ttu-id="33998-188">Abrufen von unter Sequenzen</span><span class="sxs-lookup"><span data-stu-id="33998-188">Obtaining Subsequences</span></span>

<span data-ttu-id="33998-189">" [Set](https://msdn.microsoft.com/library/7f2e9850-a660-460c-9831-3bbff5613770) " und "Set" sind wie die entsprechenden Funktionen, die für Listen verfügbar sind, mit [dem Unterschied](https://msdn.microsoft.com/library/63b83b06-4b24-4239-bf69-a2c12d891395) , dass das Filtern und auswählen erst erfolgt, wenn die Sequenz Elemente ausgewertet werden.</span><span class="sxs-lookup"><span data-stu-id="33998-189">[Seq.filter](https://msdn.microsoft.com/library/7f2e9850-a660-460c-9831-3bbff5613770) and [Seq.choose](https://msdn.microsoft.com/library/63b83b06-4b24-4239-bf69-a2c12d891395) are like the corresponding functions that are available for lists, except that the filtering and choosing does not occur until the sequence elements are evaluated.</span></span>

<span data-ttu-id="33998-190">Mit " [sq. TRUNCATE](https://msdn.microsoft.com/library/1892dfeb-308e-45e2-857a-3c3405d02244) " wird eine Sequenz aus einer anderen Sequenz erstellt, die Sequenz wird jedoch auf eine angegebene Anzahl von Elementen beschränkt.</span><span class="sxs-lookup"><span data-stu-id="33998-190">[Seq.truncate](https://msdn.microsoft.com/library/1892dfeb-308e-45e2-857a-3c3405d02244) creates a sequence from another sequence, but limits the sequence to a specified number of elements.</span></span> <span data-ttu-id="33998-191">"\* [. Take](https://msdn.microsoft.com/library/6e75f701-640b-4c4a-9d63-4313fc090596) " erstellt eine neue Sequenz, die nur eine angegebene Anzahl von Elementen ab dem Anfang einer Sequenz enthält.</span><span class="sxs-lookup"><span data-stu-id="33998-191">[Seq.take](https://msdn.microsoft.com/library/6e75f701-640b-4c4a-9d63-4313fc090596) creates a new sequence that contains only a specified number of elements from the start of a sequence.</span></span> <span data-ttu-id="33998-192">Wenn in der Sequenz weniger Elemente vorhanden sind, als Sie angeben, wird von `Seq.take` eine `System.InvalidOperationException`ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="33998-192">If there are fewer elements in the sequence than you specify to take, `Seq.take` throws a `System.InvalidOperationException`.</span></span> <span data-ttu-id="33998-193">Der Unterschied zwischen `Seq.take` und `Seq.truncate` besteht darin, dass `Seq.truncate` keinen Fehler erzeugt, wenn die Anzahl der Elemente kleiner ist als die Anzahl, die Sie angeben.</span><span class="sxs-lookup"><span data-stu-id="33998-193">The difference between `Seq.take` and `Seq.truncate` is that `Seq.truncate` does not produce an error if the number of elements is fewer than the number you specify.</span></span>

<span data-ttu-id="33998-194">Der folgende Code zeigt das Verhalten und Unterschiede zwischen `Seq.truncate` und `Seq.take`.</span><span class="sxs-lookup"><span data-stu-id="33998-194">The following code shows the behavior of and differences between `Seq.truncate` and `Seq.take`.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet16.fs)]

<span data-ttu-id="33998-195">Die Ausgabe vor dem Auftreten des Fehlers lautet wie folgt.</span><span class="sxs-lookup"><span data-stu-id="33998-195">The output, before the error occurs, is as follows.</span></span>

```console
1 4 9 16 25
1 4 9 16 25 36 49 64 81 100
1 4 9 16 25
1 4 9 16 25 36 49 64 81 100
```

<span data-ttu-id="33998-196">Mithilfe von "\* [. TakeWhile](https://msdn.microsoft.com/library/19eea4ce-66e0-4353-b015-72eb03421d92)" können Sie eine Prädikat Funktion angeben (eine boolesche Funktion) und eine Sequenz aus einer anderen Sequenz erstellen, die aus den Elementen der ursprünglichen Sequenz besteht, für die das Prädikat `true`ist, aber vor dem ersten Element für die, die das Prädikat `false`zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="33998-196">By using [Seq.takeWhile](https://msdn.microsoft.com/library/19eea4ce-66e0-4353-b015-72eb03421d92), you can specify a predicate function (a Boolean function) and create a sequence from another sequence made up of those elements of the original sequence for which the predicate is `true`, but stop before the first element for which the predicate returns `false`.</span></span> <span data-ttu-id="33998-197">" [Sq. Skip](https://msdn.microsoft.com/library/b4eb3f08-8594-4d17-8180-852c6c688bf1) " gibt eine Sequenz zurück, die eine angegebene Anzahl von ersten Elementen einer anderen Sequenz überspringt und die restlichen Elemente zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="33998-197">[Seq.skip](https://msdn.microsoft.com/library/b4eb3f08-8594-4d17-8180-852c6c688bf1) returns a sequence that skips a specified number of the first elements of another sequence and returns the remaining elements.</span></span> <span data-ttu-id="33998-198">"\* [. SkipWhile](https://msdn.microsoft.com/library/fb729021-2a3c-430f-83c3-0b37526f1a16) " gibt eine Sequenz zurück, die die ersten Elemente einer anderen Sequenz überspringt, solange das Prädikat `true`zurückgibt, und dann die restlichen Elemente zurückgibt, beginnend mit dem ersten Element, für das das Prädikat `false`zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="33998-198">[Seq.skipWhile](https://msdn.microsoft.com/library/fb729021-2a3c-430f-83c3-0b37526f1a16) returns a sequence that skips the first elements of another sequence as long as the predicate returns `true`, and then returns the remaining elements, starting with the first element for which the predicate returns `false`.</span></span>

<span data-ttu-id="33998-199">Das folgende Codebeispiel veranschaulicht das Verhalten von und unterschieden zwischen `Seq.takeWhile`, `Seq.skip`und `Seq.skipWhile`.</span><span class="sxs-lookup"><span data-stu-id="33998-199">The following code example illustrates the behavior of and differences between `Seq.takeWhile`, `Seq.skip`, and `Seq.skipWhile`.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet17.fs)]

<span data-ttu-id="33998-200">Die Ausgabe lautet wie folgt.</span><span class="sxs-lookup"><span data-stu-id="33998-200">The output is as follows.</span></span>

```console
1 4 9
36 49 64 81 100
16 25 36 49 64 81 100
```

## <a name="transforming-sequences"></a><span data-ttu-id="33998-201">Transformieren von Sequenzen</span><span class="sxs-lookup"><span data-stu-id="33998-201">Transforming Sequences</span></span>

<span data-ttu-id="33998-202">[Seq. paarweise](https://msdn.microsoft.com/library/210dcf26-4e24-4d83-af6d-a8288b2ae4b1) erstellt eine neue Sequenz, in der aufeinander folgende Elemente der Eingabe Sequenz in Tupel gruppiert werden.</span><span class="sxs-lookup"><span data-stu-id="33998-202">[Seq.pairwise](https://msdn.microsoft.com/library/210dcf26-4e24-4d83-af6d-a8288b2ae4b1) creates a new sequence in which successive elements of the input sequence are grouped into tuples.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet18.fs)]

<span data-ttu-id="33998-203">" [Seq. Windowed](https://msdn.microsoft.com/library/8b565b8f-d645-4dba-be22-099075fe4744) " ist wie `Seq.pairwise`, mit der Ausnahme, dass anstelle einer Sequenz von Tupeln eine Sequenz von Arrays erzeugt wird, die Kopien von angrenzenden Elementen (ein *Fenster*) aus der Sequenz enthalten.</span><span class="sxs-lookup"><span data-stu-id="33998-203">[Seq.windowed](https://msdn.microsoft.com/library/8b565b8f-d645-4dba-be22-099075fe4744) is like `Seq.pairwise`, except that instead of producing a sequence of tuples, it produces a sequence of arrays that contain copies of adjacent elements (a *window*) from the sequence.</span></span> <span data-ttu-id="33998-204">Sie geben die Anzahl der angrenzenden Elemente in jedem Array an.</span><span class="sxs-lookup"><span data-stu-id="33998-204">You specify the number of adjacent elements you want in each array.</span></span>

<span data-ttu-id="33998-205">Das folgende Codebeispiel veranschaulicht die Verwendung von `Seq.windowed`.</span><span class="sxs-lookup"><span data-stu-id="33998-205">The following code example demonstrates the use of `Seq.windowed`.</span></span> <span data-ttu-id="33998-206">In diesem Fall ist die Anzahl der Elemente im Fenster 3.</span><span class="sxs-lookup"><span data-stu-id="33998-206">In this case the number of elements in the window is 3.</span></span> <span data-ttu-id="33998-207">Im Beispiel wird `printSeq`verwendet, das im vorherigen Codebeispiel definiert wurde.</span><span class="sxs-lookup"><span data-stu-id="33998-207">The example uses `printSeq`, which is defined in the previous code example.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet180.fs)]

<span data-ttu-id="33998-208">Die Ausgabe lautet wie folgt.</span><span class="sxs-lookup"><span data-stu-id="33998-208">The output is as follows.</span></span>

<span data-ttu-id="33998-209">Anfangssequenz:</span><span class="sxs-lookup"><span data-stu-id="33998-209">Initial sequence:</span></span>

```console
1.0 1.5 2.0 1.5 1.0 1.5

Windows of length 3:
[|1.0; 1.5; 2.0|] [|1.5; 2.0; 1.5|] [|2.0; 1.5; 1.0|] [|1.5; 1.0; 1.5|]

Moving average:
1.5 1.666666667 1.5 1.333333333
```

## <a name="operations-with-multiple-sequences"></a><span data-ttu-id="33998-210">Vorgänge mit mehreren Sequenzen</span><span class="sxs-lookup"><span data-stu-id="33998-210">Operations with Multiple Sequences</span></span>

<span data-ttu-id="33998-211">[Seq. zip](https://msdn.microsoft.com/library/0a5df8bf-0d48-44ce-bff4-e8ef1df5bca4) und [Seq. zip3](https://msdn.microsoft.com/library/ef13bebb-22ae-4eb9-873b-87dd29154d16) nehmen zwei oder drei Sequenzen an und erstellen eine Sequenz von Tupeln.</span><span class="sxs-lookup"><span data-stu-id="33998-211">[Seq.zip](https://msdn.microsoft.com/library/0a5df8bf-0d48-44ce-bff4-e8ef1df5bca4) and [Seq.zip3](https://msdn.microsoft.com/library/ef13bebb-22ae-4eb9-873b-87dd29154d16) take two or three sequences and produce a sequence of tuples.</span></span> <span data-ttu-id="33998-212">Diese Funktionen sind wie die entsprechenden Funktionen, die für [Listen](https://msdn.microsoft.com/library/83102799-f251-42e1-93ef-64232e8c5b1d)verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="33998-212">These functions are like the corresponding functions available for [lists](https://msdn.microsoft.com/library/83102799-f251-42e1-93ef-64232e8c5b1d).</span></span> <span data-ttu-id="33998-213">Es gibt keine entsprechende Funktionalität zum Trennen einer Sequenz in zwei oder mehr Sequenzen.</span><span class="sxs-lookup"><span data-stu-id="33998-213">There is no corresponding functionality to separate one sequence into two or more sequences.</span></span> <span data-ttu-id="33998-214">Wenn Sie diese Funktionalität für eine Sequenz benötigen, konvertieren Sie die Sequenz in eine Liste, und verwenden Sie [List. unzip](https://msdn.microsoft.com/library/639db80c-41b5-45bb-a6b4-1eaa04d61d21).</span><span class="sxs-lookup"><span data-stu-id="33998-214">If you need this functionality for a sequence, convert the sequence to a list and use [List.unzip](https://msdn.microsoft.com/library/639db80c-41b5-45bb-a6b4-1eaa04d61d21).</span></span>

## <a name="sorting-comparing-and-grouping"></a><span data-ttu-id="33998-215">Sortieren, vergleichen und gruppieren</span><span class="sxs-lookup"><span data-stu-id="33998-215">Sorting, Comparing, and Grouping</span></span>

<span data-ttu-id="33998-216">Die Sortierfunktionen, die für Listen unterstützt werden, funktionieren auch mit Sequenzen.</span><span class="sxs-lookup"><span data-stu-id="33998-216">The sorting functions supported for lists also work with sequences.</span></span> <span data-ttu-id="33998-217">Dies schließt "\* [. Sort](https://msdn.microsoft.com/library/327ea595-e77c-4529-b61e-8c6cbf5ec92e) " und "\*. [SortBy](https://msdn.microsoft.com/library/4f8b4fb9-bf20-49d9-b4ee-dcc906c8208f)" ein.</span><span class="sxs-lookup"><span data-stu-id="33998-217">This includes [Seq.sort](https://msdn.microsoft.com/library/327ea595-e77c-4529-b61e-8c6cbf5ec92e) and [Seq.sortBy](https://msdn.microsoft.com/library/4f8b4fb9-bf20-49d9-b4ee-dcc906c8208f).</span></span> <span data-ttu-id="33998-218">Diese Funktionen durchlaufen die gesamte Sequenz.</span><span class="sxs-lookup"><span data-stu-id="33998-218">These functions iterate through the whole sequence.</span></span>

<span data-ttu-id="33998-219">Sie vergleichen zwei Sequenzen [mithilfe der Funktion](https://msdn.microsoft.com/library/5a740135-0b3a-4545-816f-8f91cc31290f) "" von "".</span><span class="sxs-lookup"><span data-stu-id="33998-219">You compare two sequences by using the [Seq.compareWith](https://msdn.microsoft.com/library/5a740135-0b3a-4545-816f-8f91cc31290f) function.</span></span> <span data-ttu-id="33998-220">Die-Funktion vergleicht aufeinander folgende Elemente und beendet, wenn Sie auf das erste ungleiche paar trifft.</span><span class="sxs-lookup"><span data-stu-id="33998-220">The function compares successive elements in turn, and stops when it encounters the first unequal pair.</span></span> <span data-ttu-id="33998-221">Alle zusätzlichen Elemente tragen nicht zum Vergleich bei.</span><span class="sxs-lookup"><span data-stu-id="33998-221">Any additional elements do not contribute to the comparison.</span></span>

<span data-ttu-id="33998-222">Im folgenden Code wird die Verwendung von `Seq.compareWith` veranschaulicht:</span><span class="sxs-lookup"><span data-stu-id="33998-222">The following code shows the use of `Seq.compareWith`.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet19.fs)]

<span data-ttu-id="33998-223">Im vorherigen Code wird nur das erste Element berechnet und überprüft, und das Ergebnis ist-1.</span><span class="sxs-lookup"><span data-stu-id="33998-223">In the previous code, only the first element is computed and examined, and the result is -1.</span></span>

<span data-ttu-id="33998-224">"" Ist eine Funktion, die für jedes Element einen Wert [mit](https://msdn.microsoft.com/library/721702a5-150e-4fe8-81cd-ffbf8476cc1f) dem Namen " *Key* " generiert.</span><span class="sxs-lookup"><span data-stu-id="33998-224">[Seq.countBy](https://msdn.microsoft.com/library/721702a5-150e-4fe8-81cd-ffbf8476cc1f) takes a function that generates a value called a *key* for each element.</span></span> <span data-ttu-id="33998-225">Ein Schlüssel wird für jedes Element generiert, indem diese Funktion für jedes Element aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="33998-225">A key is generated for each element by calling this function on each element.</span></span> <span data-ttu-id="33998-226">`Seq.countBy` gibt dann eine Sequenz zurück, die die Schlüsselwerte und die Anzahl der Elemente enthält, die jeden Wert des Schlüssels generiert haben.</span><span class="sxs-lookup"><span data-stu-id="33998-226">`Seq.countBy` then returns a sequence that contains the key values, and a count of the number of elements that generated each value of the key.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet201.fs)]

<span data-ttu-id="33998-227">Die Ausgabe lautet wie folgt.</span><span class="sxs-lookup"><span data-stu-id="33998-227">The output is as follows.</span></span>

```console
(1, 34) (2, 33) (0, 33)
```

<span data-ttu-id="33998-228">Die vorherige Ausgabe zeigt, dass 34 Elemente der ursprünglichen Sequenz vorhanden waren, die den Schlüssel 1, 33-Werte, die den Schlüssel 2 erstellt haben, und 33-Werte, die den Schlüssel 0 erzeugt haben, erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="33998-228">The previous output shows that there were 34 elements of the original sequence that produced the key 1, 33 values that produced the key 2, and 33 values that produced the key 0.</span></span>

<span data-ttu-id="33998-229">Sie können Elemente einer Sequenz gruppieren, indem Sie "\* [. GroupBy](https://msdn.microsoft.com/library/d46a04df-1a42-40cc-a368-058c9c5806fd)" aufrufen.</span><span class="sxs-lookup"><span data-stu-id="33998-229">You can group elements of a sequence by calling [Seq.groupBy](https://msdn.microsoft.com/library/d46a04df-1a42-40cc-a368-058c9c5806fd).</span></span> <span data-ttu-id="33998-230">`Seq.groupBy` nimmt eine Sequenz und eine Funktion an, die einen Schlüssel aus einem-Element generiert.</span><span class="sxs-lookup"><span data-stu-id="33998-230">`Seq.groupBy` takes a sequence and a function that generates a key from an element.</span></span> <span data-ttu-id="33998-231">Die-Funktion wird für jedes Element der Sequenz ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="33998-231">The function is executed on each element of the sequence.</span></span> <span data-ttu-id="33998-232">`Seq.groupBy` gibt eine Sequenz von Tupeln zurück, wobei das erste Element jedes Tupels der Schlüssel und das zweite eine Sequenz von Elementen ist, die diesen Schlüssel erzeugt.</span><span class="sxs-lookup"><span data-stu-id="33998-232">`Seq.groupBy` returns a sequence of tuples, where the first element of each tuple is the key and the second is a sequence of elements that produce that key.</span></span>

<span data-ttu-id="33998-233">Im folgenden Codebeispiel wird die Verwendung von `Seq.groupBy` zum Partitionieren der Sequenz von Zahlen von 1 bis 100 in drei Gruppen mit den eindeutigen Schlüsselwerten 0, 1 und 2 veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="33998-233">The following code example shows the use of `Seq.groupBy` to partition the sequence of numbers from 1 to 100 into three groups that have the distinct key values 0, 1, and 2.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet202.fs)]

<span data-ttu-id="33998-234">Die Ausgabe lautet wie folgt.</span><span class="sxs-lookup"><span data-stu-id="33998-234">The output is as follows.</span></span>

```console
(1, seq [1; 4; 7; 10; ...]) (2, seq [2; 5; 8; 11; ...]) (0, seq [3; 6; 9; 12; ...])
```

<span data-ttu-id="33998-235">Sie können eine Sequenz erstellen, die doppelte Elemente durch Aufrufen von "\* [. verschieden](https://msdn.microsoft.com/library/99d01014-7e0e-4e7b-9d0a-41a61d93f401)" entfernt.</span><span class="sxs-lookup"><span data-stu-id="33998-235">You can create a sequence that eliminates duplicate elements by calling [Seq.distinct](https://msdn.microsoft.com/library/99d01014-7e0e-4e7b-9d0a-41a61d93f401).</span></span> <span data-ttu-id="33998-236">Oder Sie können " [sq. distinctBy](https://msdn.microsoft.com/library/9293293b-9420-49c8-848f-401a9cd49b75)" verwenden, das eine Schlüssel generierende Funktion verwendet, die für jedes Element aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="33998-236">Or you can use [Seq.distinctBy](https://msdn.microsoft.com/library/9293293b-9420-49c8-848f-401a9cd49b75), which takes a key-generating function to be called on each element.</span></span> <span data-ttu-id="33998-237">Die resultierende Sequenz enthält Elemente der ursprünglichen Sequenz mit eindeutigen Schlüsseln. spätere Elemente, die einen doppelten Schlüssel zu einem früheren Element liefern, werden verworfen.</span><span class="sxs-lookup"><span data-stu-id="33998-237">The resulting sequence contains elements of the original sequence that have unique keys; later elements that produce a duplicate key to an earlier element are discarded.</span></span>

<span data-ttu-id="33998-238">Das folgende Codebeispiel veranschaulicht die Verwendung von `Seq.distinct`.</span><span class="sxs-lookup"><span data-stu-id="33998-238">The following code example illustrates the use of `Seq.distinct`.</span></span> <span data-ttu-id="33998-239">`Seq.distinct` wird veranschaulicht, indem Sequenzen erzeugt werden, die binäre Zahlen darstellen, und dann zeigt, dass die einzigen unterschiedlichen Elemente 0 und 1 sind.</span><span class="sxs-lookup"><span data-stu-id="33998-239">`Seq.distinct` is demonstrated by generating sequences that represent binary numbers, and then showing that the only distinct elements are 0 and 1.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet22.fs)]

<span data-ttu-id="33998-240">Der folgende Code veranschaulicht die `Seq.distinctBy`, indem mit einer Sequenz begonnen wird, die negative und positive Zahlen enthält und die absolute value-Funktion als Schlüssel generierende Funktion verwendet.</span><span class="sxs-lookup"><span data-stu-id="33998-240">The following code demonstrates `Seq.distinctBy` by starting with a sequence that contains negative and positive numbers and using the absolute value function as the key-generating function.</span></span> <span data-ttu-id="33998-241">In der resultierenden Sequenz fehlen alle positiven Zahlen, die den negativen Zahlen in der Sequenz entsprechen, da die negativen Zahlen an früherer Stelle in der Sequenz angezeigt werden und daher anstelle der positiven Zahlen mit dem gleichen absoluten Wert ausgewählt werden. -Wert oder-Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="33998-241">The resulting sequence is missing all the positive numbers that correspond to the negative numbers in the sequence, because the negative numbers appear earlier in the sequence and therefore are selected instead of the positive numbers that have the same absolute value, or key.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet23.fs)]

## <a name="readonly-and-cached-sequences"></a><span data-ttu-id="33998-242">Schreibgeschützte und zwischengespeicherte Sequenzen</span><span class="sxs-lookup"><span data-stu-id="33998-242">Readonly and Cached Sequences</span></span>

<span data-ttu-id="33998-243">Mit "\*" wird eine schreibgeschützte Kopie einer [Sequenz erstellt.](https://msdn.microsoft.com/library/88059cb4-3bb0-4126-9448-fbcd48fe13a7)</span><span class="sxs-lookup"><span data-stu-id="33998-243">[Seq.readonly](https://msdn.microsoft.com/library/88059cb4-3bb0-4126-9448-fbcd48fe13a7) creates a read-only copy of a sequence.</span></span> <span data-ttu-id="33998-244">`Seq.readonly` ist nützlich, wenn Sie über eine Auflistung mit Lese-/Schreibzugriff verfügen, z. b. ein Array, und Sie die ursprüngliche Auflistung nicht ändern möchten.</span><span class="sxs-lookup"><span data-stu-id="33998-244">`Seq.readonly` is useful when you have a read-write collection, such as an array, and you do not want to modify the original collection.</span></span> <span data-ttu-id="33998-245">Diese Funktion kann verwendet werden, um die Daten Kapselung beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="33998-245">This function can be used to preserve data encapsulation.</span></span> <span data-ttu-id="33998-246">Im folgenden Codebeispiel wird ein Typ erstellt, der ein Array enthält.</span><span class="sxs-lookup"><span data-stu-id="33998-246">In the following code example, a type that contains an array is created.</span></span> <span data-ttu-id="33998-247">Eine Eigenschaft macht das Array verfügbar, aber anstelle eines Arrays gibt es eine Sequenz zurück, die aus dem Array mithilfe von `Seq.readonly`erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="33998-247">A property exposes the array, but instead of returning an array, it returns a sequence that is created from the array by using `Seq.readonly`.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssequences/snippet24.fs)]

<span data-ttu-id="33998-248">" [Sq. Cache](https://msdn.microsoft.com/library/d197f9cc-08bf-4986-9869-246e72ca73f0) " erstellt eine gespeicherte Version einer Sequenz.</span><span class="sxs-lookup"><span data-stu-id="33998-248">[Seq.cache](https://msdn.microsoft.com/library/d197f9cc-08bf-4986-9869-246e72ca73f0) creates a stored version of a sequence.</span></span> <span data-ttu-id="33998-249">Verwenden Sie `Seq.cache`, um eine erneute Auswertung einer Sequenz zu vermeiden, oder wenn Sie über mehrere Threads verfügen, die eine Sequenz verwenden, aber Sie müssen sicherstellen, dass jedes Element nur einmal bearbeitet wird.</span><span class="sxs-lookup"><span data-stu-id="33998-249">Use `Seq.cache` to avoid reevaluation of a sequence, or when you have multiple threads that use a sequence, but you must make sure that each element is acted upon only one time.</span></span> <span data-ttu-id="33998-250">Wenn Sie eine Sequenz haben, die von mehreren Threads verwendet wird, können Sie einen Thread verwenden, der die Werte für die ursprüngliche Sequenz auflistet und berechnet, und die verbleibenden Threads können die zwischengespeicherte Sequenz verwenden.</span><span class="sxs-lookup"><span data-stu-id="33998-250">When you have a sequence that is being used by multiple threads, you can have one thread that enumerates and computes the values for the original sequence, and remaining threads can use the cached sequence.</span></span>

## <a name="performing-computations-on-sequences"></a><span data-ttu-id="33998-251">Ausführen von Berechnungen für Sequenzen</span><span class="sxs-lookup"><span data-stu-id="33998-251">Performing Computations on Sequences</span></span>

<span data-ttu-id="33998-252">Einfache arithmetische Operationen ähneln denen von Listen, wie z [. b. "\*. Average](https://msdn.microsoft.com/library/609d793b-c70f-4e36-9ab4-d928056d65b8)", "\* [. Sum](https://msdn.microsoft.com/library/01208515-4880-4358-91f5-af34f66dc77a)", "\* [. averageBy](https://msdn.microsoft.com/library/47c855c1-2dbd-415a-885e-b909d9d3e4f8)", " [sq. sumBy](https://msdn.microsoft.com/library/68cca78c-94ed-4a45-9b8d-34d2c5f2b1b1)" usw.</span><span class="sxs-lookup"><span data-stu-id="33998-252">Simple arithmetic operations are like those of lists, such as [Seq.average](https://msdn.microsoft.com/library/609d793b-c70f-4e36-9ab4-d928056d65b8), [Seq.sum](https://msdn.microsoft.com/library/01208515-4880-4358-91f5-af34f66dc77a), [Seq.averageBy](https://msdn.microsoft.com/library/47c855c1-2dbd-415a-885e-b909d9d3e4f8), [Seq.sumBy](https://msdn.microsoft.com/library/68cca78c-94ed-4a45-9b8d-34d2c5f2b1b1), and so on.</span></span>

<span data-ttu-id="33998-253">" [Setq. Fold](https://msdn.microsoft.com/library/30c4c95a-9563-4c96-bbe1-f7aacfd026e3)", " [setq. Reduce](https://msdn.microsoft.com/library/a2ad4f64-ac69-47d2-92f0-7173d9dfeae9)" und " [setq. Scan](https://msdn.microsoft.com/library/7e2d23e9-f153-4411-a884-b6d415ff627e) " ähneln den entsprechenden Funktionen, die für Listen verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="33998-253">[Seq.fold](https://msdn.microsoft.com/library/30c4c95a-9563-4c96-bbe1-f7aacfd026e3), [Seq.reduce](https://msdn.microsoft.com/library/a2ad4f64-ac69-47d2-92f0-7173d9dfeae9), and [Seq.scan](https://msdn.microsoft.com/library/7e2d23e9-f153-4411-a884-b6d415ff627e) are like the corresponding functions that are available for lists.</span></span> <span data-ttu-id="33998-254">Sequenzen unterstützen eine Teilmenge der vollständigen Variationen dieser Funktionen, die die-Unterstützung auflisten.</span><span class="sxs-lookup"><span data-stu-id="33998-254">Sequences support a subset of the full variations of these functions that lists support.</span></span> <span data-ttu-id="33998-255">Weitere Informationen und Beispiele finden Sie unter [Listen](lists.md).</span><span class="sxs-lookup"><span data-stu-id="33998-255">For more information and examples, see [Lists](lists.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="33998-256">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="33998-256">See also</span></span>

- [<span data-ttu-id="33998-257">F#-Sprachreferenz</span><span class="sxs-lookup"><span data-stu-id="33998-257">F# Language Reference</span></span>](index.md)
- [<span data-ttu-id="33998-258">F#-Typen</span><span class="sxs-lookup"><span data-stu-id="33998-258">F# Types</span></span>](fsharp-types.md)
