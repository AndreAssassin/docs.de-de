---
title: Import und Export von Schemas
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF, schema import and export
- XsdDataContractExporter class
- XsdDataContractImporter class
ms.assetid: 0da32b50-ccd9-463a-844c-7fe803d3bf44
ms.openlocfilehash: 9f13f9d95c40b964c5eb416c590a5d603d714bac
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/18/2019
ms.locfileid: "59133779"
---
# <a name="schema-import-and-export"></a><span data-ttu-id="45b12-102">Import und Export von Schemas</span><span class="sxs-lookup"><span data-stu-id="45b12-102">Schema Import and Export</span></span>
<span data-ttu-id="45b12-103">Windows Communication Foundation (WCF) umfasst eine neue Serialisierungs-Engine, die <xref:System.Runtime.Serialization.DataContractSerializer>.</span><span class="sxs-lookup"><span data-stu-id="45b12-103">Windows Communication Foundation (WCF) includes a new serialization engine, the <xref:System.Runtime.Serialization.DataContractSerializer>.</span></span> <span data-ttu-id="45b12-104">`DataContractSerializer` übersetzt zwischen [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]-Objekten und XML (in beide Richtungen).</span><span class="sxs-lookup"><span data-stu-id="45b12-104">The `DataContractSerializer` translates between [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] objects and XML (in both directions).</span></span> <span data-ttu-id="45b12-105">Zusätzlich zum Serialisierungsprogramm selbst enthält WCF zugeordneten Schema-Import / Export-Mechanismen Schema.</span><span class="sxs-lookup"><span data-stu-id="45b12-105">In addition to the serializer itself, WCF includes associated schema import and schema export mechanisms.</span></span> <span data-ttu-id="45b12-106">*Schema* ist eine formale, genaue und maschinenlesbare Beschreibung der Form des XML-Codes, die das Serialisierungsprogramm erstellt oder auf das Deserialisierungsprogramm zugreifen kann.</span><span class="sxs-lookup"><span data-stu-id="45b12-106">*Schema* is a formal, precise, and machine-readable description of the shape of XML that the serializer produces or that the deserializer can access.</span></span> <span data-ttu-id="45b12-107">WCF verwendet die World Wide Web Consortium (W3C) XML-Schemadefinitionssprache (XSD) als schemadarstellung, die mit zahlreichen Plattformen von Drittanbietern weitgehend interoperabel ist.</span><span class="sxs-lookup"><span data-stu-id="45b12-107">WCF uses the World Wide Web Consortium (W3C) XML Schema definition language (XSD) as its schema representation, which is widely interoperable with numerous third-party platforms.</span></span>  
  
 <span data-ttu-id="45b12-108">Die Schemaimportkomponente <xref:System.Runtime.Serialization.XsdDataContractImporter> generiert anhand eines XSD-Schemadokuments [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]-Klassen (normalerweise Datenvertragsklassen), sodass die serialisierten Formen dem angegebenen Schema entsprechen.</span><span class="sxs-lookup"><span data-stu-id="45b12-108">The schema import component, <xref:System.Runtime.Serialization.XsdDataContractImporter>, takes an XSD schema document and generates [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] classes (normally data contract classes) such that the serialized forms correspond to the given schema.</span></span>  
  
 <span data-ttu-id="45b12-109">Das folgende Schemafragment:</span><span class="sxs-lookup"><span data-stu-id="45b12-109">For example, the following schema fragment:</span></span>  
  
 [!code-csharp[c_SchemaImportExport#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#8)]
 [!code-vb[c_SchemaImportExport#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#8)]  
  
 <span data-ttu-id="45b12-110">generiert beispielsweise den folgenden Typ (zugunsten einer besseren Lesbarkeit leicht vereinfacht).</span><span class="sxs-lookup"><span data-stu-id="45b12-110">generates the following type (simplified slightly for better readability).</span></span>  
  
 [!code-csharp[c_SchemaImportExport#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#1)]
 [!code-vb[c_SchemaImportExport#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#1)]  
  
 <span data-ttu-id="45b12-111">Beachten Sie, dass der generierte Typ mehreren empfohlenen Vorgehensweisen für Datenverträge folgt (finden Sie im [Best Practices: Versionsverwaltung von Datenverträgen](../../../../docs/framework/wcf/best-practices-data-contract-versioning.md)):</span><span class="sxs-lookup"><span data-stu-id="45b12-111">Note that the generated type follows several data contract best practices (found in [Best Practices: Data Contract Versioning](../../../../docs/framework/wcf/best-practices-data-contract-versioning.md)):</span></span>  
  
-   <span data-ttu-id="45b12-112">Der Typ implementiert die <xref:System.Runtime.Serialization.IExtensibleDataObject>-Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="45b12-112">The type implements the <xref:System.Runtime.Serialization.IExtensibleDataObject> interface.</span></span> <span data-ttu-id="45b12-113">Weitere Informationen finden Sie unter [Aufwärtskompatible Datenverträge](../../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="45b12-113">For more information, see [Forward-Compatible Data Contracts](../../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md).</span></span>  
  
-   <span data-ttu-id="45b12-114">Datenmember werden als öffentliche Eigenschaften implementiert, die private Felder umschließen.</span><span class="sxs-lookup"><span data-stu-id="45b12-114">Data members are implemented as public properties that wrap private fields.</span></span>  
  
-   <span data-ttu-id="45b12-115">Die Klasse ist eine partielle Klasse, und Hinzufügungen können vorgenommen werden, ohne generierten Code zu ändern.</span><span class="sxs-lookup"><span data-stu-id="45b12-115">The class is a partial class, and additions can be made without modifying generated code.</span></span>  
  
 <span data-ttu-id="45b12-116">Mit <xref:System.Runtime.Serialization.XsdDataContractExporter> können Sie umgekehrt verfahren und anhand von Typen, die mit `DataContractSerializer` serialisierbar sind, ein XSD-Schemadokument generieren.</span><span class="sxs-lookup"><span data-stu-id="45b12-116">The <xref:System.Runtime.Serialization.XsdDataContractExporter> enables you to do the reverse—take types that are serializable with the `DataContractSerializer` and generate an XSD Schema document.</span></span>  
  
## <a name="fidelity-is-not-guaranteed"></a><span data-ttu-id="45b12-117">Keine Garantie für die Originaltreue</span><span class="sxs-lookup"><span data-stu-id="45b12-117">Fidelity Is Not Guaranteed</span></span>  
 <span data-ttu-id="45b12-118">Bei einem Roundtrip wird keine Garantie für die Originaltreue von Schemas oder Typen übernommen.</span><span class="sxs-lookup"><span data-stu-id="45b12-118">It is not guaranteed that schema or types make a round trip with total fidelity.</span></span> <span data-ttu-id="45b12-119">(Ein *Roundtrip* Mittel zum Importieren eines Schemas zum Erstellen einer Reihe von Klassen und zum export des Ergebnisses zum Erstellen eines Schemas.) Das gleiche Schema wird möglicherweise nicht zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="45b12-119">(A *round trip* means to import a schema to create a set of classes, and export the result to create a schema again.) The same schema may not be returned.</span></span> <span data-ttu-id="45b12-120">Auch bei der Umkehrung des Prozesses ist eine Beibehaltung der Originaltreue nicht garantiert.</span><span class="sxs-lookup"><span data-stu-id="45b12-120">Reversing the process is also not guaranteed to preserve fidelity.</span></span> <span data-ttu-id="45b12-121">(Exportieren Sie einen Typ, um sein Schema zu generieren, und importieren Sie den Typ dann wieder zurück.</span><span class="sxs-lookup"><span data-stu-id="45b12-121">(Export a type to generate its schema, and then import the type back.</span></span> <span data-ttu-id="45b12-122">Es ist unwahrscheinlich, dass der gleiche Typ zurückgegeben wird.)</span><span class="sxs-lookup"><span data-stu-id="45b12-122">It is unlikely the same type is returned.)</span></span>  
  
## <a name="supported-types"></a><span data-ttu-id="45b12-123">Unterstützte Typen</span><span class="sxs-lookup"><span data-stu-id="45b12-123">Supported Types</span></span>  
 <span data-ttu-id="45b12-124">Das Datenvertragsmodell unterstützt nur eine beschränkte Teilmenge des WC3-Schemas.</span><span class="sxs-lookup"><span data-stu-id="45b12-124">The data contract model supports only a limited subset of the WC3 schema.</span></span> <span data-ttu-id="45b12-125">Jedes Schema, das dieser Teilmenge nicht entspricht, verursacht während des Importprozesses eine Ausnahme.</span><span class="sxs-lookup"><span data-stu-id="45b12-125">Any schema that does not conform to this subset will cause an exception during the import process.</span></span> <span data-ttu-id="45b12-126">Es gibt beispielsweise keine Möglichkeit festzulegen, dass ein Datenmember eines Datenvertrags als XML-Attribut serialisiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="45b12-126">For example, there is no way to specify that a data member of a data contract should be serialized as an XML attribute.</span></span> <span data-ttu-id="45b12-127">Schemas, die XML-Attribute erfordern, werden daher nicht unterstützt und verursachen beim Import Ausnahmen, da es nicht möglich ist, einen Datenvertrag mit der richtigen XML-Projektion zu generieren.</span><span class="sxs-lookup"><span data-stu-id="45b12-127">Thus, schemas that require the use of XML attributes are not supported and will cause exceptions during import, because it is impossible to generate a data contract with the correct XML projection.</span></span>  
  
 <span data-ttu-id="45b12-128">Das folgende Schemafragment kann z. B. nicht mit den Standardimporteinstellungen importiert werden.</span><span class="sxs-lookup"><span data-stu-id="45b12-128">For example, the following schema fragment cannot be imported using the default import settings.</span></span>  
  
 [!code-xml[c_SchemaImportExport#9](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#9)]  
  
 <span data-ttu-id="45b12-129">Weitere Informationen finden Sie unter [Datenvertrags-Schemareferenz](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md).</span><span class="sxs-lookup"><span data-stu-id="45b12-129">For more information, see [Data Contract Schema Reference](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md).</span></span> <span data-ttu-id="45b12-130">Wenn ein Schema den Datenvertragsregeln nicht entspricht, verwenden Sie eine andere Serialisierungs-Engine.</span><span class="sxs-lookup"><span data-stu-id="45b12-130">If a schema does not conform to the data contract rules, use a different serialization engine.</span></span> <span data-ttu-id="45b12-131"><xref:System.Xml.Serialization.XmlSerializer> verwendet z. B. einen eigenen separaten Schemaimportmechanismus.</span><span class="sxs-lookup"><span data-stu-id="45b12-131">For example, the <xref:System.Xml.Serialization.XmlSerializer> uses its own separate schema import mechanism.</span></span> <span data-ttu-id="45b12-132">Außerdem gibt es einen speziellen Importmodus, durch den weitere Schemas unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="45b12-132">Also, there is a special import mode in which the range of supported schema is expanded.</span></span> <span data-ttu-id="45b12-133">Weitere Informationen finden Sie im Abschnitt zum Generieren von <xref:System.Xml.Serialization.IXmlSerializable> Typen im [Importieren von Schemas zum Generieren von Klassen](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md).</span><span class="sxs-lookup"><span data-stu-id="45b12-133">For more information, see the section about generating <xref:System.Xml.Serialization.IXmlSerializable> types in [Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md).</span></span>  
  
 <span data-ttu-id="45b12-134">`XsdDataContractExporter` unterstützt alle [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]-Typen, die mit `DataContractSerializer` serialisiert werden können.</span><span class="sxs-lookup"><span data-stu-id="45b12-134">The `XsdDataContractExporter` supports any [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] types that can be serialized with the `DataContractSerializer`.</span></span> <span data-ttu-id="45b12-135">Weitere Informationen finden Sie unter [Types Supported by the Data Contract Serializer](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md).</span><span class="sxs-lookup"><span data-stu-id="45b12-135">For more information, see [Types Supported by the Data Contract Serializer](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md).</span></span> <span data-ttu-id="45b12-136">Beachten Sie, dass mit `XsdDataContractExporter` generierte Schemas normalerweise gültige Daten sind, die von `XsdDataContractImporter` verwendet werden können (sofern <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> nicht zur Anpassung des Schemas verwendet wird).</span><span class="sxs-lookup"><span data-stu-id="45b12-136">Note that schema generated using the `XsdDataContractExporter` is normally valid data that the `XsdDataContractImporter` can use (unless the <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> is used to customize the schema).</span></span>  
  
 <span data-ttu-id="45b12-137">Weitere Informationen zur Verwendung der <xref:System.Runtime.Serialization.XsdDataContractImporter>, finden Sie unter [Importieren von Schemas zum Generieren von Klassen](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md).</span><span class="sxs-lookup"><span data-stu-id="45b12-137">For more information about using the <xref:System.Runtime.Serialization.XsdDataContractImporter>, see [Importing Schema to Generate Classes](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md).</span></span>  
  
 <span data-ttu-id="45b12-138">Weitere Informationen zur Verwendung der <xref:System.Runtime.Serialization.XsdDataContractExporter>, finden Sie unter [Exportieren von Schemas aus Klassen](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md).</span><span class="sxs-lookup"><span data-stu-id="45b12-138">For more information about using the <xref:System.Runtime.Serialization.XsdDataContractExporter>, see [Exporting Schemas from Classes](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="45b12-139">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="45b12-139">See also</span></span>

- <xref:System.Runtime.Serialization.DataContractSerializer>
- <xref:System.Runtime.Serialization.XsdDataContractImporter>
- <xref:System.Runtime.Serialization.XsdDataContractExporter>
- [<span data-ttu-id="45b12-140">Importieren von Schemas zum Generieren von Klassen</span><span class="sxs-lookup"><span data-stu-id="45b12-140">Importing Schema to Generate Classes</span></span>](../../../../docs/framework/wcf/feature-details/importing-schema-to-generate-classes.md)
- [<span data-ttu-id="45b12-141">Exportieren von Schemas aus Klassen</span><span class="sxs-lookup"><span data-stu-id="45b12-141">Exporting Schemas from Classes</span></span>](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md)
