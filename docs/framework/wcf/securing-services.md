---
title: Sichern von Diensten
ms.date: 03/30/2017
helpviewer_keywords:
- configuration [WCF], securing services
- WCF security
- WCF, security
ms.assetid: f0ecc6f7-f4b5-42a4-9cb1-b02e28e26620
ms.openlocfilehash: 65d4f2858c2be4c2a6872f96ef3739bb16253d74
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/08/2019
ms.locfileid: "59157669"
---
# <a name="securing-services"></a><span data-ttu-id="74087-102">Sichern von Diensten</span><span class="sxs-lookup"><span data-stu-id="74087-102">Securing Services</span></span>
<span data-ttu-id="74087-103">Die Sicherheit eines Windows Communication Foundation (WCF)-Diensts besteht aus zwei primären Anforderungen: übertragungssicherheit und Autorisierung.</span><span class="sxs-lookup"><span data-stu-id="74087-103">Security of a Windows Communication Foundation (WCF) service consists of two primary requirements: transfer security and authorization.</span></span> <span data-ttu-id="74087-104">(Eine dritte Anforderung, Überwachung von Sicherheitsereignissen, finden Sie im [Überwachung](../../../docs/framework/wcf/feature-details/auditing-security-events.md).) In Kürze: Übertragungssicherheit umfasst Authentifizierung (Überprüfen der Identität sowohl des Diensts als auch des Clients), Vertraulichkeit (Nachrichtenverschlüsselung) und Integrität (digitales Signieren zur Manipulationserkennung).</span><span class="sxs-lookup"><span data-stu-id="74087-104">(A third requirement, auditing of security events, is described in [Auditing](../../../docs/framework/wcf/feature-details/auditing-security-events.md).) In brief, transfer security includes authentication (verifying the identity of both the service and the client), confidentiality (message encryption), and integrity (digital signing to detect tampering).</span></span> <span data-ttu-id="74087-105">Autorisierung ist die Steuerung des Ressourcenzugriffs, beispielsweise wird nur Benutzern mit entsprechenden Berechtigungen das Lesen einer Datei ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="74087-105">Authorization is the control of access to resources, for example, allowing only privileged users to read a file.</span></span> <span data-ttu-id="74087-106">Verwenden die Funktionen von WCF, die beiden primären Anforderungen problemlos implementieren.</span><span class="sxs-lookup"><span data-stu-id="74087-106">Using features of WCF, the two primary requirements are easily implemented.</span></span>  
  
 <span data-ttu-id="74087-107">Mit Ausnahme von der <xref:System.ServiceModel.BasicHttpBinding> Klasse (oder die [ \<BasicHttpBinding >](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) Element in der Konfiguration), übertragungssicherheit standardmäßig für alle vordefinierten Bindungen aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="74087-107">With the exception of the <xref:System.ServiceModel.BasicHttpBinding> class (or the [\<basicHttpBinding>](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) element in configuration), transfer security is enabled by default for all of the predefined bindings.</span></span> <span data-ttu-id="74087-108">Die Themen in diesem Abschnitt behandeln zwei grundlegende Szenarien: das Implementieren von Übertragungssicherheit und die Autorisierung in einem Intranetdienst, der von Internetinformationsdienste (IIS) gehostet wird, sowie das Implementieren von Übertragungssicherheit und Autorisierung in einem von IIS gehosteten Dienst.</span><span class="sxs-lookup"><span data-stu-id="74087-108">The topics in this section cover two basic scenarios: implementing transfer security and authorization on an intranet service hosted on Internet Information Services (IIS), and implementing transfer security and authorization on a service hosted on IIS.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="74087-109">Windows XP Home unterstützt keine Windows-Authentifizierung.</span><span class="sxs-lookup"><span data-stu-id="74087-109">Windows XP Home does not support Windows authentication.</span></span> <span data-ttu-id="74087-110">Deshalb sollten Sie keinen Dienst auf diesem System ausführen.</span><span class="sxs-lookup"><span data-stu-id="74087-110">Therefore, you should not run a service on that system.</span></span>  
  
## <a name="security-basics"></a><span data-ttu-id="74087-111">Grundlagen zur Sicherheit</span><span class="sxs-lookup"><span data-stu-id="74087-111">Security Basics</span></span>  
 <span data-ttu-id="74087-112">Sicherheit basiert auf *Anmeldeinformationen*.</span><span class="sxs-lookup"><span data-stu-id="74087-112">Security relies on *credentials*.</span></span> <span data-ttu-id="74087-113">Anmeldeinformationen beweisen, dass es sich bei einer Entität tatsächlich um die angegebene Entität handelt.</span><span class="sxs-lookup"><span data-stu-id="74087-113">A credential proves that an entity is who it claims to be.</span></span> <span data-ttu-id="74087-114">(Eine *Entität* möglich, eine Person, ein Prozess, ein Unternehmen oder alle Elemente, die autorisiert werden kann.) Beispielsweise ein Client eines Diensts stellt ein *Anspruch* von *Identität*, und die Anmeldeinformationen Beweisen diese Angaben auf irgendeine Weise.</span><span class="sxs-lookup"><span data-stu-id="74087-114">(An *entity* can be a person, a software process, a company, or anything that can be authorized.) For example, a client of a service makes a *claim* of *identity*, and the credential proves that claim in some manner.</span></span> <span data-ttu-id="74087-115">In einem typischen Szenario tritt ein Austausch von Anmeldeinformationen auf.</span><span class="sxs-lookup"><span data-stu-id="74087-115">In a typical scenario, an exchange of credentials occurs.</span></span> <span data-ttu-id="74087-116">Zunächst erklärt ein Dienst seinen Identitätsanspruch und erbringt dem Client in Form von Anmeldeinformationen den entsprechenden Nachweis.</span><span class="sxs-lookup"><span data-stu-id="74087-116">First, a service makes a claim of its identity and proves it to the client with a credential.</span></span> <span data-ttu-id="74087-117">Umgekehrt erklärt der Client einen Identitätsanspruch und legt dem Dienst seine Anmeldeinformationen vor.</span><span class="sxs-lookup"><span data-stu-id="74087-117">Conversely, the client makes a claim of identity and presents a credential to the service.</span></span> <span data-ttu-id="74087-118">Wenn die beiden Parteien die Anmeldeinformationen der jeweils anderen Partei als vertrauenswürdig einstufen, kann ein *sicherer Kontext* eingerichtet werden, in dem alle Nachrichten vertraulich ausgetauscht werden, und in dem alle Nachrichten zum Schutz ihrer Integrität signiert werden.</span><span class="sxs-lookup"><span data-stu-id="74087-118">If both parties trust the other's credentials, then a *secure context* can be established in which all messages are exchanged in confidentiality, and all messages are signed to protect their integrity.</span></span> <span data-ttu-id="74087-119">Nach der Einrichtung der Clientidentität durch den Dienst können die Ansprüche in den Anmeldeinformationen mit einer *Rolle* oder *Mitgliedschaft* in einer Gruppe abgeglichen werden.</span><span class="sxs-lookup"><span data-stu-id="74087-119">After the service establishes the client's identity, it can then match the claims in the credential to a *role* or *membership* in a group.</span></span> <span data-ttu-id="74087-120">In beiden Fällen *autorisiert* der Dienst den Client mit der Rolle oder der Gruppe, zu der der Client gehört, für die Durchführung einer begrenzten Anzahl von Vorgängen auf Grundlage der Rollen- oder Gruppenberechtigungen.</span><span class="sxs-lookup"><span data-stu-id="74087-120">In either case, using the role or the group to which the client belongs, the service *authorizes* the client to perform a limited set of operations based on the role or group privileges.</span></span>  
  
## <a name="windows-security-mechanisms"></a><span data-ttu-id="74087-121">Windows-Sicherheitsmechanismen</span><span class="sxs-lookup"><span data-stu-id="74087-121">Windows Security Mechanisms</span></span>  
 <span data-ttu-id="74087-122">Befinden sich sowohl der Client als auch der Dienstcomputer in einer Windows-Domäne, die den Client und den Computer zur Anmeldung am Netzwerk auffordert, werden die Anmeldeinformationen von der Windows-Infrastruktur bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="74087-122">If the client and the service computer are both on a Windows domain that requires both to log on to the network, the credentials are provided by Windows infrastructure.</span></span> <span data-ttu-id="74087-123">In diesem Fall werden die Anmeldeinformationen angegeben, wenn sich ein Computerbenutzer am Netzwerk anmeldet.</span><span class="sxs-lookup"><span data-stu-id="74087-123">In that case, the credentials are established when a computer user logs on to the network.</span></span> <span data-ttu-id="74087-124">Jeder Benutzer und Computer im Netzwerk muss so überprüft werden, als ob er zur vertrauenswürdigen Benutzer- und Computergruppe gehört.</span><span class="sxs-lookup"><span data-stu-id="74087-124">Every user and every computer on the network must be validated as belonging to the trusted set of users and computers.</span></span> <span data-ttu-id="74087-125">Auf einem Windows-System werden jeder derartige Benutzer und Computer auch als *Sicherheitsprinzipal*bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="74087-125">On a Windows system, every such user and computer is also known as a *security principal*.</span></span>  
  
 <span data-ttu-id="74087-126">In einer durch einen *Kerberos* -Controller gesicherten Windows-Domäne wird ein Schema verwendet, das auf dem Gewähren von Tickets für jeden Sicherheitsprinzipal basiert.</span><span class="sxs-lookup"><span data-stu-id="74087-126">On a Windows domain backed by a *Kerberos* controller, the Kerberos controller uses a scheme based on granting tickets to each security principal.</span></span> <span data-ttu-id="74087-127">Die vom Controller gewährten Tickets werden von anderen Komponenten im System, die Tickets gewähren, als vertrauenswürdig eingestuft.</span><span class="sxs-lookup"><span data-stu-id="74087-127">The tickets the controller grants are trusted by other ticket granters in the system.</span></span> <span data-ttu-id="74087-128">Wenn eine Entität versucht, einen Vorgang auszuführen oder auf eine *Ressource* zuzugreifen, (wie eine Datei oder ein Verzeichnis auf einem Computer), wird das Ticket auf seine Gültigkeit überprüft. Bei Bestehen der Gültigkeitsprüfung wird dem Prinzipal ein weiteres Ticket für den Vorgang gewährt.</span><span class="sxs-lookup"><span data-stu-id="74087-128">Whenever an entity tries to perform some operation or access a *resource* (such as a file or directory on a machine), the ticket is examined for its validity and, if it passes, the principal is granted another ticket for the operation.</span></span> <span data-ttu-id="74087-129">Diese Methode der Ticketgewährung ist effizienter als die Überprüfung des Prinzipals bei jedem Vorgang.</span><span class="sxs-lookup"><span data-stu-id="74087-129">This method of granting tickets is more efficient than the alternative of trying to validate the principal for every operation.</span></span>  
  
 <span data-ttu-id="74087-130">Ein älterer, auf Windows-Domänen verwendeter und weniger sicherer Mechanismus ist NT-LAN-Manager (NTLM).</span><span class="sxs-lookup"><span data-stu-id="74087-130">An older, less-secure mechanism used on Windows domains is NT LAN Manager (NTLM).</span></span> <span data-ttu-id="74087-131">In Fällen, in denen Kerberos nicht verwendbar ist (normalerweise außerhalb einer Windows-Domäne, zum Beispiel in einer Arbeitsgruppe), kann alternativ NTLM verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="74087-131">In cases where Kerberos cannot be used (typically outside of a Windows domain, such as in a workgroup), NTLM can be used as an alternative.</span></span> <span data-ttu-id="74087-132">NTLM ist auch als Sicherheitsoption für IIS verfügbar.</span><span class="sxs-lookup"><span data-stu-id="74087-132">NTLM is also available as a security option for IIS.</span></span>  
  
 <span data-ttu-id="74087-133">Auf einem Windows-System funktioniert die Autorisierung durch Zuweisen jedes Computers und Benutzers zu einem Rollen- oder Gruppensatz.</span><span class="sxs-lookup"><span data-stu-id="74087-133">On a Windows system, authorization works by assigning each computer and user to a set of roles and groups.</span></span> <span data-ttu-id="74087-134">Beispielsweise muss jeder Windows-Computer von einer Person (oder Gruppe von Personen) in der Rolle des *Administrators*eingerichtet und gesteuert werden.</span><span class="sxs-lookup"><span data-stu-id="74087-134">For example, every Windows computer must be set up and controlled by a person (or group of people) in the role of the *administrator*.</span></span> <span data-ttu-id="74087-135">Eine andere Rolle ist die des *Benutzers*, der über einen weitaus stärker eingeschränkten Berechtigungssatz verfügt.</span><span class="sxs-lookup"><span data-stu-id="74087-135">Another role is that of the *user*, which has a much more constrained set of permissions.</span></span> <span data-ttu-id="74087-136">Zusätzlich zur Rolle werden Benutzer Gruppen zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="74087-136">In addition to the role, users are assigned to groups.</span></span> <span data-ttu-id="74087-137">Eine Gruppe ermöglicht mehreren Benutzern, Vorgänge in derselben Rolle auszuführen.</span><span class="sxs-lookup"><span data-stu-id="74087-137">A group allows multiple users to perform in the same role.</span></span> <span data-ttu-id="74087-138">In der Praxis wird ein Windows-Computer daher durch Zuweisen von Benutzern zu Gruppen verwaltet.</span><span class="sxs-lookup"><span data-stu-id="74087-138">In practice, therefore, a Windows machine is administered by assigning users to groups.</span></span> <span data-ttu-id="74087-139">Beispielsweise können mehrere Benutzer der Gruppe von Computerbenutzern zugewiesen werden, und eine weitaus stärker begrenzte Benutzergruppe kann der Administratorgruppe hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="74087-139">For example, several users can be assigned to the group of users of a computer, and a much more constrained set of users can be assigned to the group of administrators.</span></span> <span data-ttu-id="74087-140">Auf einem lokalen Computer kann ein Administrator auch neue Gruppen erstellen und der Gruppe andere Benutzern zuweisen (oder auch andere Gruppen).</span><span class="sxs-lookup"><span data-stu-id="74087-140">On a local machine, an administrator can also create new groups and assign other users (or even other groups) to the group.</span></span>  
  
 <span data-ttu-id="74087-141">Auf einem Computer, der unter Windows ausgeführt wird, kann jeder Ordner in einem Verzeichnis geschützt werden.</span><span class="sxs-lookup"><span data-stu-id="74087-141">On a computer running Windows, every folder in a directory can be protected.</span></span> <span data-ttu-id="74087-142">Dies bedeutet, dass Sie einen Ordner auswählen und steuern können, wer auf die Dateien zugreifen darf und ob das Kopieren oder (bei den am weitesten reichenden Berechtigungen) Ändern und Löschen der Datei bzw. das Hinzufügen von Dateien zum Ordner zulässig sind.</span><span class="sxs-lookup"><span data-stu-id="74087-142">That is, you can select a folder and control who can access the files, and whether or not they can copy the file, or (in the most privileged case) change a file, delete a file, or add files to the folder.</span></span> <span data-ttu-id="74087-143">Dies wird als Zugriffssteuerung bezeichnet, und der entsprechende Mechanismus ist unter dem Namen Zugriffssteuerungsliste (ACL) bekannt.</span><span class="sxs-lookup"><span data-stu-id="74087-143">This is known as access control, and the mechanism for it is known as the access control list (ACL).</span></span> <span data-ttu-id="74087-144">Beim Erstellen der Zugriffssteuerungsliste können jeder beliebigen Gruppe sowie einzelnen Mitgliedern einer Domäne Zugriffsberechtigungen erteilt werden.</span><span class="sxs-lookup"><span data-stu-id="74087-144">When creating the ACL, you can assign access privileges to any group or groups, as well as individual members of a domain.</span></span>  
  
 <span data-ttu-id="74087-145">Die WCF-Infrastruktur dient diese Windows-Sicherheitsmechanismen beruhen.</span><span class="sxs-lookup"><span data-stu-id="74087-145">The WCF infrastructure is designed to use these Windows security mechanisms.</span></span> <span data-ttu-id="74087-146">Beim Erstellen eines Diensts, der in einem Intranet bereitgestellt wird, und dessen Clients auf Mitglieder der Windows-Domäne beschränkt sind, wird die Sicherheit problemlos implementiert.</span><span class="sxs-lookup"><span data-stu-id="74087-146">Therefore, if you are creating a service that is deployed on an intranet, and whose clients are restricted to members of the Windows domain, security is easily implemented.</span></span> <span data-ttu-id="74087-147">Nur gültige Benutzer können sich an der Domäne anmelden.</span><span class="sxs-lookup"><span data-stu-id="74087-147">Only valid users can log on to the domain.</span></span> <span data-ttu-id="74087-148">Nach der Anmeldung der Benutzer ermöglicht der Kerberos-Controller jedem Benutzer die Einrichtung sicherer Kontexte mit einem beliebigen Computer oder einer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="74087-148">After users are logged on, the Kerberos controller enables each user to establish secure contexts with any other computer or application.</span></span> <span data-ttu-id="74087-149">Auf einem lokalen Computer können problemlos Gruppen erstellt werden, und beim Schutz von bestimmten Ordnern können mit diesen Gruppen Zugriffsberechtigungen auf dem Computer zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="74087-149">On a local machine, groups can be easily created, and when protecting specific folders, those groups can be used to assign access privileges on the computer.</span></span>  
  
## <a name="implementing-windows-security-on-intranet-services"></a><span data-ttu-id="74087-150">Implementieren von Windows-Sicherheit auf Intranetdiensten</span><span class="sxs-lookup"><span data-stu-id="74087-150">Implementing Windows Security on Intranet Services</span></span>  
 <span data-ttu-id="74087-151">Soll eine Anwendung gesichert werden, die exklusiv auf einer Windows-Domäne ausgeführt wird, können die Standardsicherheitseinstellungen von entweder der <xref:System.ServiceModel.WSHttpBinding> -Bindung oder der <xref:System.ServiceModel.NetTcpBinding> -Bindung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="74087-151">To secure an application that runs exclusively on a Windows domain, you can use the default security settings of either the <xref:System.ServiceModel.WSHttpBinding> or the <xref:System.ServiceModel.NetTcpBinding> binding.</span></span> <span data-ttu-id="74087-152">Standardmäßig kann alle Benutzer in der gleichen Windows-Domäne WCF-Dienste zugreifen.</span><span class="sxs-lookup"><span data-stu-id="74087-152">By default, anyone on the same Windows domain can access WCF services.</span></span> <span data-ttu-id="74087-153">Da sich diese Benutzer am Netzwerk angemeldet haben, werden sie als vertrauenswürdig eingestuft.</span><span class="sxs-lookup"><span data-stu-id="74087-153">Because those users have logged on to the network, they are trusted.</span></span> <span data-ttu-id="74087-154">Die Nachrichten zwischen einem Dienst und einem Client werden aus Vertraulichkeitsgründen verschlüsselt und zu Integritätszwecken signiert.</span><span class="sxs-lookup"><span data-stu-id="74087-154">The messages between a service and a client are encrypted for confidentiality and signed for integrity.</span></span> <span data-ttu-id="74087-155">Weitere Informationen zum Erstellen eines Diensts, die Windows-Sicherheit verwendet, finden Sie unter [Vorgehensweise: Sichern eines Diensts mit Windows-Anmeldeinformationen](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md).</span><span class="sxs-lookup"><span data-stu-id="74087-155">For more information about how to create a service that uses Windows security, see [How to: Secure a Service with Windows Credentials](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md).</span></span>  
  
### <a name="authorization-using-the-principalpermissionattribute-class"></a><span data-ttu-id="74087-156">Autorisierung mithilfe der PrincipalPermissionAttribute-Klasse</span><span class="sxs-lookup"><span data-stu-id="74087-156">Authorization Using the PrincipalPermissionAttribute Class</span></span>  
 <span data-ttu-id="74087-157">Muss der Zugriff auf die Ressourcen auf einem Computer beschränkt werden, besteht die einfachste Möglichkeit in der Verwendung der <xref:System.Security.Permissions.PrincipalPermissionAttribute> -Klasse.</span><span class="sxs-lookup"><span data-stu-id="74087-157">If you need to restrict the access of resources on a computer, the easiest way is to use the <xref:System.Security.Permissions.PrincipalPermissionAttribute> class.</span></span> <span data-ttu-id="74087-158">Mit diesem Attribut können Aufrufe von Dienstvorgängen eingeschränkt werden, indem gefordert wird, dass sich der Benutzer in einer angegebenen Windows-Gruppe oder -Rolle befinden oder ein bestimmter Benutzer sein muss.</span><span class="sxs-lookup"><span data-stu-id="74087-158">This attribute enables you to restrict the invocation of service operations by demanding that the user be in a specified Windows group or role, or to be a specific user.</span></span> <span data-ttu-id="74087-159">Weitere Informationen finden Sie unter [Vorgehensweise: Einschränken des Zugriffs mit der PrincipalPermissionAttribute-Klasse](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span><span class="sxs-lookup"><span data-stu-id="74087-159">For more information, see [How to: Restrict Access with the PrincipalPermissionAttribute Class](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span></span>  
  
### <a name="impersonation"></a><span data-ttu-id="74087-160">Identitätswechsel</span><span class="sxs-lookup"><span data-stu-id="74087-160">Impersonation</span></span>  
 <span data-ttu-id="74087-161">Der Identitätswechsel ist ein weiterer Mechanismus, mit dem Sie den Zugriff auf Ressourcen steuern können.</span><span class="sxs-lookup"><span data-stu-id="74087-161">Impersonation is another mechanism that you can use to control access to resources.</span></span> <span data-ttu-id="74087-162">Standardmäßig wird ein von IIS gehosteter Dienst unter der Identität des ASPNET-Kontos ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="74087-162">By default, a service hosted by IIS will run under the identity of the ASPNET account.</span></span> <span data-ttu-id="74087-163">Das ASPNET-Konto kann nur auf die Ressourcen zugreifen, für die es eine entsprechende Berechtigung besitzt.</span><span class="sxs-lookup"><span data-stu-id="74087-163">The ASPNET account can access only the resources for which it has permission.</span></span> <span data-ttu-id="74087-164">Allerdings kann die Zugriffssteuerungsliste für einen Ordner so festgelegt werden, dass das ASPNET-Dienstkonto ausgeschlossen wird, bestimmten anderen Identitäten jedoch der Zugriff auf den Ordner gewährt wird.</span><span class="sxs-lookup"><span data-stu-id="74087-164">However, it is possible to set the ACL for a folder to exclude the ASPNET service account, but allow certain other identities to access the folder.</span></span> <span data-ttu-id="74087-165">Die Frage ist nun, wie diesen Benutzer Zugriff auf den Ordner gewährt wird, falls das ASPNET-Konto nicht dazu berechtigt ist.</span><span class="sxs-lookup"><span data-stu-id="74087-165">The question then becomes how to allow those users to access the folder if the ASPNET account is not allowed to do so.</span></span> <span data-ttu-id="74087-166">Dies wird durch den Identitätswechsel ermöglicht, bei dem der Dienst die Anmeldeinformationen des Clients für den Zugriff auf eine bestimmte Ressource verwenden darf.</span><span class="sxs-lookup"><span data-stu-id="74087-166">The answer is to use impersonation, whereby the service is allowed to use the credentials of the client to access a particular resource.</span></span> <span data-ttu-id="74087-167">Ein weiteres Beispiel ist der Zugriff auf eine SQL Server-Datenbank, auf die nur bestimmte Benutzer zugreifen dürfen.</span><span class="sxs-lookup"><span data-stu-id="74087-167">Another example is when accessing a SQL Server database to which only certain users have permission.</span></span> <span data-ttu-id="74087-168">Weitere Informationen zur Verwendung des Identitätswechsels finden Sie unter [Vorgehensweise: Annehmen der Clientidentität für einen Dienst](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md) und [Delegierung und Identitätswechsel](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="74087-168">For more information about using impersonation, see [How to: Impersonate a Client on a Service](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md) and [Delegation and Impersonation](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="security-on-the-internet"></a><span data-ttu-id="74087-169">Sicherheit im Internet</span><span class="sxs-lookup"><span data-stu-id="74087-169">Security on the Internet</span></span>  
 <span data-ttu-id="74087-170">Bei der Sicherheit im Internet gelten dieselben Anforderungen wie bei der Sicherheit in einem Intranet.</span><span class="sxs-lookup"><span data-stu-id="74087-170">Security on the Internet consists of the same requirements as security on an intranet.</span></span> <span data-ttu-id="74087-171">Ein Dienst muss zum Nachweis seiner Authentizität seine Anmeldeinformationen angeben, und Clients müssen dem Dienst ihre Identität nachweisen.</span><span class="sxs-lookup"><span data-stu-id="74087-171">A service needs to present its credentials to prove its authenticity, and clients need to prove their identity to the service.</span></span> <span data-ttu-id="74087-172">Wurde die Identität eines Clients nachgewiesen, kann der Umfang des Ressourcenzugriffs für den Client vom Dienst gesteuert werden.</span><span class="sxs-lookup"><span data-stu-id="74087-172">Once a client's identity is proven, the service can control how much access the client has to resources.</span></span> <span data-ttu-id="74087-173">Aufgrund des heterogenen Charakters des Internets unterscheiden sich die angegebenen Anmeldeinformationen von denen, die in einer Windows-Domäne verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="74087-173">However, due to the heterogeneous nature of the Internet, the credentials presented differ from those used on a Windows domain.</span></span> <span data-ttu-id="74087-174">Während ein Kerberos-Controller die Authentifizierung von Benutzern in einer Domäne mit Tickets für Anmeldeinformationen verarbeitet, nutzen Dienste und Clients im Internet eine der mehreren verschiedenen Möglichkeiten zur Angabe von Anmeldeinformationen.</span><span class="sxs-lookup"><span data-stu-id="74087-174">Whereas a Kerberos controller handles the authentication of users on a domain with tickets for credentials, on the Internet, services and clients rely on any one of several different ways to present credentials.</span></span> <span data-ttu-id="74087-175">Das Ziel dieses Themas ist jedoch weit verbreitet zu präsentieren, die es Ihnen die ermöglicht Erstellung ein WCF-Diensts, das über das Internet zugänglich ist.</span><span class="sxs-lookup"><span data-stu-id="74087-175">The objective of this topic, however, is to present a common approach that enables you to create a WCF service that is accessible on the Internet.</span></span>  
  
### <a name="using-iis-and-aspnet"></a><span data-ttu-id="74087-176">Verwenden von IIS und ASP.NET</span><span class="sxs-lookup"><span data-stu-id="74087-176">Using IIS and ASP.NET</span></span>  
 <span data-ttu-id="74087-177">Die Anforderungen der Internetsicherheit und die Mechanismen für die Problemlösung sind nicht neu.</span><span class="sxs-lookup"><span data-stu-id="74087-177">The requirements of Internet security, and the mechanisms to solve those problems, are not new.</span></span> <span data-ttu-id="74087-178">IIS wird von Microsoft stammende Webserver für das Internet und verfügt über zahlreiche Sicherheitsfunktionen, die diese Probleme zu behandeln; Darüber hinaus [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] umfasst Sicherheitsfeatures, die WCF-Dienste verwenden können.</span><span class="sxs-lookup"><span data-stu-id="74087-178">IIS is Microsoft's Web server for the Internet and has many security features that address those problems; in addition, [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] includes security features that WCF services can use.</span></span> <span data-ttu-id="74087-179">Um diese Sicherheitsfunktionen nutzen zu können, die Hosten eines WCF-Diensts in IIS aus.</span><span class="sxs-lookup"><span data-stu-id="74087-179">To take advantage of these security features, host an WCF service on IIS.</span></span>  
  
#### <a name="using-aspnet-membership-and-role-providers"></a><span data-ttu-id="74087-180">Verwenden von ASP.NET-Mitgliedschaft und Rollenanbietern</span><span class="sxs-lookup"><span data-stu-id="74087-180">Using ASP.NET Membership and Role Providers</span></span>  
 <span data-ttu-id="74087-181">ASP.NET beinhaltet eine Mitgliedschaft und einen Rollenanbieter.</span><span class="sxs-lookup"><span data-stu-id="74087-181">ASP.NET includes a membership and role provider.</span></span> <span data-ttu-id="74087-182">Der Anbieter ist eine Datenbank mit Benutzernamen-/Kennwortpaaren für die Authentifizierung von Aufrufenden, mit der auch die Zugriffsberechtigungen jedes Aufrufenden angegeben werden können.</span><span class="sxs-lookup"><span data-stu-id="74087-182">The provider is a database of user name/password pairs for authenticating callers that also allows you to specify each caller's access privileges.</span></span> <span data-ttu-id="74087-183">Mit WCF können Sie problemlos eine bereits vorhandene Mitgliedschafts- und Rollenanbieter über die Konfiguration verwenden.</span><span class="sxs-lookup"><span data-stu-id="74087-183">With WCF, you can easily use a pre-existing membership and role provider through configuration.</span></span> <span data-ttu-id="74087-184">Eine Beispielanwendung, die dies veranschaulicht, finden Sie im Beispiel [Membership and Role Provider](../../../docs/framework/wcf/samples/membership-and-role-provider.md) .</span><span class="sxs-lookup"><span data-stu-id="74087-184">For a sample application that demonstrates this, see the [Membership and Role Provider](../../../docs/framework/wcf/samples/membership-and-role-provider.md) sample.</span></span>  
  
### <a name="credentials-used-by-iis"></a><span data-ttu-id="74087-185">Von IIS verwendete Anmeldeinformationen</span><span class="sxs-lookup"><span data-stu-id="74087-185">Credentials Used by IIS</span></span>  
 <span data-ttu-id="74087-186">Im Gegensatz zu einer Windows-Domäne, die von einem Kerberos-Controller gesichert wird, ist das Internet eine Umgebung ohne einen Controller zur Verwaltung der jederzeit stattfindenden Anmeldungen von Millionen von Benutzern.</span><span class="sxs-lookup"><span data-stu-id="74087-186">Unlike a Windows domain backed by a Kerberos controller, the Internet is an environment without a single controller to manage the millions of users logging on at any time.</span></span> <span data-ttu-id="74087-187">Stattdessen werden Anmeldeinformationen im Internet meist in Form von X.509-Zertifikaten (auch als Secure Sockets Layer- oder SSL-Zertifikate) angegeben.</span><span class="sxs-lookup"><span data-stu-id="74087-187">Instead, credentials on the Internet most often are in the form of X.509 certificates (also known as Secure Sockets Layer, or SSL, certificates).</span></span> <span data-ttu-id="74087-188">Diese Zertifikate werden normalerweise von einer *Zertifizierungsstelle*ausgestellt, bei der es sich um ein drittes Unternehmen handeln kann, das für die Authentizität des Zertifikats und der Person, für die das Zertifikat ausgestellt wurde, bürgt.</span><span class="sxs-lookup"><span data-stu-id="74087-188">These certificates are typically issued by a *certification authority*, which can be a third-party company that vouches for the authenticity of the certificate and the person it has been issued to.</span></span> <span data-ttu-id="74087-189">Soll der Dienst im Internet verfügbar gemacht werden, muss zur Authentifizierung des Diensts auch ein derartiges vertrauenswürdiges Zertifikat bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="74087-189">To expose your service on the Internet, you must also supply such a trusted certificate to authenticate your service.</span></span>  
  
 <span data-ttu-id="74087-190">An diesem Punkt stellt sich die Frage, wie man ein solches Zertifikat erhält.</span><span class="sxs-lookup"><span data-stu-id="74087-190">The question arises at this point, how do you get such a certificate?</span></span> <span data-ttu-id="74087-191">Wenn Sie den Dienst bereitstellen können, besteht die Möglichkeit, sich an eine dritte Zertifizierungsstelle zu wenden (zum Beispiel Authenticode oder VeriSign) und ein Zertifikat für den Dienst zu erwerben.</span><span class="sxs-lookup"><span data-stu-id="74087-191">One approach is to go to a third-party certification authority, such as Authenticode or VeriSign, when you are ready to deploy your service, and purchase a certificate for your service.</span></span> <span data-ttu-id="74087-192">Wenn Sie in der Entwicklungsphase mit WCF sind und nicht noch bereit erwerben eines Zertifikats, Tools und Techniken vorhanden sind für das x. 509-Zertifikate zu erstellen, können Sie jedoch eine produktionsbereitstellung zu simulieren.</span><span class="sxs-lookup"><span data-stu-id="74087-192">However, if you are in the development phase with WCF and not yet ready to commit to purchasing a certificate, tools and techniques exist for creating X.509 certificates that you can use to simulate a production deployment.</span></span> <span data-ttu-id="74087-193">Weitere Informationen finden Sie unter [arbeiten mit Zertifikaten](../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="74087-193">For more information, see [Working with Certificates](../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span></span>  
  
## <a name="security-modes"></a><span data-ttu-id="74087-194">Sicherheitsmodi</span><span class="sxs-lookup"><span data-stu-id="74087-194">Security Modes</span></span>  
 <span data-ttu-id="74087-195">Programmieren der WCF-Sicherheit umfasst einige wichtige Entscheidungen.</span><span class="sxs-lookup"><span data-stu-id="74087-195">Programming WCF security entails a few critical decision points.</span></span> <span data-ttu-id="74087-196">Von grundlegender Bedeutung ist hier die Wahl des *Sicherheitsmodus*.</span><span class="sxs-lookup"><span data-stu-id="74087-196">One of the most basic is the choice of *security mode*.</span></span> <span data-ttu-id="74087-197">Die zwei Hauptsicherheitsmodi sind der *Transportmodus* und der *Nachrichtenmodus*.</span><span class="sxs-lookup"><span data-stu-id="74087-197">The two major security modes are *transport mode* and *message mode*.</span></span>  
  
 <span data-ttu-id="74087-198">Ein dritter Modus, der die Semantik der beiden Hauptmodi kombiniert, ist der *Transport mit dem Modus für Nachrichtenanmeldeinformationen*.</span><span class="sxs-lookup"><span data-stu-id="74087-198">A third mode, which combines the semantics of both major modes, is *transport with message credentials mode*.</span></span>  
  
 <span data-ttu-id="74087-199">Mit dem Sicherheitsmodus wird die Sicherungsform der Nachrichten bestimmt, wobei jede gewählte Variante Vor- und Nachteile aufweist (siehe unten).</span><span class="sxs-lookup"><span data-stu-id="74087-199">The security mode determines how messages are secured, and each choice has advantages and disadvantages, as explained below.</span></span> <span data-ttu-id="74087-200">Weitere Informationen zum Festlegen des Sicherheitsmodus finden Sie unter [Vorgehensweise: Festlegen des Sicherheitsmodus](../../../docs/framework/wcf/how-to-set-the-security-mode.md).</span><span class="sxs-lookup"><span data-stu-id="74087-200">For more information about setting the security mode, see [How to: Set the Security Mode](../../../docs/framework/wcf/how-to-set-the-security-mode.md).</span></span>  
  
#### <a name="transport-mode"></a><span data-ttu-id="74087-201">Transportmodus</span><span class="sxs-lookup"><span data-stu-id="74087-201">Transport Mode</span></span>  
 <span data-ttu-id="74087-202">Zwischen dem Netzwerk und der Anwendung befinden sich mehrere Ebenen.</span><span class="sxs-lookup"><span data-stu-id="74087-202">There are several layers between the network and the application.</span></span> <span data-ttu-id="74087-203">Eine dieser Ebenen ist die *Transportebene* ,*die* die Übertragung von Nachrichten zwischen Endpunkten verwaltet.</span><span class="sxs-lookup"><span data-stu-id="74087-203">One of these is the *transport* layer *,* which manages the transfer of messages between endpoints.</span></span> <span data-ttu-id="74087-204">Für die derzeit ist nur erforderlich, dass Sie wissen, dass WCF mehrere Transportprotokolle verwenden, verwendet, von denen jeder kann die Übertragung von Nachrichten schützen.</span><span class="sxs-lookup"><span data-stu-id="74087-204">For the present purpose, it is only required that you understand that WCF uses several transport protocols, each of which can secure the transfer of messages.</span></span> <span data-ttu-id="74087-205">(Weitere Informationen zu Transporten finden Sie unter [Transporte](../../../docs/framework/wcf/feature-details/transports.md).)</span><span class="sxs-lookup"><span data-stu-id="74087-205">(For more information about transports, see [Transports](../../../docs/framework/wcf/feature-details/transports.md).)</span></span>  
  
 <span data-ttu-id="74087-206">Ein häufig verwendetes Protokoll ist HTTP, ein weiteres TCP.</span><span class="sxs-lookup"><span data-stu-id="74087-206">A commonly used protocol is HTTP; another is TCP.</span></span> <span data-ttu-id="74087-207">Mit jedem dieser Protokolle kann Nachrichtenübertragung durch einen protokollspezifischen Mechanismus (oder Mechanismen) gesichert werden.</span><span class="sxs-lookup"><span data-stu-id="74087-207">Each of these protocols can secure message transfer by a mechanism (or mechanisms) particular to the protocol.</span></span> <span data-ttu-id="74087-208">Zum Beispiel wird das HTTP-Protokoll mit SSL über HTTP (im Allgemeinen als "HTTPS" bezeichnet) gesichert.</span><span class="sxs-lookup"><span data-stu-id="74087-208">For example, the HTTP protocol is secured using SSL over HTTP, commonly abbreviated as "HTTPS."</span></span> <span data-ttu-id="74087-209">Wird aus Sicherheitsgründen der Transportmodus gewählt, wird daher der Mechanismus entsprechend der Vorgabe durch das Protokoll verwendet.</span><span class="sxs-lookup"><span data-stu-id="74087-209">Thus, when you select the transport mode for security, you are choosing to use the mechanism as dictated by the protocol.</span></span> <span data-ttu-id="74087-210">Wird beispielsweise die <xref:System.ServiceModel.WSHttpBinding> -Klasse ausgewählt und der Sicherheitsmodus auf Transport festgelegt, wählen Sie als Sicherheitsmechanismus SSL über HTTP (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="74087-210">For example, if you select the <xref:System.ServiceModel.WSHttpBinding> class and set its security mode to Transport, you are selecting SSL over HTTP (HTTPS) as the security mechanism.</span></span> <span data-ttu-id="74087-211">Der Vorteil des Transportmodus besteht in seiner im Vergleich zum Nachrichtenmodus höheren Effizienz, die durch die Integration der Sicherheit auf einer relativ niedrigen Ebene erzielt wird.</span><span class="sxs-lookup"><span data-stu-id="74087-211">The advantage of the transport mode is that it is more efficient than message mode because security is integrated at a comparatively low level.</span></span> <span data-ttu-id="74087-212">Bei Verwendung des Transportmodus muss der Sicherheitsmodus gemäß den Angaben für den Transport implementiert werden. Dadurch wird gewährleistet, dass Nachrichten beim Transport sicher übertragen werden, und zwar nur von einem Punkt zu einem anderen Punkt (Point-to-Point).</span><span class="sxs-lookup"><span data-stu-id="74087-212">When using transport mode, the security mechanism must be implemented according to the specification for the transport, and thus messages can flow securely only from point-to-point over the transport.</span></span>  
  
#### <a name="message-mode"></a><span data-ttu-id="74087-213">Nachrichtenmodus</span><span class="sxs-lookup"><span data-stu-id="74087-213">Message Mode</span></span>  
 <span data-ttu-id="74087-214">Im Gegensatz dazu gewährleistet der Nachrichtenmodus Sicherheit durch Einbeziehen der Sicherheitsdaten als Teil jeder Nachricht.</span><span class="sxs-lookup"><span data-stu-id="74087-214">In contrast, message mode provides security by including the security data as part of every message.</span></span> <span data-ttu-id="74087-215">Mit XML- und SOAP-Sicherheitsheadern werden die Anmeldeinformationen und andere Daten, die zur Sicherstellung der Integrität und Vertraulichkeit der Nachricht erforderlich sind, in jede Nachricht eingefügt.</span><span class="sxs-lookup"><span data-stu-id="74087-215">Using XML and SOAP security headers, the credentials and other data needed to ensure the integrity and confidentiality of the message are included with every message.</span></span> <span data-ttu-id="74087-216">Die Leistung wird beeinträchtigt, da jede Nachricht Sicherheitsdaten beinhaltet und jede Nachricht einzeln verarbeitet werden muss.</span><span class="sxs-lookup"><span data-stu-id="74087-216">Every message includes security data, so it results in a toll on performance because each message must be individually processed.</span></span> <span data-ttu-id="74087-217">(Nach der Sicherung der Transportebene werden alle Nachrichten im Transportmodus frei übertragen.) Nachrichtensicherheit besitzt jedoch gegenüber der Transportsicherheit den Vorteil der höheren Flexibilität.</span><span class="sxs-lookup"><span data-stu-id="74087-217">(In transport mode, once the transport layer is secured, all messages flow freely.) However, message security has one advantage over transport security: it is more flexible.</span></span> <span data-ttu-id="74087-218">Das heißt, dass die Sicherheitsanforderungen nicht vom Transport bestimmt werden.</span><span class="sxs-lookup"><span data-stu-id="74087-218">That is, the security requirements are not determined by the transport.</span></span> <span data-ttu-id="74087-219">Sie können jeden Typ der Clientanmeldeinformationen zum Sichern der Nachricht verwenden.</span><span class="sxs-lookup"><span data-stu-id="74087-219">You can use any type of client credential to secure the message.</span></span> <span data-ttu-id="74087-220">(Im Transportmodus bestimmt das Transportprotokoll den Typ der Clientanmeldeinformationen, die Sie verwenden können.)</span><span class="sxs-lookup"><span data-stu-id="74087-220">(In transport mode, the transport protocol determines the type of client credential that you can use.)</span></span>  
  
#### <a name="transport-with-message-credentials"></a><span data-ttu-id="74087-221">Transport mit Nachrichtenanmeldeinformationen</span><span class="sxs-lookup"><span data-stu-id="74087-221">Transport with Message Credentials</span></span>  
 <span data-ttu-id="74087-222">Der dritte Modus vereint die Vorteile der Transport- und der Nachrichtensicherheit.</span><span class="sxs-lookup"><span data-stu-id="74087-222">The third mode combines the best of both transport and message security.</span></span> <span data-ttu-id="74087-223">In diesem Modus wird Transportsicherheit verwendet, um die Vertraulichkeit und die Integrität jeder Nachricht effizient sicherzustellen.</span><span class="sxs-lookup"><span data-stu-id="74087-223">In this mode, transport security is used to efficiently ensure the confidentiality and integrity of every message.</span></span> <span data-ttu-id="74087-224">Gleichzeitig beinhaltet jede Nachricht ihre Anmeldeinformationsdaten, wodurch die Authentifizierung der Nachricht ermöglicht wird.</span><span class="sxs-lookup"><span data-stu-id="74087-224">At the same time, every message includes its credential data, which allows the message to be authenticated.</span></span> <span data-ttu-id="74087-225">Mit der Authentifizierung kann auch die Autorisierung implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="74087-225">With authentication, authorization can also be implemented.</span></span> <span data-ttu-id="74087-226">Durch Authentifizieren eines Absenders kann der Zugriff auf Ressourcen entsprechend der Identität des Absenders gewährt (oder verweigert) werden.</span><span class="sxs-lookup"><span data-stu-id="74087-226">By authenticating a sender, access to resources can be granted (or denied) according to the sender's identity.</span></span>  
  
## <a name="specifying-the-client-credential-type-and-credential-value"></a><span data-ttu-id="74087-227">Angeben von Anmeldeinformationstyp und -wert für den Client</span><span class="sxs-lookup"><span data-stu-id="74087-227">Specifying the Client Credential Type and Credential Value</span></span>  
 <span data-ttu-id="74087-228">Nach Auswahl eines Sicherheitsmodus können Sie auf Wunsch auch einen Clientanmeldeinformationstyp angeben.</span><span class="sxs-lookup"><span data-stu-id="74087-228">After you have selected a security mode, you may also want to specify a client credential type.</span></span> <span data-ttu-id="74087-229">Der Clientanmeldeinformationstyp gibt an, welchen Typ ein Client verwenden muss, um sich selbst beim Server authentifizieren zu können.</span><span class="sxs-lookup"><span data-stu-id="74087-229">The client credential type specifies what type a client must use to authenticate itself to the server.</span></span>  
  
 <span data-ttu-id="74087-230">Allerdings erfordern nicht alle Szenarien einen Clientanmeldeinformationstyp.</span><span class="sxs-lookup"><span data-stu-id="74087-230">Not all scenarios require a client credential type, however.</span></span> <span data-ttu-id="74087-231">Bei Verwendung von SSL über HTTP (HTTPS) authentifiziert sich ein Dienst beim Client.</span><span class="sxs-lookup"><span data-stu-id="74087-231">Using SSL over HTTP (HTTPS), a service authenticates itself to the client.</span></span> <span data-ttu-id="74087-232">Im Rahmen dieser Authentifizierung wird das Zertifikat des Diensts in einem als *Aushandlung*bezeichneten Prozess an den Client gesendet.</span><span class="sxs-lookup"><span data-stu-id="74087-232">As part of this authentication, the service's certificate is sent to the client in a process called *negotiation*.</span></span> <span data-ttu-id="74087-233">Der durch SSL gesicherte Transport gewährleistet, dass alle Nachrichten vertraulich sind.</span><span class="sxs-lookup"><span data-stu-id="74087-233">The SSL-secured transport ensures that all messages are confidential.</span></span>  
  
 <span data-ttu-id="74087-234">Wird ein Dienst erstellt, der eine Authentifizierung des Clients erfordert, hängt die Wahl eines Clientanmeldeinformationstypen vom ausgewählten Transport und Modus ab.</span><span class="sxs-lookup"><span data-stu-id="74087-234">If you are creating a service that requires that the client be authenticated, your choice of a client credential type depends on the transport and mode selected.</span></span> <span data-ttu-id="74087-235">Bei Verwendung des HTTP-Transports und bei Auswahl des Transportmodus stehen Ihnen mehrere Möglichkeiten zur Verfügung, wie zum Beispiel Basic, Digest usw.</span><span class="sxs-lookup"><span data-stu-id="74087-235">For example, using the HTTP transport and choosing transport mode gives you several choices, such as Basic, Digest, and others.</span></span> <span data-ttu-id="74087-236">(Weitere Informationen zu diesen Anmeldeinformationstypen, finden Sie unter [Understanding HTTP Authentication](../../../docs/framework/wcf/feature-details/understanding-http-authentication.md).)</span><span class="sxs-lookup"><span data-stu-id="74087-236">(For more information about these credential types, see [Understanding HTTP Authentication](../../../docs/framework/wcf/feature-details/understanding-http-authentication.md).)</span></span>  
  
 <span data-ttu-id="74087-237">Wird ein Dienst in einer Windows-Domäne erstellt, der nur anderen Benutzern des Netzwerks zur Verfügung steht, empfiehlt sich die Verwendung des Windows-Clientanmeldeinformationstyps.</span><span class="sxs-lookup"><span data-stu-id="74087-237">If you are creating a service on a Windows domain that will be available only to other users of the network, the easiest to use is the Windows client credential type.</span></span> <span data-ttu-id="74087-238">Allerdings muss für den Dienst ggf. auch ein Zertifikat erworben werden.</span><span class="sxs-lookup"><span data-stu-id="74087-238">However, you may also need to provide a service with a certificate.</span></span> <span data-ttu-id="74087-239">Dies wird im verdeutlicht [Vorgehensweise: Angeben der Clientanmeldeinformationswerte](../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span><span class="sxs-lookup"><span data-stu-id="74087-239">This is shown in [How to: Specify Client Credential Values](../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span></span>  
  
#### <a name="credential-values"></a><span data-ttu-id="74087-240">Anmeldeinformationswerte</span><span class="sxs-lookup"><span data-stu-id="74087-240">Credential Values</span></span>  
 <span data-ttu-id="74087-241">Bei einem *Anmeldeinformationswert* handelt es sich um die tatsächlichen Anmeldeinformationen, die vom Dienst verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="74087-241">A *credential value* is the actual credential the service uses.</span></span> <span data-ttu-id="74087-242">Nach Angabe eines Anmeldeinformationstyps muss der Dienst unter Umständen auch mit den tatsächlichen Anmeldeinformationen konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="74087-242">Once you have specified a credential type, you may also need to configure your service with the actual credentials.</span></span> <span data-ttu-id="74087-243">Wurde Windows ausgewählt (und wird der Dienst in einer Windows-Domäne ausgeführt), wird kein tatsächlicher Anmeldeinformationswert angegeben.</span><span class="sxs-lookup"><span data-stu-id="74087-243">If you have selected Windows (and the service will run on a Windows domain), then you do not specify an actual credential value.</span></span>  
  
## <a name="identity"></a><span data-ttu-id="74087-244">Identität</span><span class="sxs-lookup"><span data-stu-id="74087-244">Identity</span></span>  
 <span data-ttu-id="74087-245">In WCF den Begriff *Identität* hat verschiedene Bedeutungen für den Server und dem Client.</span><span class="sxs-lookup"><span data-stu-id="74087-245">In WCF, the term *identity* has different meanings to the server and the client.</span></span> <span data-ttu-id="74087-246">Zusammenfassend bedeutet dies, dass beim Ausführen eines Diensts dem Sicherheitskontext nach der Authentifizierung eine Identität zugewiesen wird.</span><span class="sxs-lookup"><span data-stu-id="74087-246">In brief, when running a service, an identity is assigned to the security context after authentication.</span></span> <span data-ttu-id="74087-247">Um die tatsächliche Identität anzuzeigen, überprüfen Sie die <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> -Eigenschaft und die <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> -Eigenschaft der <xref:System.ServiceModel.ServiceSecurityContext> -Klasse.</span><span class="sxs-lookup"><span data-stu-id="74087-247">To view the actual identity, check the <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> and <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> properties of the <xref:System.ServiceModel.ServiceSecurityContext> class.</span></span> <span data-ttu-id="74087-248">Weitere Informationen finden Sie unter [Vorgehensweise: Prüfen des Sicherheitskontexts](../../../docs/framework/wcf/how-to-examine-the-security-context.md).</span><span class="sxs-lookup"><span data-stu-id="74087-248">For more information, see [How to: Examine the Security Context](../../../docs/framework/wcf/how-to-examine-the-security-context.md).</span></span>  
  
 <span data-ttu-id="74087-249">Im Gegensatz dazu wird mit der Identität der Dienst geprüft.</span><span class="sxs-lookup"><span data-stu-id="74087-249">In contrast, on the client, identity is used to validate the service.</span></span> <span data-ttu-id="74087-250">Zur Entwurfszeit kann ein Cliententwickler festgelegt die [ \<Identität >](../../../docs/framework/configure-apps/file-schema/wcf/identity.md) -Element auf einen Wert, der vom Dienst abgerufen.</span><span class="sxs-lookup"><span data-stu-id="74087-250">At design time, a client developer can set the [\<identity>](../../../docs/framework/configure-apps/file-schema/wcf/identity.md) element to a value obtained from the service.</span></span> <span data-ttu-id="74087-251">Während der Laufzeit gleicht der Client den Wert des Elements mit der tatsächlichen Identität des Diensts ab.</span><span class="sxs-lookup"><span data-stu-id="74087-251">At run time, the client checks the value of the element against the actual identity of the service.</span></span> <span data-ttu-id="74087-252">Bei fehlerhafter Prüfung wird die Kommunikation vom Client beendet.</span><span class="sxs-lookup"><span data-stu-id="74087-252">If the check fails, the client terminates the communication.</span></span> <span data-ttu-id="74087-253">Der Wert kann ein Benutzerprinzipalname sein (UPN), falls der Dienst unter einer bestimmten Benutzeridentität ausgeführt wird oder ein Dienstprinzipalname (SPN), falls der Dienst unter einem Computerkonto ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="74087-253">The value can be a user principal name (UPN) if the service runs under a particular user's identity or a service principal name (SPN) if the service runs under a machine account.</span></span> <span data-ttu-id="74087-254">Weitere Informationen finden Sie unter [Dienstidentität und Authentifizierung](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="74087-254">For more information, see [Service Identity and Authentication](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span> <span data-ttu-id="74087-255">Die Anmeldeinformationen können auch ein Zertifikat oder ein Feld auf einem Zertifikat sein, mit dem das Zertifikat identifiziert wird.</span><span class="sxs-lookup"><span data-stu-id="74087-255">The credential could also be a certificate, or a field found on a certificate that identifies the certificate.</span></span>  
  
## <a name="protection-levels"></a><span data-ttu-id="74087-256">Schutzebenen</span><span class="sxs-lookup"><span data-stu-id="74087-256">Protection Levels</span></span>  
 <span data-ttu-id="74087-257">Die `ProtectionLevel` -Eigenschaft tritt auf mehreren Attributklassen (zum Beispiel der <xref:System.ServiceModel.ServiceContractAttribute> -Klasse und der <xref:System.ServiceModel.OperationContractAttribute> -Klasse) auf.</span><span class="sxs-lookup"><span data-stu-id="74087-257">The `ProtectionLevel` property occurs on several attribute classes (such as the <xref:System.ServiceModel.ServiceContractAttribute> and the <xref:System.ServiceModel.OperationContractAttribute> classes).</span></span> <span data-ttu-id="74087-258">Die Schutzebene ist ein Wert, der angibt, ob die Meldungen (oder Meldungsteile), die einen Dienst unterstützen, signiert, signiert und verschlüsselt oder ohne Signaturen und Verschlüsselung gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="74087-258">The protection level is a value that specifies whether the messages (or message parts) that support a service are signed, signed and encrypted, or sent without signatures or encryption.</span></span> <span data-ttu-id="74087-259">Weitere Informationen zur Eigenschaft finden Sie unter [Verständnis Schutzebene](../../../docs/framework/wcf/understanding-protection-level.md), Programmierbeispiele finden Sie unter [Vorgehensweise: Legen Sie die ProtectionLevel-Eigenschaft](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span><span class="sxs-lookup"><span data-stu-id="74087-259">For more information about the property, see [Understanding Protection Level](../../../docs/framework/wcf/understanding-protection-level.md), and for programming examples, see [How to: Set the ProtectionLevel Property](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span></span> <span data-ttu-id="74087-260">Weitere Informationen zum Entwerfen eines Dienstvertrags mit dem `ProtectionLevel` im Kontext finden Sie unter [Designing Service Contracts](../../../docs/framework/wcf/designing-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="74087-260">For more information about designing a service contract with the `ProtectionLevel` in context, see [Designing Service Contracts](../../../docs/framework/wcf/designing-service-contracts.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="74087-261">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="74087-261">See also</span></span>

- <xref:System.ServiceModel>
- <xref:System.ServiceModel.Description.ServiceCredentials>
- <xref:System.ServiceModel.ServiceContractAttribute>
- <xref:System.ServiceModel.OperationContractAttribute>
- [<span data-ttu-id="74087-262">Dienstidentität und Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="74087-262">Service Identity and Authentication</span></span>](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md)
- [<span data-ttu-id="74087-263">Grundlagen der Schutzebene</span><span class="sxs-lookup"><span data-stu-id="74087-263">Understanding Protection Level</span></span>](../../../docs/framework/wcf/understanding-protection-level.md)
- [<span data-ttu-id="74087-264">Delegierung und Identitätswechsel</span><span class="sxs-lookup"><span data-stu-id="74087-264">Delegation and Impersonation</span></span>](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)
- [<span data-ttu-id="74087-265">Entwerfen von Dienstverträgen</span><span class="sxs-lookup"><span data-stu-id="74087-265">Designing Service Contracts</span></span>](../../../docs/framework/wcf/designing-service-contracts.md)
- [<span data-ttu-id="74087-266">Sicherheit</span><span class="sxs-lookup"><span data-stu-id="74087-266">Security</span></span>](../../../docs/framework/wcf/feature-details/security.md)
- [<span data-ttu-id="74087-267">Übersicht über die Sicherheit</span><span class="sxs-lookup"><span data-stu-id="74087-267">Security Overview</span></span>](../../../docs/framework/wcf/feature-details/security-overview.md)
- [<span data-ttu-id="74087-268">Vorgehensweise: Festlegen der ProtectionLevel-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="74087-268">How to: Set the ProtectionLevel Property</span></span>](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md)
- [<span data-ttu-id="74087-269">Vorgehensweise: Sichern eines Diensts mit Windows-Anmeldeinformationen</span><span class="sxs-lookup"><span data-stu-id="74087-269">How to: Secure a Service with Windows Credentials</span></span>](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md)
- [<span data-ttu-id="74087-270">Vorgehensweise: Festlegen des Sicherheitsmodus</span><span class="sxs-lookup"><span data-stu-id="74087-270">How to: Set the Security Mode</span></span>](../../../docs/framework/wcf/how-to-set-the-security-mode.md)
- [<span data-ttu-id="74087-271">Vorgehensweise: Angeben des Typs von Clientanmeldeinformationen</span><span class="sxs-lookup"><span data-stu-id="74087-271">How to: Specify the Client Credential Type</span></span>](../../../docs/framework/wcf/how-to-specify-the-client-credential-type.md)
- [<span data-ttu-id="74087-272">Vorgehensweise: Einschränken des Zugriffs mit der PrincipalPermissionAttribute-Klasse</span><span class="sxs-lookup"><span data-stu-id="74087-272">How to: Restrict Access with the PrincipalPermissionAttribute Class</span></span>](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)
- [<span data-ttu-id="74087-273">Vorgehensweise: Annahme der Clientidentität durch einen Dienst</span><span class="sxs-lookup"><span data-stu-id="74087-273">How to: Impersonate a Client on a Service</span></span>](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md)
- [<span data-ttu-id="74087-274">Vorgehensweise: Prüfen des Sicherheitskontexts</span><span class="sxs-lookup"><span data-stu-id="74087-274">How to: Examine the Security Context</span></span>](../../../docs/framework/wcf/how-to-examine-the-security-context.md)
