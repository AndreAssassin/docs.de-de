---
title: Einmaliges Setupverfahren für Windows Communication Foundation-Beispiele
ms.date: 03/30/2017
ms.assetid: a5848ffd-3eb5-432d-812e-bd948ccb6bca
ms.openlocfilehash: a34c2ee7cb98c6120e23114674712de0ba5b8162
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/28/2019
ms.locfileid: "64664818"
---
# <a name="one-time-setup-procedure-for-the-windows-communication-foundation-samples"></a><span data-ttu-id="36674-102">Einmaliges Setupverfahren für Windows Communication Foundation-Beispiele</span><span class="sxs-lookup"><span data-stu-id="36674-102">One-Time Setup Procedure for the Windows Communication Foundation Samples</span></span>
<span data-ttu-id="36674-103">Die meisten der Windows Communication Foundation (WCF)-Beispiele sind in Internet Information Services (IIS) gehostet und von einem gemeinsamen virtuellen Verzeichnis ausführen.</span><span class="sxs-lookup"><span data-stu-id="36674-103">Most of the Windows Communication Foundation (WCF) samples are hosted in Internet Information Services (IIS) and run from a common virtual directory.</span></span> <span data-ttu-id="36674-104">Diesem einmaligen Setupverfahren erstellt einen Ordner auf dem Datenträger; Es fügt auch ein virtuelles Verzeichnis in IIS **ServiceModelSamples**.</span><span class="sxs-lookup"><span data-stu-id="36674-104">This one-time setup procedure creates a folder on the disk; it also adds a virtual directory to IIS named **ServiceModelSamples**.</span></span>

 <span data-ttu-id="36674-105">Die **ServiceModelSamples** virtuelle Verzeichnis wird verwendet, zum Erstellen und Ausführen aller Beispiele, in denen ein IIS-gehosteter Dienst verwendet.</span><span class="sxs-lookup"><span data-stu-id="36674-105">The **ServiceModelSamples** virtual directory is used for building and running all samples that use an IIS-hosted service.</span></span> <span data-ttu-id="36674-106">Dies ist das einzige virtuelle Verzeichnis, das zum Ausführen der Beispiele erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="36674-106">This is the only virtual directory that is required to run the samples.</span></span> <span data-ttu-id="36674-107">Durch die Erstellung eines Beispiels werden alle zuvor bereitgestellten Dienste in diesem virtuellen Verzeichnis ersetzt. Nur das zuletzt erstellte Beispiel wird bereitgestellt und ist dann in diesem virtuellen Verzeichnis verfügbar.</span><span class="sxs-lookup"><span data-stu-id="36674-107">Building a sample will replace any previously deployed service at this virtual directory; only the most recently built sample will be deployed and available in this virtual directory.</span></span>

> [!NOTE]
>  <span data-ttu-id="36674-108">Sie müssen alle Befehle unter einem lokalen Administratorkonto ausführen.</span><span class="sxs-lookup"><span data-stu-id="36674-108">You must run all commands under a local administrator account.</span></span> <span data-ttu-id="36674-109">Wenn Sie mit Windows 7, [!INCLUDE[windowsver](../../../../includes/windowsver-md.md)] oder Windows Server 2008 R2 arbeiten, müssen Sie außerdem die Eingabeaufforderung mit erweiterten Berechtigungen ausführen.</span><span class="sxs-lookup"><span data-stu-id="36674-109">If you are using Windows 7, [!INCLUDE[windowsver](../../../../includes/windowsver-md.md)], or Windows Server 2008 R2, you must also run the command prompt with elevated privileges.</span></span> <span data-ttu-id="36674-110">Zu diesem Zweck mit der rechten Maustaste in des Symbol "Eingabeaufforderung", und klicken Sie dann auf **als Administrator ausführen**.</span><span class="sxs-lookup"><span data-stu-id="36674-110">To do so, right-click the command prompt icon, and then click **Run as administrator**.</span></span> <span data-ttu-id="36674-111">Alle Befehle in diesem Thema müssen an einer Eingabeaufforderung ausgeführt werden, die über die richtigen Pfadeinstellungen verfügt.</span><span class="sxs-lookup"><span data-stu-id="36674-111">All commands in this topic must be run in a command prompt that has the appropriate path settings.</span></span>  <span data-ttu-id="36674-112">Dies kann am einfachsten sichergestellt werden, wenn Sie die Visual Studio-Eingabeaufforderung verwenden.</span><span class="sxs-lookup"><span data-stu-id="36674-112">The easiest way to ensure this is by using the Visual Studio Command Prompt.</span></span> <span data-ttu-id="36674-113">Um diese Eingabeaufforderung zu öffnen, klicken Sie auf **starten**wählen **alle Programme**, scrollen Sie zum **Visual Studio 2010**wählen **Visual Studio-Tools**, mit der rechten Maustaste **Visual Studio-Eingabeaufforderung (2010)**, und klicken Sie dann auf **als Administrator ausführen**.</span><span class="sxs-lookup"><span data-stu-id="36674-113">To open this prompt, click **Start**, select **All Programs**, scroll down to **Visual Studio 2010**, select **Visual Studio Tools**, right-click **Visual Studio Command Prompt (2010)**, and then click **Run as administrator**.</span></span> <span data-ttu-id="36674-114">Wenn Sie eine Visual Studio Express Edition installiert haben, ist diese Eingabeaufforderung nicht verfügbar. In diesem Fall müssen Sie dem Systempfad "C:\Windows\Microsoft.Net\Framework\v4.0" hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="36674-114">If you have one of the Visual Studio Express editions installed, this command prompt is not available, and you will have to add "C:\Windows\Microsoft.Net\Framework\v4.0" to the system path.</span></span>  
  
### <a name="one-time-setup-procedure-for-wcf-samples"></a><span data-ttu-id="36674-115">Einmaliges Setupverfahren für WCF-Beispiele</span><span class="sxs-lookup"><span data-stu-id="36674-115">One-time setup procedure for WCF samples</span></span>  
  
1. <span data-ttu-id="36674-116">Stellen Sie sicher, dass [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] eingerichtet ist.</span><span class="sxs-lookup"><span data-stu-id="36674-116">Ensure that [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] is set up.</span></span> <span data-ttu-id="36674-117">Weitere Informationen zum Einrichten [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], finden Sie unter [Internet-Internetinformationsdiensts](../../../../docs/framework/wcf/samples/internet-information-service-hosting-instructions.md).</span><span class="sxs-lookup"><span data-stu-id="36674-117">For more information about how to set up [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], see [Internet Information Service Hosting Instructions](../../../../docs/framework/wcf/samples/internet-information-service-hosting-instructions.md).</span></span>  
  
2. <span data-ttu-id="36674-118">Stellen Sie sicher, dass [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)] installiert ist.</span><span class="sxs-lookup"><span data-stu-id="36674-118">Ensure that [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)] is installed.</span></span> <span data-ttu-id="36674-119">Durchsuchen Sie das folgende Verzeichnis für v4. 0 (oder höher): **\Windows\Microsoft.NET\Framework**</span><span class="sxs-lookup"><span data-stu-id="36674-119">Search the following directory for v4.0 (or later): **\Windows\Microsoft.NET\Framework**</span></span>  
  
3. <span data-ttu-id="36674-120">Wenn Visual Studio 2012 nicht installiert ist, und das Betriebssystem ist nicht Windows Server 2008 SP2 oder höher installieren [Hotfix 251798](https://go.microsoft.com/fwlink/?LinkId=184693).</span><span class="sxs-lookup"><span data-stu-id="36674-120">If Visual Studio 2012 is not installed, and your operating system is not Windows Server 2008 SP2 or later, install [Hotfix 251798](https://go.microsoft.com/fwlink/?LinkId=184693).</span></span>  
  
4. <span data-ttu-id="36674-121">Führen Sie die folgenden Befehle durch.</span><span class="sxs-lookup"><span data-stu-id="36674-121">Run the following commands.</span></span> <span data-ttu-id="36674-122">Weitere Informationen dazu, warum diese Befehle ausgeführt werden müssen, finden Sie unter [IIS gehosteten Dienst nicht](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms752252(v=vs.90)).</span><span class="sxs-lookup"><span data-stu-id="36674-122">For more information about why these commands must be run, see [IIS Hosted Service Fails](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms752252(v=vs.90)).</span></span>  
  
    > [!WARNING]
    >  <span data-ttu-id="36674-123">Wenn IIS neu installiert wird, müssen die folgenden Befehle noch einmal ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="36674-123">If IIS is reinstalled, the following commands will need to be run again.</span></span>

    ```
    "%WINDIR%\Microsoft.Net\Framework\v4.0.30319\aspnet_regiis" –i –enable
    "%WINDIR%\Microsoft.Net\Framework\v4.0.30319\ServiceModelReg.exe" -r
    ```

    > [!WARNING]
    >  <span data-ttu-id="36674-124">Ausführen des Befehls `aspnet_regiis –i –enable` wird der Standardanwendungspool mit ausführen, [!INCLUDE[netfx40_short](../../../../includes/netfx40-short-md.md)], dadurch kann es zu Inkompatibilitätsproblemen bei anderen Anwendungen auf demselben Computer.</span><span class="sxs-lookup"><span data-stu-id="36674-124">Running the command `aspnet_regiis –i –enable` will make the Default App Pool run using [!INCLUDE[netfx40_short](../../../../includes/netfx40-short-md.md)], which may produce incompatibility issues for other applications on the same computer.</span></span>  
  
5. <span data-ttu-id="36674-125">Führen Sie die [Firewall-Anweisungen](../../../../docs/framework/wcf/samples/firewall-instructions.md) zum Aktivieren der von den Beispielen verwendeten Anschlüsse.</span><span class="sxs-lookup"><span data-stu-id="36674-125">Follow the [Firewall Instructions](../../../../docs/framework/wcf/samples/firewall-instructions.md) for enabling the ports used by the samples.</span></span>  
  
6. <span data-ttu-id="36674-126">Suchen Sie nach dem folgenden Standardverzeichnis: \<InstallDrive>:**\WF_WCF_Samples**.</span><span class="sxs-lookup"><span data-stu-id="36674-126">Check for the following default directory: \<InstallDrive>:**\WF_WCF_Samples**.</span></span> <span data-ttu-id="36674-127">Wenn die Beispiele bereits installiert wurden, ist dies das Standardverzeichnis.</span><span class="sxs-lookup"><span data-stu-id="36674-127">If the samples were previously installed, this is the default directory.</span></span>  
  
7. <span data-ttu-id="36674-128">Wenn die Beispiele nicht installiert sind, installieren Sie sie aus der Beispiel-Downloadseite für [Visual C#-](https://go.microsoft.com/fwlink/?LinkId=190939) oder [Visual Basic](https://go.microsoft.com/fwlink/?LinkID=193373).</span><span class="sxs-lookup"><span data-stu-id="36674-128">If the samples are not installed, install them from the samples download location for [Visual C#](https://go.microsoft.com/fwlink/?LinkId=190939) or [Visual Basic](https://go.microsoft.com/fwlink/?LinkID=193373).</span></span>  
  
8. <span data-ttu-id="36674-129">Nach dem Installieren der Beispiele finden Sie hier: \<InstallDrive>:**\WF_WCF_Samples\WCF\Setup\\**</span><span class="sxs-lookup"><span data-stu-id="36674-129">After installing the samples, go to : \<InstallDrive>:**\WF_WCF_Samples\WCF\Setup\\**</span></span>  
  
9. <span data-ttu-id="36674-130">Führen Sie die **Setupvroot.bat** Batchdatei.</span><span class="sxs-lookup"><span data-stu-id="36674-130">Run the **Setupvroot.bat** batch file.</span></span> <span data-ttu-id="36674-131">Die folgenden Schritte werden ausgeführt:</span><span class="sxs-lookup"><span data-stu-id="36674-131">The following steps are performed:</span></span>  
  
    - <span data-ttu-id="36674-132">In IIS wird ein virtuelles Verzeichnis mit dem Namen ServiceModelSamples erstellt.</span><span class="sxs-lookup"><span data-stu-id="36674-132">A virtual directory is created in IIS named ServiceModelSamples.</span></span>  
  
    - <span data-ttu-id="36674-133">Es werden die neuen Datenträgerverzeichnisse %SystemDrive%\Inetpub\wwwroot\ServiceModelSamples und %SystemDrive%\Inetpub\wwwroot\ServiceModelSamples\bin erstellt.</span><span class="sxs-lookup"><span data-stu-id="36674-133">New disk directories are created named %SystemDrive%\Inetpub\wwwroot\ServiceModelSamples and %SystemDrive%\Inetpub\wwwroot\ServiceModelSamples\bin.</span></span>  
  
     <span data-ttu-id="36674-134">Wenn Sie diese Verzeichnisse manuell einrichten möchten, finden Sie unter den [Anleitung zum Einrichten von virtuellen Verzeichnisses](../../../../docs/framework/wcf/samples/virtual-directory-setup-instructions.md).</span><span class="sxs-lookup"><span data-stu-id="36674-134">If you prefer to set up these directories manually, see the [Virtual Directory Setup Instructions](../../../../docs/framework/wcf/samples/virtual-directory-setup-instructions.md).</span></span> <span data-ttu-id="36674-135">Um alle in diesem Schritt vorgenommenen Änderungen rückgängig zu machen, führen Sie cleanupvroot.bat aus, sobald die Beispiele nicht mehr benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="36674-135">To revert all changes done in this step, run cleanupvroot.bat after you finish using the samples.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="36674-136">Diese Prozedur muss nur einmal auf einem Computer ausgeführt werden, es sei denn, cleanupvroot.bat wird ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="36674-136">This procedure must be performed only once on a computer, unless cleanupvroot.bat is run.</span></span>

10. <span data-ttu-id="36674-137">Sie müssen dem Konto, unter dem Sie die Beispiele erstellen, und dem Netzwerkdienstbenutzer die Berechtigung zum Ändern von %SystemDrive%\inetpub\wwwroot zuweisen.</span><span class="sxs-lookup"><span data-stu-id="36674-137">You must grant permission to modify for %SystemDrive%\inetpub\wwwroot to the account under which you are building the samples and the Network Service user.</span></span> <span data-ttu-id="36674-138">Beim Erstellen wird bei einigen im Internet gehosteten Beispielen möglicherweise versucht, die kompilierten Binärdateien an den oben genannten Speicherort zu kopieren. Wenn Sie nicht die entsprechenden Berechtigungen festgelegt haben, können die Beispiele nicht erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="36674-138">While building, some Web-hosted samples might attempt to copy the compiled binaries to the previously mentioned location, and if you have not set the appropriate permissions, the build will break.</span></span> <span data-ttu-id="36674-139">Alternativ können Sie die Berechtigungen lassen, wie sie die SDK-Eingabeaufforderung oder Visual Studio-Eingabeaufforderung (2012) als Administrator ausführen und sind, oder erstellen in die Beispielen in Visual Studio 2012, auch als Administrator ausführen.</span><span class="sxs-lookup"><span data-stu-id="36674-139">Alternatively, you can leave the permissions as they are and run the SDK command prompt or Visual Studio Command Prompt (2012) as Administrator, or build the samples in Visual Studio 2012, also run as Administrator.</span></span>

    > [!NOTE]
    >  <span data-ttu-id="36674-140">Wenn dieser Schritt nicht ausgeführt wird, lässt sich keines der von IIS gehosteten Beispiele erstellen.</span><span class="sxs-lookup"><span data-stu-id="36674-140">If this step is not completed, all IIS-hosted samples will fail while building.</span></span> <span data-ttu-id="36674-141">Legen Sie die Berechtigungen unbedingt richtig fest, oder führen Sie die SDK-Eingabeaufforderung und Visual Studio-Eingabeaufforderung (2012) als Administrator aus.</span><span class="sxs-lookup"><span data-stu-id="36674-141">Ensure that you set the permissions correctly, or run both the SDK command prompt and Visual Studio Command Prompt (2012) as Administrator.</span></span>

11. <span data-ttu-id="36674-142">Erstellen Sie das Verzeichnis C:\logs auf dem Computer. Möglicherweise wird es bei einigen Beispielen vorausgesetzt.</span><span class="sxs-lookup"><span data-stu-id="36674-142">Create a C:\logs directory on the computer; some samples might be expecting it.</span></span> <span data-ttu-id="36674-143">Stellen Sie sicher, dass das entsprechende Konto Schreibzugriff auf diesen Ordner hat.</span><span class="sxs-lookup"><span data-stu-id="36674-143">Make sure that the appropriate account has write access granted to this folder.</span></span> <span data-ttu-id="36674-144">Für Windows 7 [!INCLUDE[wv](../../../../includes/wv-md.md)], und Windows Server 2008 R2, dieses Konto ist **Netzwerkdienst**.</span><span class="sxs-lookup"><span data-stu-id="36674-144">For Windows 7, [!INCLUDE[wv](../../../../includes/wv-md.md)], and Windows Server 2008 R2, this account is **Network Service**.</span></span> <span data-ttu-id="36674-145">Unter [!INCLUDE[lserver](../../../../includes/lserver-md.md)] ist es das Konto NT-Autorität\Netzwerkdienst.</span><span class="sxs-lookup"><span data-stu-id="36674-145">For  [!INCLUDE[lserver](../../../../includes/lserver-md.md)], the account is NT Authority\Network Service.</span></span> <span data-ttu-id="36674-146">Unter [!INCLUDE[wxp](../../../../includes/wxp-md.md)] und [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] lautet das Konto ASPNET.</span><span class="sxs-lookup"><span data-stu-id="36674-146">For [!INCLUDE[wxp](../../../../includes/wxp-md.md)] and [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)], the account is ASPNET.</span></span>

12. <span data-ttu-id="36674-147">Führen Sie die Datei "Setupcerttool.bat" aus.</span><span class="sxs-lookup"><span data-stu-id="36674-147">Run the Setupcerttool.bat file.</span></span> <span data-ttu-id="36674-148">Diese Datei befindet sich der \<"InstallPath" > \WF_WCF_Samples\WCF\Setup\-Ordner.</span><span class="sxs-lookup"><span data-stu-id="36674-148">This file is located in the  \<InstallPath>\WF_WCF_Samples\WCF\Setup\  folder.</span></span>  <span data-ttu-id="36674-149">Mit diesem Skript werden folgende Aufgaben ausgeführt:</span><span class="sxs-lookup"><span data-stu-id="36674-149">This script will perform the following tasks:</span></span>

    - <span data-ttu-id="36674-150">Erstellen des Tools FindPrivateKey</span><span class="sxs-lookup"><span data-stu-id="36674-150">Build the FindPrivateKey tool.</span></span>

    - <span data-ttu-id="36674-151">Erstellen eines Verzeichnisses mit dem Namen %ProgramFiles%\ServiceModelSampleTools</span><span class="sxs-lookup"><span data-stu-id="36674-151">Create a directory called %ProgramFiles%\ServiceModelSampleTools.</span></span>

    - <span data-ttu-id="36674-152">Kopieren Sie das neue Tool FindPrivateKey in dieses Verzeichnis.</span><span class="sxs-lookup"><span data-stu-id="36674-152">Copy the new FindPrivateKey tool to this directory.</span></span>

     <span data-ttu-id="36674-153">Dieses Tool ist für Beispiele erforderlich, die Zertifikate verwenden und in IIS gehostet werden.</span><span class="sxs-lookup"><span data-stu-id="36674-153">This tool is required by samples that use certificates and are hosted in IIS.</span></span>

    > [!NOTE]
    >  <span data-ttu-id="36674-154">Entfernen Sie aus Sicherheitsgründen die Definition des virtuellen Verzeichnisses und die in den vorhergehenden Setupschritten gewährten Berechtigungen, indem Sie die Batchdatei Cleanupvroot.bat nach Abschluss der Beispiele ausführen.</span><span class="sxs-lookup"><span data-stu-id="36674-154">For security purposes, remember to remove the virtual directory definition and permissions granted in the setup steps above by running the batch file named Cleanupvroot.bat after you are finished with the samples.</span></span>

13. <span data-ttu-id="36674-155">Für selbst gehostete Beispiele (nicht in IIS gehostet) ist auf dem Computer die Berechtigung zum Registrieren von HTTP-Adressen für die Überwachung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="36674-155">Samples that are self-hosted (not hosted in IIS) require permission to register HTTP addresses on the computer for listening.</span></span> <span data-ttu-id="36674-156">Die Berechtigung für eine HTTP-Namespacereservierung wird von dem Benutzerkonto übernommen, das zum Ausführen des Beispiels verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="36674-156">The permission for an HTTP namespace reservation comes from the user account used to run the sample.</span></span> <span data-ttu-id="36674-157">Standardmäßig verfügen Administratorkonten über die Berechtigung zum Registrieren von HTTP-Adressen.</span><span class="sxs-lookup"><span data-stu-id="36674-157">By default, administrator accounts have the permission to register any HTTP address.</span></span> <span data-ttu-id="36674-158">Nicht-Administratorkonten muss die Berechtigung für die von den Beispielen verwendeten HTTP-Namespaces gewährt werden.</span><span class="sxs-lookup"><span data-stu-id="36674-158">Non-administrator accounts must be granted permission for the HTTP namespaces used by the samples.</span></span> <span data-ttu-id="36674-159">Weitere Informationen zum Konfigurieren von Namespacereservierungen finden Sie unter [Configuring HTTP and HTTPS (Konfigurieren von HTTP und HTTPS)](../../../../docs/framework/wcf/feature-details/configuring-http-and-https.md).</span><span class="sxs-lookup"><span data-stu-id="36674-159">For more information about how to configure namespace reservations, see [Configuring HTTP and HTTPS](../../../../docs/framework/wcf/feature-details/configuring-http-and-https.md).</span></span>

14. <span data-ttu-id="36674-160">Für einige Beispiele ist Message Queuing erforderlich.</span><span class="sxs-lookup"><span data-stu-id="36674-160">Some samples require Message Queuing.</span></span> <span data-ttu-id="36674-161">Finden Sie unter [Installieren von Message Queuing (MSMQ)](../../../../docs/framework/wcf/samples/installing-message-queuing-msmq.md) installationsanweisungen.</span><span class="sxs-lookup"><span data-stu-id="36674-161">See [Installing Message Queuing (MSMQ)](../../../../docs/framework/wcf/samples/installing-message-queuing-msmq.md) for installation instructions.</span></span>

    > [!NOTE]
    >  <span data-ttu-id="36674-162">Stellen Sie sicher, dass der MSMQ-Dienst gestartet wurde, bevor Sie Beispiele ausführen, für die Message Queuing erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="36674-162">Ensure that you start the MSMQ service before you run any samples that require Message Queuing.</span></span>

15. <span data-ttu-id="36674-163">Einige Beispiele erfordern Zertifikate.</span><span class="sxs-lookup"><span data-stu-id="36674-163">Some samples require certificates.</span></span> <span data-ttu-id="36674-164">Finden Sie unter [Internetinformationsdienste (IIS) Installationsanweisungen zu Serverzertifikaten](../../../../docs/framework/wcf/samples/iis-server-certificate-installation-instructions.md).</span><span class="sxs-lookup"><span data-stu-id="36674-164">See [Internet Information Services (IIS) Server Certificate Installation Instructions](../../../../docs/framework/wcf/samples/iis-server-certificate-installation-instructions.md).</span></span>
