---
title: Authentifizierung in SQL Server
ms.date: 05/22/2018
ms.assetid: 646ddbf5-dd4e-4285-8e4a-f565f666c5cc
ms.openlocfilehash: f7fac0756da3bcc19ee6370468f0e0e65c428d35
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/18/2019
ms.locfileid: "59084036"
---
# <a name="authentication-in-sql-server"></a><span data-ttu-id="e10e5-102">Authentifizierung in SQL Server</span><span class="sxs-lookup"><span data-stu-id="e10e5-102">Authentication in SQL Server</span></span>
<span data-ttu-id="e10e5-103">SQL Server unterstützt zwei Authentifizierungsmodi: den Windows-Authentifizierungsmodus und den gemischten Modus.</span><span class="sxs-lookup"><span data-stu-id="e10e5-103">SQL Server supports two authentication modes, Windows authentication mode and mixed mode.</span></span>  
  
-   <span data-ttu-id="e10e5-104">Die Windows-Authentifizierung ist der Standard. Sie wird häufig auch als "integrierte Sicherheit" bezeichnet, weil dieses SQL Server-Sicherheitsmodell eng in Windows integriert ist.</span><span class="sxs-lookup"><span data-stu-id="e10e5-104">Windows authentication is the default, and is often referred to as integrated security because this SQL Server security model is tightly integrated with Windows.</span></span> <span data-ttu-id="e10e5-105">Dabei gelten bestimmte Windows-Benutzer- und -Gruppenkonten als so vertrauenswürdig, dass sie sich bei SQL Server anmelden dürfen.</span><span class="sxs-lookup"><span data-stu-id="e10e5-105">Specific Windows user and group accounts are trusted to log in to SQL Server.</span></span> <span data-ttu-id="e10e5-106">Windows-Benutzer, die bereits authentifiziert wurden, müssen keine zusätzlichen Anmeldeinformationen zur Verfügung stellen.</span><span class="sxs-lookup"><span data-stu-id="e10e5-106">Windows users who have already been authenticated do not have to present additional credentials.</span></span>  
  
-   <span data-ttu-id="e10e5-107">Der gemischte Modus unterstützt die Authentifizierung durch Windows und durch SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e10e5-107">Mixed mode supports authentication both by Windows and by SQL Server.</span></span> <span data-ttu-id="e10e5-108">Die Paare aus Benutzername und Kennwort werden innerhalb von SQL Server beibehalten.</span><span class="sxs-lookup"><span data-stu-id="e10e5-108">User name and password pairs are maintained within SQL Server.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="e10e5-109">Es wird empfohlen, möglichst immer die Windows-Authentifizierung zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="e10e5-109">We recommend using Windows authentication wherever possible.</span></span> <span data-ttu-id="e10e5-110">Die Windows-Authentifizierung verwendet zum Authentifizieren der Benutzer in SQL Server eine Reihe verschlüsselter Meldungen.</span><span class="sxs-lookup"><span data-stu-id="e10e5-110">Windows authentication uses a series of encrypted messages to authenticate users in SQL Server.</span></span> <span data-ttu-id="e10e5-111">Wenn SQL Server-Anmeldungen verwendet werden, werden SQL Server-Anmeldenamen und verschlüsselte Kennwörter über das Netzwerk übergeben, die sie dadurch unsichererer wird.</span><span class="sxs-lookup"><span data-stu-id="e10e5-111">When SQL Server logins are used, SQL Server login names and encrypted passwords are passed across the network, which makes them less secure.</span></span>  
  
 <span data-ttu-id="e10e5-112">Bei der Windows-Authentifizierung sind die Benutzer bereits bei Windows angemeldet und müssen sich nicht noch einmal bei SQL Server anmelden.</span><span class="sxs-lookup"><span data-stu-id="e10e5-112">With Windows authentication, users are already logged onto Windows and do not have to log on separately to SQL Server.</span></span> <span data-ttu-id="e10e5-113">Die folgenden `SqlConnection.ConnectionString` gibt die Windows-Authentifizierung ohne dass Benutzer einen Benutzernamen und kein Kennwort angeben.</span><span class="sxs-lookup"><span data-stu-id="e10e5-113">The following `SqlConnection.ConnectionString` specifies Windows authentication without requiring users to provide a user name or password.</span></span>  
  
```  
"Server=MSSQL1;Database=AdventureWorks;Integrated Security=true;  
```  
  
> [!NOTE]
>  <span data-ttu-id="e10e5-114">Anmeldungen und Datenbankbenutzer sind nicht dasselbe.</span><span class="sxs-lookup"><span data-stu-id="e10e5-114">Logins are distinct from database users.</span></span> <span data-ttu-id="e10e5-115">Sie müssen Anmeldungen oder Windows-Gruppen in einem separaten Vorgang Datenbankbenutzern oder Rollen zuordnen.</span><span class="sxs-lookup"><span data-stu-id="e10e5-115">You must map logins or Windows groups to database users or roles in a separate operation.</span></span> <span data-ttu-id="e10e5-116">Anschließend gewähren Sie den Benutzern oder Rollen Berechtigungen, damit diese auf die Datenbankobjekte zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="e10e5-116">You then grant permissions to users or roles to access database objects.</span></span>  
  
## <a name="authentication-scenarios"></a><span data-ttu-id="e10e5-117">Authentifizierungsszenarien</span><span class="sxs-lookup"><span data-stu-id="e10e5-117">Authentication Scenarios</span></span>  
 <span data-ttu-id="e10e5-118">In den folgenden Situationen ist die Windows-Authentifizierung in der Regel die beste Wahl:</span><span class="sxs-lookup"><span data-stu-id="e10e5-118">Windows authentication is usually the best choice in the following situations:</span></span>  
  
-   <span data-ttu-id="e10e5-119">Es gibt einen Domänencontroller.</span><span class="sxs-lookup"><span data-stu-id="e10e5-119">There is a domain controller.</span></span>  
  
-   <span data-ttu-id="e10e5-120">Die Anwendung und die Datenbank befinden sich auf demselben Computer.</span><span class="sxs-lookup"><span data-stu-id="e10e5-120">The application and the database are on the same computer.</span></span>  
  
-   <span data-ttu-id="e10e5-121">Sie verwenden eine Instanz von SQL Server Express oder LocalDB.</span><span class="sxs-lookup"><span data-stu-id="e10e5-121">You are using an instance of SQL Server Express or LocalDB.</span></span>  
  
 <span data-ttu-id="e10e5-122">SQL Server-Anmeldungen werden im Allgemeinen in den folgenden Situationen verwendet:</span><span class="sxs-lookup"><span data-stu-id="e10e5-122">SQL Server logins are often used in the following situations:</span></span>  
  
-   <span data-ttu-id="e10e5-123">Wenn Sie über eine Arbeitsgruppe verfügen.</span><span class="sxs-lookup"><span data-stu-id="e10e5-123">If you have a workgroup.</span></span>  
  
-   <span data-ttu-id="e10e5-124">Die Benutzer stellen die Verbindung von unterschiedlichen, nicht vertrauenswürdigen Domänen aus her.</span><span class="sxs-lookup"><span data-stu-id="e10e5-124">Users connect from different, non-trusted domains.</span></span>  
  
-   <span data-ttu-id="e10e5-125">Internetanwendungen, z. B. [!INCLUDE[vstecasp](../../../../../includes/vstecasp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e10e5-125">Internet applications, such as [!INCLUDE[vstecasp](../../../../../includes/vstecasp-md.md)].</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e10e5-126">Das Angeben der Windows-Authentifizierung führt nicht zu einer Deaktivierung von SQL Server-Anmeldungen.</span><span class="sxs-lookup"><span data-stu-id="e10e5-126">Specifying Windows authentication does not disable SQL Server logins.</span></span> <span data-ttu-id="e10e5-127">Verwenden Sie die ALTER LOGIN DISABLE [!INCLUDE[tsql](../../../../../includes/tsql-md.md)] Anweisung, um SQL Server-Anmeldungen für hoch privilegierten zu deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="e10e5-127">Use the ALTER LOGIN DISABLE [!INCLUDE[tsql](../../../../../includes/tsql-md.md)] statement to disable highly-privileged SQL Server logins.</span></span>  
  
## <a name="login-types"></a><span data-ttu-id="e10e5-128">Anmeldungstypen</span><span class="sxs-lookup"><span data-stu-id="e10e5-128">Login Types</span></span>  
 <span data-ttu-id="e10e5-129">SQL Server unterstützt drei Arten von Anmeldenamen:</span><span class="sxs-lookup"><span data-stu-id="e10e5-129">SQL Server supports three types of logins:</span></span>  
  
-   <span data-ttu-id="e10e5-130">Lokales Windows-Benutzerkonto oder vertrauenswürdiges Domänenkonto:</span><span class="sxs-lookup"><span data-stu-id="e10e5-130">A local Windows user account or trusted domain account.</span></span> <span data-ttu-id="e10e5-131">SQL Server verlässt sich bei der Authentifizierung der Windows-Benutzerkonten auf Windows.</span><span class="sxs-lookup"><span data-stu-id="e10e5-131">SQL Server relies on Windows to authenticate the Windows user accounts.</span></span>  
  
-   <span data-ttu-id="e10e5-132">Windows-Gruppe:</span><span class="sxs-lookup"><span data-stu-id="e10e5-132">Windows group.</span></span> <span data-ttu-id="e10e5-133">Wenn einer Windows-Gruppe Zugriff gewährt wird, gelten diese Zugriffsrechte für alle Windows-Benutzeranmeldungen, die dieser Gruppe angehören.</span><span class="sxs-lookup"><span data-stu-id="e10e5-133">Granting access to a Windows group grants access to all Windows user logins that are members of the group.</span></span>  
  
-   <span data-ttu-id="e10e5-134">SQL Server-Anmeldung:</span><span class="sxs-lookup"><span data-stu-id="e10e5-134">SQL Server login.</span></span> <span data-ttu-id="e10e5-135">SQL Server speichert in der Masterdatenbank den Benutzernamen und einen Hash des Kennworts. Für die Überprüfung der Anmeldungsversuche werden interne Authentifizierungsmethoden verwendet.</span><span class="sxs-lookup"><span data-stu-id="e10e5-135">SQL Server stores both the username and a hash of the password in the master database, by using internal authentication methods to verify login attempts.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e10e5-136">SQL Server bietet Anmeldungen aus Zertifikaten oder asymmetrischen Schlüsseln, die nur für die codesignierung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e10e5-136">SQL Server provides logins created from certificates or asymmetric keys that are used only for code signing.</span></span> <span data-ttu-id="e10e5-137">Zum Herstellen einer Verbindung mit SQL Server können sie nicht verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e10e5-137">They cannot be used to connect to SQL Server.</span></span>  
  
## <a name="mixed-mode-authentication"></a><span data-ttu-id="e10e5-138">Authentifizierung im gemischten Modus</span><span class="sxs-lookup"><span data-stu-id="e10e5-138">Mixed Mode Authentication</span></span>  
 <span data-ttu-id="e10e5-139">Wenn die Authentifizierung im gemischten Modus verwendet werden soll, müssen Sie SQL Server-Anmeldungen erstellen, die in SQL Server gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="e10e5-139">If you must use mixed mode authentication, you must create SQL Server logins, which are stored in SQL Server.</span></span> <span data-ttu-id="e10e5-140">Zur Laufzeit müssen dann der SQL Server-Benutzername und das Kennwort angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="e10e5-140">You then have to supply the SQL Server user name and password at run time.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="e10e5-141">SQL Server wird mit einer SQL Server-Anmeldung mit dem Namen `sa` (kurz für "Systemadministrator") installiert.</span><span class="sxs-lookup"><span data-stu-id="e10e5-141">SQL Server installs with a SQL Server login named `sa` (an abbreviation of "system administrator").</span></span> <span data-ttu-id="e10e5-142">Weisen Sie der `sa`-Anmeldung ein starkes Kennwort zu, und verwenden Sie die `sa`-Anmeldung nicht in Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="e10e5-142">Assign a strong password to the `sa` login and do not use the `sa` login in your application.</span></span> <span data-ttu-id="e10e5-143">Die `sa`-Anmeldung wird der festen Serverrolle `sysadmin` zugeordnet, die nicht widerrufbare administrative Anmeldeinformationen für den gesamten Server besitzt.</span><span class="sxs-lookup"><span data-stu-id="e10e5-143">The `sa` login maps to the `sysadmin` fixed server role, which has irrevocable administrative credentials on the whole server.</span></span> <span data-ttu-id="e10e5-144">Wenn es einem Angreifer gelingt, sich als Systemadministrator Zugriff zu verschaffen, stehen ihm Tür und Tor offen.</span><span class="sxs-lookup"><span data-stu-id="e10e5-144">There are no limits to the potential damage if an attacker gains access as a system administrator.</span></span> <span data-ttu-id="e10e5-145">Alle Member der Windows-Gruppe `BUILTIN\Administrators` (der lokalen Administratorgruppe) gehören standardmäßig der Rolle `sysadmin` an, können aber aus dieser Rolle entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="e10e5-145">All members of the Windows `BUILTIN\Administrators` group (the local administrator's group) are members of the `sysadmin` role by default, but can be removed from that role.</span></span>  
  
 <span data-ttu-id="e10e5-146">SQL Server stellt Mechanismen der Windows-Kennwortrichtlinien für SQL Server-Anmeldungen, bei der Ausführung auf [!INCLUDE[winxpsvr](../../../../../includes/winxpsvr-md.md)] oder höhere Versionen.</span><span class="sxs-lookup"><span data-stu-id="e10e5-146">SQL Server provides Windows password policy mechanisms for SQL Server logins when it is running on [!INCLUDE[winxpsvr](../../../../../includes/winxpsvr-md.md)] or later versions.</span></span> <span data-ttu-id="e10e5-147">Richtlinien zur Kennwortkomplexität werden als Maßnahme gegen Brute Force-Angriffe entworfen. Dabei wird die Anzahl der möglichen Kennwörter erhöht.</span><span class="sxs-lookup"><span data-stu-id="e10e5-147">Password complexity policies are designed to deter brute force attacks by increasing the number of possible passwords.</span></span> <span data-ttu-id="e10e5-148">SQL Server verwendet die gleichen Komplexitäts- und Ablaufrichtlinien Richtlinien anwenden [!INCLUDE[winxpsvr](../../../../../includes/winxpsvr-md.md)] auf Kennwörter, die in SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e10e5-148">SQL Server can apply the same complexity and expiration policies used in [!INCLUDE[winxpsvr](../../../../../includes/winxpsvr-md.md)] to passwords used inside SQL Server.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="e10e5-149">Das Verketten von Verbindungszeichenfolgen aus Benutzereingaben kann zu einer Anfälligkeit für Angriffe durch Einschleusung von Verbindungszeichenfolgen führen.</span><span class="sxs-lookup"><span data-stu-id="e10e5-149">Concatenating connection strings from user input can leave you vulnerable to a connection string injection attack.</span></span> <span data-ttu-id="e10e5-150">Verwenden Sie zum Erstellen syntaktisch gültiger Verbindungszeichenfolgen zur Laufzeit den <xref:System.Data.SqlClient.SqlConnectionStringBuilder>.</span><span class="sxs-lookup"><span data-stu-id="e10e5-150">Use the <xref:System.Data.SqlClient.SqlConnectionStringBuilder> to create syntactically valid connection strings at run time.</span></span> <span data-ttu-id="e10e5-151">Weitere Informationen finden Sie in [Connection String Builders (Verbindungszeichenfolgengeneratoren)](../../../../../docs/framework/data/adonet/connection-string-builders.md).</span><span class="sxs-lookup"><span data-stu-id="e10e5-151">For more information, see [Connection String Builders](../../../../../docs/framework/data/adonet/connection-string-builders.md).</span></span>  
  
## <a name="external-resources"></a><span data-ttu-id="e10e5-152">Externe Ressourcen</span><span class="sxs-lookup"><span data-stu-id="e10e5-152">External Resources</span></span>  
 <span data-ttu-id="e10e5-153">Weitere Informationen finden Sie in den folgenden Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="e10e5-153">For more information, see the following resources.</span></span>  
  
|<span data-ttu-id="e10e5-154">Ressource</span><span class="sxs-lookup"><span data-stu-id="e10e5-154">Resource</span></span>|<span data-ttu-id="e10e5-155">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="e10e5-155">Description</span></span>|  
|--------------|-----------------|  
|[<span data-ttu-id="e10e5-156">Prinzipale</span><span class="sxs-lookup"><span data-stu-id="e10e5-156">Principals</span></span>](/sql/relational-databases/security/authentication-access/principals-database-engine)|<span data-ttu-id="e10e5-157">Beschreibt Anmeldungen und andere Sicherheitsprinzipale in SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e10e5-157">Describes logins and other security principals in SQL Server.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="e10e5-158">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="e10e5-158">See also</span></span>

- [<span data-ttu-id="e10e5-159">Sichern von ADO.NET-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="e10e5-159">Securing ADO.NET Applications</span></span>](../../../../../docs/framework/data/adonet/securing-ado-net-applications.md)
- [<span data-ttu-id="e10e5-160">Anwendungssicherheitsszenarios in SQL Server</span><span class="sxs-lookup"><span data-stu-id="e10e5-160">Application Security Scenarios in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/application-security-scenarios-in-sql-server.md)
- [<span data-ttu-id="e10e5-161">Aufbauen der Verbindung zu einer Datenquelle</span><span class="sxs-lookup"><span data-stu-id="e10e5-161">Connecting to a Data Source</span></span>](../../../../../docs/framework/data/adonet/connecting-to-a-data-source.md)
- [<span data-ttu-id="e10e5-162">Verbindungszeichenfolgen</span><span class="sxs-lookup"><span data-stu-id="e10e5-162">Connection Strings</span></span>](../../../../../docs/framework/data/adonet/connection-strings.md)
- [<span data-ttu-id="e10e5-163">ADO.NET Managed Provider und DataSet Developer Center</span><span class="sxs-lookup"><span data-stu-id="e10e5-163">ADO.NET Managed Providers and DataSet Developer Center</span></span>](https://go.microsoft.com/fwlink/?LinkId=217917)
