---
title: Objektzustände und Änderungsverfolgung
ms.date: 03/30/2017
ms.assetid: 7a808b00-9c3c-479a-aa94-717280fefd71
ms.openlocfilehash: 63b04d3a4b6e48594e9664833a6e539d62bbab0e
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 04/23/2019
ms.locfileid: "61794393"
---
# <a name="object-states-and-change-tracking"></a><span data-ttu-id="d4983-102">Objektzustände und Änderungsverfolgung</span><span class="sxs-lookup"><span data-stu-id="d4983-102">Object States and Change-Tracking</span></span>
[!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="d4983-103">-Objekte weisen stets in einigen *Zustand*.</span><span class="sxs-lookup"><span data-stu-id="d4983-103">objects always participate in some *state*.</span></span> <span data-ttu-id="d4983-104">Wenn [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] z. B. ein neues Objekt erstellt, befindet sich dieses im `Unchanged`-Zustand.</span><span class="sxs-lookup"><span data-stu-id="d4983-104">For example, when [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] creates a new object, the object is in `Unchanged` state.</span></span> <span data-ttu-id="d4983-105">Ein neues Objekt, das Sie selbst erstellen, ist unbekannt, um die <xref:System.Data.Linq.DataContext> und befindet sich im `Untracked` Zustand.</span><span class="sxs-lookup"><span data-stu-id="d4983-105">A new object that you yourself create is unknown to the <xref:System.Data.Linq.DataContext> and is in `Untracked` state.</span></span> <span data-ttu-id="d4983-106">Nach der erfolgreichen Ausführung von <xref:System.Data.Linq.DataContext.SubmitChanges%2A> befinden sich alle [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] bekannten Objekte im `Unchanged`-Zustand.</span><span class="sxs-lookup"><span data-stu-id="d4983-106">Following successful execution of <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, all objects known to [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] are in `Unchanged` state.</span></span> <span data-ttu-id="d4983-107">(Die einzige Ausnahme besteht in Objekten, die erfolgreich aus der Datenbank gelöscht wurden und sich im `Deleted`-Zustand befinden, weshalb sie für die <xref:System.Data.Linq.DataContext>-Instanz nicht nutzbar sind.)</span><span class="sxs-lookup"><span data-stu-id="d4983-107">(The single exception is represented by those that have been successfully deleted from the database, which are in `Deleted` state and unusable in that <xref:System.Data.Linq.DataContext> instance.)</span></span>  
  
## <a name="object-states"></a><span data-ttu-id="d4983-108">Objektzustände</span><span class="sxs-lookup"><span data-stu-id="d4983-108">Object States</span></span>  
 <span data-ttu-id="d4983-109">In der folgenden Tabelle werden die möglichen Zustände für [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]-Objekte aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="d4983-109">The following table lists the possible states for [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] objects.</span></span>  
  
|<span data-ttu-id="d4983-110">Zustand</span><span class="sxs-lookup"><span data-stu-id="d4983-110">State</span></span>|<span data-ttu-id="d4983-111">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="d4983-111">Description</span></span>|  
|-----------|-----------------|  
|`Untracked`|<span data-ttu-id="d4983-112">Ein Objekt, das nicht von [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] verfolgt wird.</span><span class="sxs-lookup"><span data-stu-id="d4983-112">An object not tracked by [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)].</span></span> <span data-ttu-id="d4983-113">Die Beispiele umfassen:</span><span class="sxs-lookup"><span data-stu-id="d4983-113">Examples include the following:</span></span><br /><br /> <span data-ttu-id="d4983-114">– Ein Objekt, das nicht über den aktuellen abgefragt <xref:System.Data.Linq.DataContext> (z. B. ein neu erstelltes Objekt).</span><span class="sxs-lookup"><span data-stu-id="d4983-114">-   An object not queried through the current <xref:System.Data.Linq.DataContext> (such as a newly created object).</span></span><br /><span data-ttu-id="d4983-115">: Ein durch Deserialisierung erstelltes Objekt</span><span class="sxs-lookup"><span data-stu-id="d4983-115">-   An object created through deserialization</span></span><br /><span data-ttu-id="d4983-116">– Ein Objekt, das durch einen anderen abgefragt <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="d4983-116">-   An object queried through a different <xref:System.Data.Linq.DataContext>.</span></span>|  
|`Unchanged`|<span data-ttu-id="d4983-117">Ein Objekt, das mit dem aktuellen <xref:System.Data.Linq.DataContext> abgefragt wurde und von dem nicht bekannt ist, ob es seit der Erstellung verändert wurde.</span><span class="sxs-lookup"><span data-stu-id="d4983-117">An object retrieved by using the current <xref:System.Data.Linq.DataContext> and not known to have been modified since it was created.</span></span>|  
|`PossiblyModified`|<span data-ttu-id="d4983-118">Ein Objekt, das ist *angefügt* zu einem <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="d4983-118">An object which is *attached* to a <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="d4983-119">Weitere Informationen finden Sie unter [Datenabruf und CUD-Vorgänge in N-Tier-Anwendungen (LINQ to SQL)](../../../../../../docs/framework/data/adonet/sql/linq/data-retrieval-and-cud-operations-in-n-tier-applications.md).</span><span class="sxs-lookup"><span data-stu-id="d4983-119">For more information, see [Data Retrieval and CUD Operations in N-Tier Applications (LINQ to SQL)](../../../../../../docs/framework/data/adonet/sql/linq/data-retrieval-and-cud-operations-in-n-tier-applications.md).</span></span>|  
|`ToBeInserted`|<span data-ttu-id="d4983-120">Ein Objekt, das nicht vom aktuellen <xref:System.Data.Linq.DataContext> abgerufen wurde.</span><span class="sxs-lookup"><span data-stu-id="d4983-120">An object not retrieved by using the current <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="d4983-121">Dies führt zu einem Datenbank-`INSERT` während <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="d4983-121">This causes a database `INSERT` during <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span>|  
|`ToBeUpdated`|<span data-ttu-id="d4983-122">Ein Objekt, von dem bekannt ist, dass es seit dem Abruf verändert wurde.</span><span class="sxs-lookup"><span data-stu-id="d4983-122">An object known to have been modified since it was retrieved.</span></span> <span data-ttu-id="d4983-123">Dies führt zu einem Datenbank-`UPDATE` während <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="d4983-123">This causes a database `UPDATE` during <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span>|  
|`ToBeDeleted`|<span data-ttu-id="d4983-124">Ein zum Löschen markiertes Objekt, das zu einem Datenbank-`DELETE` während <xref:System.Data.Linq.DataContext.SubmitChanges%2A> führt.</span><span class="sxs-lookup"><span data-stu-id="d4983-124">An object marked for deletion, causing a database `DELETE` during <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span>|  
|`Deleted`|<span data-ttu-id="d4983-125">Ein Objekt, das in der Datenbank gelöscht wurde.</span><span class="sxs-lookup"><span data-stu-id="d4983-125">An object that has been deleted in the database.</span></span> <span data-ttu-id="d4983-126">Dieser Zustand ist endgültig und ermöglicht keine zusätzlichen Übergänge.</span><span class="sxs-lookup"><span data-stu-id="d4983-126">This state is final and does not allow for additional transitions.</span></span>|  
  
## <a name="inserting-objects"></a><span data-ttu-id="d4983-127">Einfügen von Objekten</span><span class="sxs-lookup"><span data-stu-id="d4983-127">Inserting Objects</span></span>  
 <span data-ttu-id="d4983-128">Sie können `Inserts` mithilfe von <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A> explizit anfordern.</span><span class="sxs-lookup"><span data-stu-id="d4983-128">You can explicitly request `Inserts` by using <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>.</span></span> <span data-ttu-id="d4983-129">Sie können auch [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] ableiten kann `Inserts` durch Suchen der Objekte, die mit einer der bekannten Objekte, die aktualisiert werden müssen, verbunden sind.</span><span class="sxs-lookup"><span data-stu-id="d4983-129">Alternatively, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] can infer `Inserts` by finding objects connected to one of the known objects that must be updated.</span></span> <span data-ttu-id="d4983-130">Angenommen, Sie fügen ein `Untracked` -Objekt ein <xref:System.Data.Linq.EntitySet%601> oder ein <xref:System.Data.Linq.EntityRef%601> zu ein `Untracked` Objekt ist, stellen Sie die `Untracked` -Objekt über verfolgte Objekte im Diagramm erreichbar.</span><span class="sxs-lookup"><span data-stu-id="d4983-130">For example, if you add an `Untracked` object to an <xref:System.Data.Linq.EntitySet%601> or set an <xref:System.Data.Linq.EntityRef%601> to an `Untracked` object, you make the `Untracked` object reachable by way of tracked objects in the graph.</span></span> <span data-ttu-id="d4983-131">Während der Verarbeitung <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] durchläuft die verfolgten Objekte und ermittelt alle erreichbaren vorhandenen Objekte, die nicht nachverfolgt werden.</span><span class="sxs-lookup"><span data-stu-id="d4983-131">While processing <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] traverses the tracked objects and discovers any reachable persistent objects that are not tracked.</span></span> <span data-ttu-id="d4983-132">Solche Objekte sind Kandidaten für das Einfügen in die Datenbank.</span><span class="sxs-lookup"><span data-stu-id="d4983-132">Such objects are candidates for insertion into the database.</span></span>  
  
 <span data-ttu-id="d4983-133">Für Klassen in einer Vererbungshierarchie <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>(`o`) legt auch fest, der Wert des Members als die *Diskriminator* entsprechend den Typ des Objekts `o`.</span><span class="sxs-lookup"><span data-stu-id="d4983-133">For classes in an inheritance hierarchy, <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>(`o`) also sets the value of the member designated as the *discriminator* to match the type of the object `o`.</span></span> <span data-ttu-id="d4983-134">Entspricht ein Typ dem standardmäßigen Diskriminatorwert, wird durch diese Aktion der Diskriminatorwert mit dem Standardwert überschrieben.</span><span class="sxs-lookup"><span data-stu-id="d4983-134">In the case of a type matching the default discriminator value, this action causes the discriminator value to be overwritten with the default value.</span></span> <span data-ttu-id="d4983-135">Weitere Informationen finden Sie unter [Unterstützung von Vererbung](../../../../../../docs/framework/data/adonet/sql/linq/inheritance-support.md).</span><span class="sxs-lookup"><span data-stu-id="d4983-135">For more information, see [Inheritance Support](../../../../../../docs/framework/data/adonet/sql/linq/inheritance-support.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="d4983-136">Ein der `Table` hinzugefügtes Objekt befindet sich nicht im Identitäts-Cache.</span><span class="sxs-lookup"><span data-stu-id="d4983-136">An object added to a `Table` is not in the identity cache.</span></span> <span data-ttu-id="d4983-137">Der Identitäts-Cache enthält nur die Elemente, die aus der Datenbank abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="d4983-137">The identity cache reflects only what is retrieved from the database.</span></span> <span data-ttu-id="d4983-138">Nach einem Aufruf von <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A> erscheint die hinzugefügte Entität erst dann in den Abfragen für die Datenbank, wenn <xref:System.Data.Linq.DataContext.SubmitChanges%2A> erfolgreich abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="d4983-138">After a call to <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>, the added entity does not appear in queries against the database until <xref:System.Data.Linq.DataContext.SubmitChanges%2A> is successfully completed.</span></span>  
  
## <a name="deleting-objects"></a><span data-ttu-id="d4983-139">Löschen von Objekten</span><span class="sxs-lookup"><span data-stu-id="d4983-139">Deleting Objects</span></span>  
 <span data-ttu-id="d4983-140">Sie markieren ein verfolgtes Objekt `o` zum Löschen, indem Sie <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>(o) in der entsprechenden <xref:System.Data.Linq.Table%601> aufrufen.</span><span class="sxs-lookup"><span data-stu-id="d4983-140">You mark a tracked object `o` for deletion by calling <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>(o) on the appropriate <xref:System.Data.Linq.Table%601>.</span></span> [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="d4983-141">betrachtet das Entfernen eines Objekts aus einem <xref:System.Data.Linq.EntitySet%601> als Update-Vorgang, und der entsprechende Fremdschlüsselwert wird festgelegt auf Null.</span><span class="sxs-lookup"><span data-stu-id="d4983-141">considers the removal of an object from an <xref:System.Data.Linq.EntitySet%601> as an update operation, and the corresponding foreign key value is set to null.</span></span> <span data-ttu-id="d4983-142">Das Ziel der Operation (`o`) wird nicht aus seiner Tabelle gelöscht.</span><span class="sxs-lookup"><span data-stu-id="d4983-142">The target of the operation (`o`) is not deleted from its table.</span></span> <span data-ttu-id="d4983-143">`cust.Orders.DeleteOnSubmit(ord)` weist beispielsweise auf ein Update hin, wenn die Beziehung zwischen `cust` und `ord` durch Festlegen des Fremdschlüssels `ord.CustomerID` auf NULL getrennt wurde.</span><span class="sxs-lookup"><span data-stu-id="d4983-143">For example, `cust.Orders.DeleteOnSubmit(ord)` indicates an update where the relationship between `cust` and `ord` is severed by setting the foreign key `ord.CustomerID` to null.</span></span> <span data-ttu-id="d4983-144">Hierbei wird die entsprechende Zeile für `ord` nicht gelöscht.</span><span class="sxs-lookup"><span data-stu-id="d4983-144">It does not cause the deletion of the row corresponding to `ord`.</span></span>  
  
 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="d4983-145">führt die folgende Verarbeitung, wenn ein Objekt gelöscht wird (<xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>) aus seiner Tabelle:</span><span class="sxs-lookup"><span data-stu-id="d4983-145">performs the following processing when an object is deleted (<xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>) from its table:</span></span>  
  
- <span data-ttu-id="d4983-146">Wenn <xref:System.Data.Linq.DataContext.SubmitChanges%2A> aufgerufen wird, wird eine `DELETE`-Operation für dieses Objekt ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="d4983-146">When <xref:System.Data.Linq.DataContext.SubmitChanges%2A> is called, a `DELETE` operation is performed for that object.</span></span>  
  
- <span data-ttu-id="d4983-147">Die Löschung wird unabhängig davon, ob diese geladen sind, nicht an verwandte Objekte weitergeleitet.</span><span class="sxs-lookup"><span data-stu-id="d4983-147">The removal is not propagated to related objects regardless of whether they are loaded.</span></span> <span data-ttu-id="d4983-148">Verwandte Objekte werden vor allem nicht geladen, um die Beziehungseigenschaft zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="d4983-148">Specifically, related objects are not loaded for updating the relationship property.</span></span>  
  
- <span data-ttu-id="d4983-149">Nach erfolgreicher Ausführung von <xref:System.Data.Linq.DataContext.SubmitChanges%2A> werden die Objekte auf den `Deleted`-Zustand festgelegt.</span><span class="sxs-lookup"><span data-stu-id="d4983-149">After successful execution of <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, the objects are set to the `Deleted` state.</span></span> <span data-ttu-id="d4983-150">Daher können Sie das Objekt oder seine `id` nicht in diesem <xref:System.Data.Linq.DataContext> verwenden.</span><span class="sxs-lookup"><span data-stu-id="d4983-150">As a result, you cannot use the object or its `id` in that <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="d4983-151">Der interne Cache einer <xref:System.Data.Linq.DataContext>-Instanz eliminiert keine Objekte, die abgerufen oder neu hinzugefügt wurden, auch wenn diese in der Datenbank gelöscht wurden.</span><span class="sxs-lookup"><span data-stu-id="d4983-151">The internal cache maintained by a <xref:System.Data.Linq.DataContext> instance does not eliminate objects that are retrieved or added as new, even after the objects have been deleted in the database.</span></span>  
  
 <span data-ttu-id="d4983-152">Sie können <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> nur für ein Objekt aufrufen, das vom <xref:System.Data.Linq.DataContext> verfolgt wird.</span><span class="sxs-lookup"><span data-stu-id="d4983-152">You can call <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> only on an object tracked by the <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="d4983-153">Bei einem `Untracked`-Objekt müssen Sie <xref:System.Data.Linq.Table%601.Attach%2A> vor <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> aufrufen.</span><span class="sxs-lookup"><span data-stu-id="d4983-153">For an `Untracked` object, you must call <xref:System.Data.Linq.Table%601.Attach%2A> before you call <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>.</span></span> <span data-ttu-id="d4983-154">Der Aufruf von <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> für ein `Untracked`-Objekt löst eine Ausnahme aus.</span><span class="sxs-lookup"><span data-stu-id="d4983-154">Calling <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> on an `Untracked` object throws an exception.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="d4983-155">Entfernen eines Objekts aus einer Tabelle weist [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] auf einen entsprechenden SQL `DELETE` zum Zeitpunkt der Befehl <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="d4983-155">Removing an object from a table tells [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] to generate a corresponding SQL `DELETE` command at the time of <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span> <span data-ttu-id="d4983-156">Diese Aktion entfernt das Objekt nicht aus dem Cache und gibt das Löschen auch nicht an verwandte Objekte weiter.</span><span class="sxs-lookup"><span data-stu-id="d4983-156">This action does not remove the object from the cache or propagate the deletion to related objects.</span></span>  
>   
>  <span data-ttu-id="d4983-157">Um die `id` eines gelöschten Objekts freizugeben, verwenden Sie eine neue <xref:System.Data.Linq.DataContext>-Instanz.</span><span class="sxs-lookup"><span data-stu-id="d4983-157">To reclaim the `id` of a deleted object, use a new <xref:System.Data.Linq.DataContext> instance.</span></span> <span data-ttu-id="d4983-158">Zur Bereinigung verwandter Objekte können Sie die *Löschweitergabe* Funktion der Datenbank, oder andernfalls manuell löschen der verknüpften Objekte.</span><span class="sxs-lookup"><span data-stu-id="d4983-158">For cleanup of related objects, you can use the *cascade delete* feature of the database, or else manually delete the related objects.</span></span>  
>   
>  <span data-ttu-id="d4983-159">Die verwandten Objekte müssen in keiner besonderen Reihenfolge gelöscht werden (im Gegensatz zur Datenbank).</span><span class="sxs-lookup"><span data-stu-id="d4983-159">The related objects do not have to be deleted in any special order (unlike in the database).</span></span>  
  
## <a name="updating-objects"></a><span data-ttu-id="d4983-160">Aktualisieren von Objekten</span><span class="sxs-lookup"><span data-stu-id="d4983-160">Updating Objects</span></span>  
 <span data-ttu-id="d4983-161">Sie können `Updates` durch Überwachen der Änderungsmitteilungen erkennen.</span><span class="sxs-lookup"><span data-stu-id="d4983-161">You can detect `Updates` by observing notifications of changes.</span></span> <span data-ttu-id="d4983-162">Benachrichtigungen werden durch das <xref:System.ComponentModel.INotifyPropertyChanging.PropertyChanging>-Ereignis in Eigenschaften-Settern bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="d4983-162">Notifications are provided through the <xref:System.ComponentModel.INotifyPropertyChanging.PropertyChanging> event in property setters.</span></span> <span data-ttu-id="d4983-163">Wird [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] über die erste Änderung an einem Objekt benachrichtigt, wird eine Kopie dieses Objekts erstellt, und das Objekt gilt als Kandidat zur Erzeugung einer `Update`-Anweisung.</span><span class="sxs-lookup"><span data-stu-id="d4983-163">When [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] is notified of the first change to an object, it creates a copy of the object and considers the object a candidate for generating an `Update` statement.</span></span>  
  
 <span data-ttu-id="d4983-164">Für Objekte, die keine implementieren <xref:System.ComponentModel.INotifyPropertyChanging>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] behält eine Kopie der Werte, Objekte bei der ersten Materialisierung aufwiesen.</span><span class="sxs-lookup"><span data-stu-id="d4983-164">For objects that do not implement <xref:System.ComponentModel.INotifyPropertyChanging>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] maintains a copy of the values that objects had when they were first materialized.</span></span> <span data-ttu-id="d4983-165">Beim Aufruf <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] vergleicht die aktuellen und ursprünglichen Werte, um zu entscheiden, ob das Objekt geändert wurde.</span><span class="sxs-lookup"><span data-stu-id="d4983-165">When you call <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] compares the current and original values to decide whether the object has been changed.</span></span>  
  
 <span data-ttu-id="d4983-166">Bei Updates von Beziehungen gilt der Verweis vom unter- zum übergeordneten Element (der Verweis, der dem Fremdschlüssel entspricht) als Autorität.</span><span class="sxs-lookup"><span data-stu-id="d4983-166">For updates to relationships, the reference from the child to the parent (that is, the reference corresponding to the foreign key) is considered the authority.</span></span> <span data-ttu-id="d4983-167">Der Verweis in die umgekehrte Richtung (d. h. vom übergeordneten zum untergeordneten Element) ist optional.</span><span class="sxs-lookup"><span data-stu-id="d4983-167">The reference in the reverse direction (that is, from parent to child) is optional.</span></span> <span data-ttu-id="d4983-168">Beziehungsklassen (<xref:System.Data.Linq.EntitySet%601> und <xref:System.Data.Linq.EntityRef%601>) stellen die Konsistenz bidirektionaler Verweise für 1:n-Beziehungen und 1:1-Beziehungen sicher.</span><span class="sxs-lookup"><span data-stu-id="d4983-168">Relationship classes (<xref:System.Data.Linq.EntitySet%601> and <xref:System.Data.Linq.EntityRef%601>) guarantee that the bidirectional references are consistent for one-to-many and one-to-one relationships.</span></span> <span data-ttu-id="d4983-169">Verwendet das Objektmodel <xref:System.Data.Linq.EntitySet%601> oder <xref:System.Data.Linq.EntityRef%601> nicht und ist ein umgekehrter Verweis vorhanden, ist es Ihre Aufgabe, diesen beim Update der Beziehung mit dem vorwärts gerichteten Verweis konsistent zu halten.</span><span class="sxs-lookup"><span data-stu-id="d4983-169">If the object model does not use <xref:System.Data.Linq.EntitySet%601> or <xref:System.Data.Linq.EntityRef%601>, and if the reverse reference is present, it is your responsibility to keep it consistent with the forward reference when the relationship is updated.</span></span>  
  
 <span data-ttu-id="d4983-170">Wenn Sie den erforderlichen Verweis und den entsprechenden Fremdschlüssel aktualisieren, müssen Sie deren Übereinstimmung sicherstellen.</span><span class="sxs-lookup"><span data-stu-id="d4983-170">If you update both the required reference and the corresponding foreign key, you must make sure that they agree.</span></span> <span data-ttu-id="d4983-171">Eine <xref:System.InvalidOperationException>-Ausnahme wird ausgelöst, wenn die beiden Elemente zum Zeitpunkt des Aufrufs von <xref:System.Data.Linq.DataContext.SubmitChanges%2A> nicht synchron sind.</span><span class="sxs-lookup"><span data-stu-id="d4983-171">An <xref:System.InvalidOperationException> exception is thrown if the two are not synchronized at the time that you call <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span> <span data-ttu-id="d4983-172">Obwohl die Werte von Fremdschlüsseln für ein Update der zugrunde liegenden Zeile ausreichen, müssen Sie die Referenz ändern, um die Konnektivität des Objektgraphen und die bidirektionale Konsistenz von Beziehungen zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="d4983-172">Although foreign key value changes are sufficient for affecting an update of the underlying row, you should change the reference to maintain connectivity of the object graph and bidirectional consistency of relationships.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d4983-173">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="d4983-173">See also</span></span>

- [<span data-ttu-id="d4983-174">Hintergrundinformationen</span><span class="sxs-lookup"><span data-stu-id="d4983-174">Background Information</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/background-information.md)
- [<span data-ttu-id="d4983-175">Insert-, Update- und Delete-Operationen</span><span class="sxs-lookup"><span data-stu-id="d4983-175">Insert, Update, and Delete Operations</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/insert-update-and-delete-operations.md)
