---
title: Anwendungssicherheitsszenarios in SQL Server
ms.date: 03/30/2017
ms.assetid: 0164f3a4-406e-4693-bec3-03c8e18b46d7
ms.openlocfilehash: bf844f35a3504af52cdb6bf745862ad5098dfc5f
ms.sourcegitcommit: d2e1dfa7ef2d4e9ffae3d431cf6a4ffd9c8d378f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/07/2019
ms.locfileid: "70782694"
---
# <a name="application-security-scenarios-in-sql-server"></a><span data-ttu-id="8838f-102">Anwendungssicherheitsszenarios in SQL Server</span><span class="sxs-lookup"><span data-stu-id="8838f-102">Application Security Scenarios in SQL Server</span></span>
<span data-ttu-id="8838f-103">Für das Erstellen einer sicheren SQL Server-Clientanwendung gibt es kein Patentrezept.</span><span class="sxs-lookup"><span data-stu-id="8838f-103">There is no single correct way to create a secure SQL Server client application.</span></span> <span data-ttu-id="8838f-104">Jede Anwendung hat spezifische Anforderungen, eine spezielle Bereitstellungsumgebung und einen eigenen Benutzerkreis.</span><span class="sxs-lookup"><span data-stu-id="8838f-104">Every application is unique in its requirements, deployment environment, and user population.</span></span> <span data-ttu-id="8838f-105">Eine Anwendung, die zum Zeitpunkt ihrer Bereitstellung angemessen sicher ist, kann im Laufe der Zeit weniger sicher werden.</span><span class="sxs-lookup"><span data-stu-id="8838f-105">An application that is reasonably secure when it is initially deployed can become less secure over time.</span></span> <span data-ttu-id="8838f-106">Es ist unmöglich, genau vorherzusagen, welche Bedrohungen zukünftig entstehen können.</span><span class="sxs-lookup"><span data-stu-id="8838f-106">It is impossible to predict with any accuracy what threats may emerge in the future.</span></span>  
  
 <span data-ttu-id="8838f-107">SQL Server, als Produkt, wurde im Laufe der Zeit ständig um die jeweils neuesten Sicherheitsfunktionen erweitert, um Entwicklern das Erstellen sicherer Datenbankanwendungen zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="8838f-107">SQL Server, as a product, has evolved over many versions to incorporate the latest security features that enable developers to create secure database applications.</span></span> <span data-ttu-id="8838f-108">Dennoch ist Sicherheit nicht einfach "ab Werk" zu haben; sie erfordert eine ständige Überwachung und Aktualisierung.</span><span class="sxs-lookup"><span data-stu-id="8838f-108">However, security doesn't come in the box; it requires continual monitoring and updating.</span></span>  
  
## <a name="common-threats"></a><span data-ttu-id="8838f-109">Allgemeine Bedrohungen</span><span class="sxs-lookup"><span data-stu-id="8838f-109">Common Threats</span></span>  
 <span data-ttu-id="8838f-110">Entwickler müssen die Sicherheitsbedrohungen und die Tools zu deren Abwehr kennen, und sie müssen wissen, wie selbst zu verantwortende Sicherheitslücken vermieden werden können.</span><span class="sxs-lookup"><span data-stu-id="8838f-110">Developers need to understand security threats, the tools provided to counter them, and how to avoid self-inflicted security holes.</span></span> <span data-ttu-id="8838f-111">Sicherheit ist wie eine Kette – Mängel in einem Glied bringen die Festigkeit der gesamten Kette in Gefahr.</span><span class="sxs-lookup"><span data-stu-id="8838f-111">Security can best be thought of as a chain, where a break in any one link compromises the strength of the whole.</span></span> <span data-ttu-id="8838f-112">In der folgenden Liste finden Sie eine Übersicht über die häufigsten Sicherheitsbedrohungen. Eine ausführliche Erläuterung dieser Bedrohungen folgt dann in den einzelnen Themen in diesem Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="8838f-112">The following list includes some common security threats that are discussed in more detail in the topics in this section.</span></span>  
  
### <a name="sql-injection"></a><span data-ttu-id="8838f-113">SQL-Injection</span><span class="sxs-lookup"><span data-stu-id="8838f-113">SQL Injection</span></span>  
 <span data-ttu-id="8838f-114">Die Einschleusung von SQL-Befehlen (SQL Injection-Angriff) ist eine Möglichkeit, Anwendungen anzugreifen. Dabei werden anstelle einer gültigen Eingabe Transact-SQL-Anweisungen in den Code eingeschleust.</span><span class="sxs-lookup"><span data-stu-id="8838f-114">SQL Injection is the process by which a malicious user enters Transact-SQL statements instead of valid input.</span></span> <span data-ttu-id="8838f-115">Wenn die Eingabe direkt und ohne Validierung an den Server weitergeleitet wird und die Anwendung den eingeschleusten Code ausführt, können auf diese Weise Daten beschädigt oder sogar zerstört werden.</span><span class="sxs-lookup"><span data-stu-id="8838f-115">If the input is passed directly to the server without being validated and if the application inadvertently executes the injected code, then the attack has the potential to damage or destroy data.</span></span> <span data-ttu-id="8838f-116">Sie können die Einschleusung von SQL Server-Befehlen vereiteln, indem Sie gespeicherte Prozeduren und parametrisierte Befehle verwenden, dynamisches SQL vermeiden und den Benutzern nur eingeschränkte Berechtigungen gewähren.</span><span class="sxs-lookup"><span data-stu-id="8838f-116">You can thwart SQL Server injection attacks by using stored procedures and parameterized commands, avoiding dynamic SQL, and restricting permissions on all users.</span></span>  
  
### <a name="elevation-of-privilege"></a><span data-ttu-id="8838f-117">Angriffe durch Rechteerweiterung</span><span class="sxs-lookup"><span data-stu-id="8838f-117">Elevation of Privilege</span></span>  
 <span data-ttu-id="8838f-118">Von einem Angriff durch Rechteerweiterung wird gesprochen, wenn sich ein Benutzer Zugang zu den Privilegien eines vertrauenswürdigen Kontos, z. B. als Besitzer oder Administrator, verschafft hat und diese für schädliche Aktionen nutzt.</span><span class="sxs-lookup"><span data-stu-id="8838f-118">Elevation of privilege attacks occur when a user is able to assume the privileges of a trusted account, such as an owner or administrator.</span></span> <span data-ttu-id="8838f-119">Arbeiten Sie immer nur mit Konten der untersten Berechtigungsebene, und weisen Sie nur die Berechtigungen zu, die wirklich benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="8838f-119">Always run under least-privileged user accounts and assign only needed permissions.</span></span> <span data-ttu-id="8838f-120">Vermeiden Sie es, zum Ausführen von Code administrative oder Besitzerkonten zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="8838f-120">Avoid using administrative or owner accounts for executing code.</span></span> <span data-ttu-id="8838f-121">Auf diese Weise dämmen Sie den potenziellen Schaden ein, den ein erfolgreicher Angriff verursachen kann.</span><span class="sxs-lookup"><span data-stu-id="8838f-121">This limits the amount of damage that can occur if an attack succeeds.</span></span> <span data-ttu-id="8838f-122">Verwenden Sie beim Ausführen von Aufgaben, die zusätzliche Berechtigungen erfordern, Prozedursignatur oder Identitätswechsel nur so lange, wie Sie sie für die Aufgabe benötigen.</span><span class="sxs-lookup"><span data-stu-id="8838f-122">When performing tasks that require additional permissions, use procedure signing or impersonation only for the duration of the task.</span></span> <span data-ttu-id="8838f-123">Sie können gespeicherte Prozeduren mit Zertifikaten signieren oder zur vorübergehenden Zuweisung von Berechtigungen Identitätswechsel verwenden.</span><span class="sxs-lookup"><span data-stu-id="8838f-123">You can sign stored procedures with certificates or use impersonation to temporarily assign permissions.</span></span>  
  
### <a name="probing-and-intelligent-observation"></a><span data-ttu-id="8838f-124">Angriffe durch Auswertung von Fehlermeldungen und intelligente Beobachtung</span><span class="sxs-lookup"><span data-stu-id="8838f-124">Probing and Intelligent Observation</span></span>  
 <span data-ttu-id="8838f-125">Angreifer können durch die Auswertung der von einer Anwendung generierten Fehlermeldungen Rückschlüsse auf eventuelle Sicherheitslücken ziehen.</span><span class="sxs-lookup"><span data-stu-id="8838f-125">A probing attack can use error messages generated by an application to search for security vulnerabilities.</span></span> <span data-ttu-id="8838f-126">Implementieren Sie daher in prozeduralem Code immer auch eine Fehlerbehandlungsroutine, damit der Endbenutzer keine SQL Server-Fehlerinformationen angezeigt bekommt.</span><span class="sxs-lookup"><span data-stu-id="8838f-126">Implement error handling in all procedural code to prevent SQL Server error information from being returned to the end user.</span></span>  
  
### <a name="authentication"></a><span data-ttu-id="8838f-127">Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="8838f-127">Authentication</span></span>  
 <span data-ttu-id="8838f-128">Angreifer können die Verwendung von SQL Server-Anmeldungen ausnutzen, bei denen zur Laufzeit eine auf einer Benutzereingabe basierende Verbindungszeichenfolge konstruiert wird.</span><span class="sxs-lookup"><span data-stu-id="8838f-128">A connection string injection attack can occur when using SQL Server logins if a connection string based on user input is constructed at run time.</span></span> <span data-ttu-id="8838f-129">Wenn die Verbindungszeichenfolge nicht auf gültige Schlüsselwortpaare überprüft wird, hat der Angreifer u. U. die Möglichkeit, zusätzliche Zeichen einzuschleusen, die es ihm erlauben, auf sicherheitsrelevante Daten oder andere Ressourcen auf dem Server zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="8838f-129">If the connection string is not checked for valid keyword pairs, an attacker can insert extra characters, potentially accessing sensitive data or other resources on the server.</span></span> <span data-ttu-id="8838f-130">Verwenden Sie daher nach Möglichkeit die Windows-Authentifizierung.</span><span class="sxs-lookup"><span data-stu-id="8838f-130">Use Windows authentication wherever possible.</span></span> <span data-ttu-id="8838f-131">Wenn Sie mit SQL Server-Anmeldungen arbeiten müssen, verwenden Sie zum Erstellen und Validieren der Verbindungszeichenfolgen zur Laufzeit den Verbindungszeichenfolgen-Generator (<xref:System.Data.SqlClient.SqlConnectionStringBuilder>).</span><span class="sxs-lookup"><span data-stu-id="8838f-131">If you must use SQL Server logins, use the <xref:System.Data.SqlClient.SqlConnectionStringBuilder> to create and validate connection strings at run time.</span></span>  
  
### <a name="passwords"></a><span data-ttu-id="8838f-132">Kennwortangriffe</span><span class="sxs-lookup"><span data-stu-id="8838f-132">Passwords</span></span>  
 <span data-ttu-id="8838f-133">Viele Angriffe sind erfolgreich, weil es dem Angreifer gelungen ist, das Kennwort eines Benutzers auszuspionieren oder zu erraten.</span><span class="sxs-lookup"><span data-stu-id="8838f-133">Many attacks succeed because an intruder was able to obtain or guess a password for a privileged user.</span></span> <span data-ttu-id="8838f-134">Kennwörter bilden die erste Verteidigungslinie gegen Angriffe, daher ist die Festlegung starker Kennwörter für die Sicherheit Ihres Systems von entscheidender Bedeutung.</span><span class="sxs-lookup"><span data-stu-id="8838f-134">Passwords are your first line of defense against intruders, so setting strong passwords is essential to the security of your system.</span></span> <span data-ttu-id="8838f-135">Sie können Kennwortrichtlinien für die Authentifizierung im gemischten Modus erstellen und durchsetzen.</span><span class="sxs-lookup"><span data-stu-id="8838f-135">Create and enforce password policies for mixed mode authentication.</span></span>  
  
 <span data-ttu-id="8838f-136">Weisen Sie dem `sa`-Konto immer, auch bei Verwendung der Windows-Authentifizierung, ein starkes Kennwort zu.</span><span class="sxs-lookup"><span data-stu-id="8838f-136">Always assign a strong password to the `sa` account, even when using Windows Authentication.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="8838f-137">In diesem Abschnitt</span><span class="sxs-lookup"><span data-stu-id="8838f-137">In This Section</span></span>  
 [<span data-ttu-id="8838f-138">Verwalten von Berechtigungen mit gespeicherten Prozeduren in SQL Server</span><span class="sxs-lookup"><span data-stu-id="8838f-138">Managing Permissions with Stored Procedures in SQL Server</span></span>](managing-permissions-with-stored-procedures-in-sql-server.md)  
 <span data-ttu-id="8838f-139">Beschreibt, wie gespeicherte Prozeduren zur Verwaltung von Berechtigungen und zum Steuern des Datenzugriffs verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="8838f-139">Describes how to use stored procedures to manage permissions and control data access.</span></span> <span data-ttu-id="8838f-140">Die Verwendung gespeicherter Prozeduren bietet einen effektiven Schutz vor einer ganzen Reihe von Sicherheitsbedrohungen.</span><span class="sxs-lookup"><span data-stu-id="8838f-140">Using stored procedures is an effective way to respond to many security threats.</span></span>  
  
 [<span data-ttu-id="8838f-141">Schreiben von sicherem dynamischen SQL in SQL Server</span><span class="sxs-lookup"><span data-stu-id="8838f-141">Writing Secure Dynamic SQL in SQL Server</span></span>](writing-secure-dynamic-sql-in-sql-server.md)  
 <span data-ttu-id="8838f-142">Beschreibt Verfahren zum Schreiben von sicherem dynamischen SQL-Code unter Verwendung gespeicherter Prozeduren.</span><span class="sxs-lookup"><span data-stu-id="8838f-142">Describes techniques for writing secure dynamic SQL using stored procedures.</span></span>  
  
 [<span data-ttu-id="8838f-143">Signieren von gespeicherten Prozeduren in SQL Server</span><span class="sxs-lookup"><span data-stu-id="8838f-143">Signing Stored Procedures in SQL Server</span></span>](signing-stored-procedures-in-sql-server.md)  
 <span data-ttu-id="8838f-144">Beschreibt die Vorgehensweise zum Signieren gespeicherter Prozeduren mit einem Zertifikat, sodass die Benutzer mit Daten arbeiten können, auf die sie keinen direkten Zugriff haben.</span><span class="sxs-lookup"><span data-stu-id="8838f-144">Describes how to sign a stored procedure with a certificate to enable users to work with data they do not have direct access to.</span></span> <span data-ttu-id="8838f-145">Auf diese Weise können gespeicherte Prozeduren Vorgänge ausführen, die der Aufrufer seinen Berechtigungen zufolge nicht direkt ausführen darf.</span><span class="sxs-lookup"><span data-stu-id="8838f-145">This enables stored procedures to perform operations that the caller does not have permissions to perform directly.</span></span>  
  
 [<span data-ttu-id="8838f-146">Anpassen von Berechtigungen durch Identitätswechsel in SQL Server</span><span class="sxs-lookup"><span data-stu-id="8838f-146">Customizing Permissions with Impersonation in SQL Server</span></span>](customizing-permissions-with-impersonation-in-sql-server.md)  
 <span data-ttu-id="8838f-147">Beschreibt, wie mithilfe der EXECUTE AS-Klausel die Identität eines anderen Benutzers angenommen werden kann.</span><span class="sxs-lookup"><span data-stu-id="8838f-147">Describes how to use the EXECUTE AS clause to impersonate another user.</span></span> <span data-ttu-id="8838f-148">Beim Identitätswechsel wechselt der Ausführungskontext vom Aufrufer zum angegebenen Benutzer.</span><span class="sxs-lookup"><span data-stu-id="8838f-148">Impersonation switches the execution context from the caller to the specified user.</span></span>  
  
 [<span data-ttu-id="8838f-149">Gewähren zeilenspezifischer Berechtigungen in SQL Server</span><span class="sxs-lookup"><span data-stu-id="8838f-149">Granting Row-Level Permissions in SQL Server</span></span>](granting-row-level-permissions-in-sql-server.md)  
 <span data-ttu-id="8838f-150">Beschreibt die Implementierung von zeilenspezifischen Berechtigungen zur Einschränkung des Datenzugriffs.</span><span class="sxs-lookup"><span data-stu-id="8838f-150">Describes how to implement row-level permissions to restrict data access.</span></span>  
  
 [<span data-ttu-id="8838f-151">Erstellen von Anwendungsrollen in SQL Server</span><span class="sxs-lookup"><span data-stu-id="8838f-151">Creating Application Roles in SQL Server</span></span>](creating-application-roles-in-sql-server.md)  
 <span data-ttu-id="8838f-152">Beschreibt die Funktionen und die Funktionalität von Anwendungsrollen.</span><span class="sxs-lookup"><span data-stu-id="8838f-152">Describes features and functionality of application roles.</span></span>  
  
 [<span data-ttu-id="8838f-153">Aktivieren des datenbankübergreifenden Zugriffs in SQL Server</span><span class="sxs-lookup"><span data-stu-id="8838f-153">Enabling Cross-Database Access in SQL Server</span></span>](enabling-cross-database-access-in-sql-server.md)  
 <span data-ttu-id="8838f-154">Beschreibt, wie der Zugriff auf mehrere Datenbanken bereitgestellt werden kann, ohne dabei die Sicherheit zu gefährden.</span><span class="sxs-lookup"><span data-stu-id="8838f-154">Describes how to enable cross-database access without jeopardizing security.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8838f-155">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="8838f-155">See also</span></span>

- [<span data-ttu-id="8838f-156">SQL Server Security (SQL Server-Sicherheit)</span><span class="sxs-lookup"><span data-stu-id="8838f-156">SQL Server Security</span></span>](sql-server-security.md)
- [<span data-ttu-id="8838f-157">Übersicht über die SQL Server-Sicherheit</span><span class="sxs-lookup"><span data-stu-id="8838f-157">Overview of SQL Server Security</span></span>](overview-of-sql-server-security.md)
- [<span data-ttu-id="8838f-158">Sichern von ADO.NET-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="8838f-158">Securing ADO.NET Applications</span></span>](../securing-ado-net-applications.md)
- [<span data-ttu-id="8838f-159">Übersicht über ADO.NET</span><span class="sxs-lookup"><span data-stu-id="8838f-159">ADO.NET Overview</span></span>](../ado-net-overview.md)
