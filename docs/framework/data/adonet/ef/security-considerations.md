---
title: Sicherheitsüberlegungen (Entity Framework)
ms.date: 03/30/2017
ms.assetid: 84758642-9b72-4447-86f9-f831fef46962
ms.openlocfilehash: fe272bada02e6628b6275d2a5282f0def23074c8
ms.sourcegitcommit: 155012a8a826ee8ab6aa49b1b3a3b532e7b7d9bd
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/04/2019
ms.locfileid: "66489839"
---
# <a name="security-considerations-entity-framework"></a><span data-ttu-id="1af4c-102">Sicherheitsüberlegungen (Entity Framework)</span><span class="sxs-lookup"><span data-stu-id="1af4c-102">Security Considerations (Entity Framework)</span></span>
<span data-ttu-id="1af4c-103">In diesem Thema werden spezielle Sicherheitsaspekte hinsichtlich der Entwicklung, der Bereitstellung und der Ausführung von [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)]-Anwendungen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="1af4c-103">This topic describes security considerations that are specific to developing, deploying, and running [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] applications.</span></span> <span data-ttu-id="1af4c-104">Sie sollten auch Empfehlungen für das Erstellen sicherer Anwendungen für .NET Framework ausführen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-104">You should also follow recommendations for creating secure .NET Framework applications.</span></span> <span data-ttu-id="1af4c-105">Weitere Informationen finden Sie unter [Sicherheitsübersicht](../../../../../docs/framework/data/adonet/security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1af4c-105">For more information, see [Security Overview](../../../../../docs/framework/data/adonet/security-overview.md).</span></span>  
  
## <a name="general-security-considerations"></a><span data-ttu-id="1af4c-106">Allgemeine Überlegungen zur Sicherheit</span><span class="sxs-lookup"><span data-stu-id="1af4c-106">General Security Considerations</span></span>  
 <span data-ttu-id="1af4c-107">Die folgenden Sicherheitsaspekte gelten für alle Anwendungen, die [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] verwenden.</span><span class="sxs-lookup"><span data-stu-id="1af4c-107">The following security considerations apply to all applications that use the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span></span>  
  
#### <a name="use-only-trusted-data-source-providers"></a><span data-ttu-id="1af4c-108">Verwenden Sie nur vertrauenswürdige Datenquellenanbieter.</span><span class="sxs-lookup"><span data-stu-id="1af4c-108">Use only trusted data source providers.</span></span>  
 <span data-ttu-id="1af4c-109">Um mit der Datenquelle zu kommunizieren, muss ein Anbieter wie folgt vorgehen:</span><span class="sxs-lookup"><span data-stu-id="1af4c-109">To communicate with the data source, a provider must do the following:</span></span>  
  
- <span data-ttu-id="1af4c-110">Empfangen der Verbindungszeichenfolge von [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)]</span><span class="sxs-lookup"><span data-stu-id="1af4c-110">Receive the connection string from the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span></span>  
  
- <span data-ttu-id="1af4c-111">Übersetzen der Befehlsstruktur in die native Abfragesprache der Datenquelle</span><span class="sxs-lookup"><span data-stu-id="1af4c-111">Translate the command tree to the data source's native query language.</span></span>  
  
- <span data-ttu-id="1af4c-112">Zusammenstellen und Zurückgeben von Resultsets</span><span class="sxs-lookup"><span data-stu-id="1af4c-112">Assemble and return result sets.</span></span>  
  
 <span data-ttu-id="1af4c-113">Während des Anmeldevorgangs werden Informationen auf der Grundlage des Benutzerkennworts über die Netzwerkbibliotheken der zugrunde liegenden Datenquelle an den Server übertragen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-113">During the logon operation, information that is based on the user password is passed to the server through the network libraries of the underlying data source.</span></span> <span data-ttu-id="1af4c-114">Ein böswilliger Anbieter kann Benutzeranmeldeinformationen stehlen, böswillige Abfragen generieren oder das Resultset manipulieren.</span><span class="sxs-lookup"><span data-stu-id="1af4c-114">A malicious provider can steal user credentials, generate malicious queries, or tamper with the result set.</span></span>  
  
#### <a name="encrypt-your-connection-to-protect-sensitive-data"></a><span data-ttu-id="1af4c-115">Verschlüsseln Sie die Verbindung, um vertrauliche Daten zu schützen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-115">Encrypt your connection to protect sensitive data.</span></span>  
 <span data-ttu-id="1af4c-116">[!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] behandelt die Datenverschlüsselung nicht direkt.</span><span class="sxs-lookup"><span data-stu-id="1af4c-116">The [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] does not directly handle data encryption.</span></span> <span data-ttu-id="1af4c-117">Wenn Benutzer über ein öffentliches Netzwerk auf Daten zugreifen, sollte die Anwendung eine verschlüsselte Verbindung mit der Datenquelle herstellen, um die Sicherheit zu erhöhen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-117">If users access data over a public network, your application should establish an encrypted connection to the data source to increase security.</span></span> <span data-ttu-id="1af4c-118">Weitere Informationen finden Sie in der die Sicherheit betreffenden Dokumentation für die Datenquelle.</span><span class="sxs-lookup"><span data-stu-id="1af4c-118">For more information, see the security-related documentation for your data source.</span></span> <span data-ttu-id="1af4c-119">Eine SQL Server-Datenquelle finden Sie unter [Verschlüsseln von Verbindungen zu SQL Server](https://go.microsoft.com/fwlink/?LinkId=119544).</span><span class="sxs-lookup"><span data-stu-id="1af4c-119">For a SQL Server data source, see [Encrypting Connections to SQL Server](https://go.microsoft.com/fwlink/?LinkId=119544).</span></span>  
  
#### <a name="secure-the-connection-string"></a><span data-ttu-id="1af4c-120">Sichern Sie die Verbindungszeichenfolge ab.</span><span class="sxs-lookup"><span data-stu-id="1af4c-120">Secure the connection string.</span></span>  
 <span data-ttu-id="1af4c-121">Eines der wichtigsten Ziele beim Sichern einer Anwendung besteht darin, den Zugriff auf die Datenquelle zu schützen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-121">Protecting access to your data source is one of the most important goals when securing an application.</span></span> <span data-ttu-id="1af4c-122">Eine Verbindungszeichenfolge stellt ein potenzielles Sicherheitsrisiko dar, wenn sie nicht gesichert wird oder nicht ordnungsgemäß aufgebaut ist.</span><span class="sxs-lookup"><span data-stu-id="1af4c-122">A connection string presents a potential vulnerability if it is not secured or if it is improperly constructed.</span></span> <span data-ttu-id="1af4c-123">Das Speichern von Verbindungsinformationen als Klartext oder das Aufbewahren dieser Informationen im Arbeitsspeicher gefährdet das gesamte System.</span><span class="sxs-lookup"><span data-stu-id="1af4c-123">When you store connection information in plain text or persist it in memory, you risk compromising your entire system.</span></span> <span data-ttu-id="1af4c-124">Folgende Methoden werden zum Sichern von Verbindungszeichenfolgen empfohlen:</span><span class="sxs-lookup"><span data-stu-id="1af4c-124">The following are the recommended methods for securing connection strings:</span></span>  
  
- <span data-ttu-id="1af4c-125">Verwenden Sie die Windows-Authentifizierung bei einer SQL Server-Datenquelle.</span><span class="sxs-lookup"><span data-stu-id="1af4c-125">Use Windows Authentication with a SQL Server data source.</span></span>  
  
     <span data-ttu-id="1af4c-126">Wenn Sie die Windows-Authentifizierung verwenden, um eine Verbindung mit einer SQL Server-Datenquelle herzustellen, enthält die Verbindungszeichenfolge keine Anmelde- und Kennwortinformationen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-126">When you use Windows Authentication to connect to a SQL Server data source, the connection string does not contain logon and password information.</span></span>  
  
- <span data-ttu-id="1af4c-127">Verschlüsseln Sie Konfigurationsdateiabschnitte mithilfe der geschützten Konfiguration.</span><span class="sxs-lookup"><span data-stu-id="1af4c-127">Encrypt configuration file sections using protected configuration.</span></span>  
  
     <span data-ttu-id="1af4c-128">ASP.NET bietet ein als geschützte Konfiguration bezeichnetes Feature, mit dem Sie sicherheitsrelevante Informationen in einer Konfigurationsdatei verschlüsseln können.</span><span class="sxs-lookup"><span data-stu-id="1af4c-128">ASP.NET provides a feature called protected configuration that enables you to encrypt sensitive information in a configuration file.</span></span> <span data-ttu-id="1af4c-129">Die geschützte Konfiguration wurde zwar primär für ASP.NET entwickelt, sie kann jedoch auch zum Verschlüsseln von Konfigurationsdateiabschnitten in Windows-Anwendungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1af4c-129">Although primarily designed for ASP.NET, you can also use protected configuration to encrypt sections of configuration files in Windows applications.</span></span> <span data-ttu-id="1af4c-130">Eine ausführliche Beschreibung der neuen Funktionen für die geschützte Konfiguration, finden Sie unter [Encrypting Configuration Information mithilfe von geschützten Configuration](https://docs.microsoft.com/previous-versions/aspnet/53tyfkaw(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="1af4c-130">For a detailed description of the new protected configuration capabilities, see [Encrypting Configuration Information Using Protected Configuration](https://docs.microsoft.com/previous-versions/aspnet/53tyfkaw(v=vs.100)).</span></span>  
  
- <span data-ttu-id="1af4c-131">Speichern Sie Verbindungszeichenfolgen in gesicherten Konfigurationsdateien.</span><span class="sxs-lookup"><span data-stu-id="1af4c-131">Store connection strings in secured configuration files.</span></span>  
  
     <span data-ttu-id="1af4c-132">Sie sollten Verbindungszeichenfolgen niemals in den Quellcode aufnehmen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-132">You should never embed connection strings in your source code.</span></span> <span data-ttu-id="1af4c-133">Sie können die Verbindungszeichenfolgen in Konfigurationsdateien speichern. Damit erübrigt sich die Notwendigkeit, sie in den Code der Anwendung einzubetten.</span><span class="sxs-lookup"><span data-stu-id="1af4c-133">You can store connection strings in configuration files, which eliminates the need to embed them in your application's code.</span></span> <span data-ttu-id="1af4c-134">Standardmäßig speichert der Assistent für Entity Data Model Verbindungszeichenfolgen in der Anwendungskonfigurationsdatei.</span><span class="sxs-lookup"><span data-stu-id="1af4c-134">By default, the Entity Data Model Wizard stores connection strings in the application configuration file.</span></span> <span data-ttu-id="1af4c-135">Sie müssen diese Datei sichern, um den nicht autorisierten Zugriff zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="1af4c-135">You must secure this file to prevent unauthorized access.</span></span>  
  
- <span data-ttu-id="1af4c-136">Verwenden Sie Verbindungszeichenfolgen-Generatoren, wenn Sie Verbindungen dynamisch erstellen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-136">Use connection string builders when dynamically creating connections.</span></span>  
  
     <span data-ttu-id="1af4c-137">Wenn Sie Verbindungszeichenfolgen zur Laufzeit erstellen müssen, verwenden Sie die <xref:System.Data.EntityClient.EntityConnectionStringBuilder>-Klasse.</span><span class="sxs-lookup"><span data-stu-id="1af4c-137">If you must construct connection strings at runtime, use the <xref:System.Data.EntityClient.EntityConnectionStringBuilder> class.</span></span> <span data-ttu-id="1af4c-138">Diese Zeichenfolgen-Generator-Klasse hilft durch Überprüfen und Versehen von ungültigen Eingabeinformationen mit Escapezeichen, Angriffe durch Einschleusen von Verbindungszeichenfolgen zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="1af4c-138">This string builder class helps prevent connection string injection attacks by validating and escaping invalid input information.</span></span> <span data-ttu-id="1af4c-139">Weitere Informationen finden Sie unter [Vorgehensweise: Erstellen einer EntityConnection-Verbindungszeichenfolge](../../../../../docs/framework/data/adonet/ef/how-to-build-an-entityconnection-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="1af4c-139">For more information, see [How to: Build an EntityConnection Connection String](../../../../../docs/framework/data/adonet/ef/how-to-build-an-entityconnection-connection-string.md).</span></span> <span data-ttu-id="1af4c-140">Auch die entsprechende Zeichenfolgengenerator-Klasse verwenden, um die Datenquellen-Verbindungszeichenfolge zu erstellen, die Teil ist die [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] Verbindungszeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="1af4c-140">Also use the appropriate string builder class to construct the data source connection string that is part of the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] connection string.</span></span> <span data-ttu-id="1af4c-141">Weitere Informationen zu Verbindungszeichenfolgen-Generatoren für ADO.NET-Anbieter finden Sie unter [Verbindungszeichenfolgen-Generatoren](../../../../../docs/framework/data/adonet/connection-string-builders.md).</span><span class="sxs-lookup"><span data-stu-id="1af4c-141">For information about connection string builders for ADO.NET providers, see [Connection String Builders](../../../../../docs/framework/data/adonet/connection-string-builders.md).</span></span>  
  
 <span data-ttu-id="1af4c-142">Weitere Informationen finden Sie unter [Protecting Connection Information (Schützen von Verbindungsinformationen)](../../../../../docs/framework/data/adonet/protecting-connection-information.md).</span><span class="sxs-lookup"><span data-stu-id="1af4c-142">For more information, see [Protecting Connection Information](../../../../../docs/framework/data/adonet/protecting-connection-information.md).</span></span>  
  
#### <a name="do-not-expose-an-entityconnection-to-untrusted-users"></a><span data-ttu-id="1af4c-143">Machen Sie keine EntityConnection für nicht vertrauenswürdige Benutzer verfügbar.</span><span class="sxs-lookup"><span data-stu-id="1af4c-143">Do not expose an EntityConnection to untrusted users.</span></span>  
 <span data-ttu-id="1af4c-144">Ein <xref:System.Data.EntityClient.EntityConnection>-Objekt macht die Verbindungszeichenfolge der zugrunde liegenden Verbindung verfügbar.</span><span class="sxs-lookup"><span data-stu-id="1af4c-144">An <xref:System.Data.EntityClient.EntityConnection> object exposes the connection string of the underlying connection.</span></span> <span data-ttu-id="1af4c-145">Ein Benutzer mit Zugriff auf ein <xref:System.Data.EntityClient.EntityConnection>-Objekt kann auch den <xref:System.Data.ConnectionState> der zugrunde liegenden Verbindung ändern.</span><span class="sxs-lookup"><span data-stu-id="1af4c-145">A user with access to an <xref:System.Data.EntityClient.EntityConnection> object can also change the <xref:System.Data.ConnectionState> of the underlying connection.</span></span> <span data-ttu-id="1af4c-146">Die <xref:System.Data.EntityClient.EntityConnection>-Klasse ist nicht threadsicher.</span><span class="sxs-lookup"><span data-stu-id="1af4c-146">The <xref:System.Data.EntityClient.EntityConnection> class is not thread safe.</span></span>  
  
#### <a name="do-not-pass-connections-outside-the-security-context"></a><span data-ttu-id="1af4c-147">Übergeben Sie Verbindungen nicht außerhalb des Sicherheitskontexts.</span><span class="sxs-lookup"><span data-stu-id="1af4c-147">Do not pass connections outside the security context.</span></span>  
 <span data-ttu-id="1af4c-148">Nachdem eine Verbindung hergestellt wurde, dürfen Sie diese nicht außerhalb des Sicherheitskontexts übergeben.</span><span class="sxs-lookup"><span data-stu-id="1af4c-148">After a connection has been established, you must not pass it outside the security context.</span></span> <span data-ttu-id="1af4c-149">Ein Thread, der über die Berechtigung zum Öffnen einer Verbindung verfügt, sollte die Verbindung nicht an einem globalen Speicherort speichern.</span><span class="sxs-lookup"><span data-stu-id="1af4c-149">For example, one thread with permission to open a connection should not store the connection in a global location.</span></span> <span data-ttu-id="1af4c-150">Wenn die Verbindung an einem globalen Speicherort zur Verfügung steht, kann ein bösartiger Thread die offene Verbindung verwenden, ohne dass diesem die Berechtigung dazu explizit gewährt wurde.</span><span class="sxs-lookup"><span data-stu-id="1af4c-150">If the connection is available in a global location, then another malicious thread can use the open connection without having that permission explicitly granted to it.</span></span>  
  
#### <a name="be-aware-that-logon-information-and-passwords-may-be-visible-in-a-memory-dump"></a><span data-ttu-id="1af4c-151">Beachten Sie, dass Anmeldeinformationen und Kennwörter möglicherweise in einem Speicherabbild sichtbar sind.</span><span class="sxs-lookup"><span data-stu-id="1af4c-151">Be aware that logon information and passwords may be visible in a memory dump.</span></span>  
 <span data-ttu-id="1af4c-152">Wenn Anmelde- und Kennwortinformationen für die Datenquelle in der Verbindungszeichenfolge übergeben werden, bleiben diese Informationen im Arbeitsspeicher erhalten, bis die Garbage Collection die Ressourcen wieder freigibt.</span><span class="sxs-lookup"><span data-stu-id="1af4c-152">When data source logon and password information is supplied in the connection string, this information is maintained in memory until garbage collection reclaims the resources.</span></span> <span data-ttu-id="1af4c-153">Dies macht es unmöglich, festzustellen, wann sich eine Kennwortzeichenfolge nicht mehr im Arbeitsspeicher befindet.</span><span class="sxs-lookup"><span data-stu-id="1af4c-153">This makes it impossible to determine when a password string is no longer in memory.</span></span> <span data-ttu-id="1af4c-154">Wenn eine Anwendung abstürzt, kann eine Speicherabbilddatei vertrauliche Informationen enthalten, die der Benutzer der Anwendung und jeder Benutzer mit Administratorzugriffsrechten für den Computer anzeigen kann.</span><span class="sxs-lookup"><span data-stu-id="1af4c-154">If an application crashes, a memory dump file may contain sensitive security information, and the user running the application and any user with administrative access to the computer can view the memory dump file.</span></span> <span data-ttu-id="1af4c-155">Verwenden Sie die Windows-Authentifizierung für Verbindungen mit Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1af4c-155">Use Windows Authentication for connections to Microsoft SQL Server.</span></span>  
  
#### <a name="grant-users-only-the-necessary-permissions-in-the-data-source"></a><span data-ttu-id="1af4c-156">Gewähren Sie Benutzern nur die notwendigen Berechtigungen für die Datenquelle.</span><span class="sxs-lookup"><span data-stu-id="1af4c-156">Grant users only the necessary permissions in the data source.</span></span>  
 <span data-ttu-id="1af4c-157">Ein Datenquellenadministrator sollte Benutzern nur die notwendigen Berechtigungen gewähren.</span><span class="sxs-lookup"><span data-stu-id="1af4c-157">A data source administrator should grant only the necessary permissions to users.</span></span> <span data-ttu-id="1af4c-158">Auch wenn [!INCLUDE[esql](../../../../../includes/esql-md.md)] DML-Anweisungen zum Ändern von Daten, wie beispielsweise INSERT, UPDATE oder DELETE, nicht unterstützt, können Benutzer dennoch auf die Verbindung zur Datenquelle zugreifen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-158">Even though [!INCLUDE[esql](../../../../../includes/esql-md.md)] does not support DML statements that modify data, such as INSERT, UPDATE, or DELETE, users can still access the connection to the data source.</span></span> <span data-ttu-id="1af4c-159">Ein böswilliger Benutzer könnte diese Verbindung verwenden, um DML-Anweisungen in der systemeigenen Sprache der Datenquelle auszuführen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-159">A malicious user could use this connection to execute DML statements in the native language of the data source.</span></span>  
  
#### <a name="run-applications-with-the-minimum-permissions"></a><span data-ttu-id="1af4c-160">Führen Sie Anwendungen mit den minimalen Berechtigungen aus.</span><span class="sxs-lookup"><span data-stu-id="1af4c-160">Run applications with the minimum permissions.</span></span>  
 <span data-ttu-id="1af4c-161">Wenn Sie eine verwaltete Anwendung, mit der Berechtigung mit vollständiger Vertrauenswürdigkeit ausgeführt werden können, wird .NET Framework nicht der Anwendung Zugriff auf Ihren Computer beschränkt.</span><span class="sxs-lookup"><span data-stu-id="1af4c-161">When you allow a managed application to run with full-trust permission, the .NET Framework does not limit the application's access to your computer.</span></span> <span data-ttu-id="1af4c-162">Dies kann zu einer Sicherheitslücke in der Anwendung führen, durch die das gesamte System gefährdet werden kann.</span><span class="sxs-lookup"><span data-stu-id="1af4c-162">This may enable a security vulnerability in your application to compromise the entire system.</span></span> <span data-ttu-id="1af4c-163">Um Codezugriffssicherheit und andere Sicherheitsmechanismen in .NET Framework zu verwenden, sollten Sie Anwendungen ausführen, mit der Berechtigungen für teilweise Vertrauenswürdigkeit und mit der Minimalsatz an Berechtigungen, die erforderlich sind, um die Anwendung ordnungsgemäß zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="1af4c-163">To use code access security and other security mechanisms in the .NET Framework, you should run applications by using partial-trust permissions and with the minimum set of permissions that are needed to enable the application to function.</span></span> <span data-ttu-id="1af4c-164">Die folgenden Codezugriffsberechtigungen sind die minimalen Berechtigungen, die eine [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)]-Anwendung benötigt:</span><span class="sxs-lookup"><span data-stu-id="1af4c-164">The following code access permissions are the minimum permissions your [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] application needs:</span></span>  
  
- <span data-ttu-id="1af4c-165"><xref:System.Security.Permissions.FileIOPermission>: <xref:System.Security.Permissions.FileIOPermissionAccess.Write>, um die angegebenen Metadatendateien zu öffnen, oder <xref:System.Security.Permissions.FileIOPermissionAccess.PathDiscovery>, um in einem Verzeichnis nach Metadatendateien zu suchen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-165"><xref:System.Security.Permissions.FileIOPermission>: <xref:System.Security.Permissions.FileIOPermissionAccess.Write> to open the specified metadata files or <xref:System.Security.Permissions.FileIOPermissionAccess.PathDiscovery> to search a directory for metadata files.</span></span>  
  
- <span data-ttu-id="1af4c-166"><xref:System.Security.Permissions.ReflectionPermission>: <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess>, um "LINQ to Entities"-Abfragen zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-166"><xref:System.Security.Permissions.ReflectionPermission>: <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess> to support LINQ to Entities queries.</span></span>  
  
- <span data-ttu-id="1af4c-167"><xref:System.Transactions.DistributedTransactionPermission>: <xref:System.Security.Permissions.PermissionState.Unrestricted>, um einen Eintrag in einer <xref:System.Transactions><xref:System.Transactions.Transaction> vorzunehmen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-167"><xref:System.Transactions.DistributedTransactionPermission>: <xref:System.Security.Permissions.PermissionState.Unrestricted> to enlist in a <xref:System.Transactions><xref:System.Transactions.Transaction>.</span></span>  
  
- <span data-ttu-id="1af4c-168"><xref:System.Security.Permissions.SecurityPermission>: <xref:System.Security.Permissions.SecurityPermissionFlag.SerializationFormatter>, um Ausnahmen mithilfe der <xref:System.Runtime.Serialization.ISerializable>-Schnittstelle zu serialisieren.</span><span class="sxs-lookup"><span data-stu-id="1af4c-168"><xref:System.Security.Permissions.SecurityPermission>: <xref:System.Security.Permissions.SecurityPermissionFlag.SerializationFormatter> to serialize exceptions by using the <xref:System.Runtime.Serialization.ISerializable> interface.</span></span>  
  
- <span data-ttu-id="1af4c-169">Berechtigung zum Öffnen einer datenbankverbindung und führen Sie Befehle für die Datenbank, z. B. <xref:System.Data.SqlClient.SqlClientPermission> für eine SQL Server-Datenbank.</span><span class="sxs-lookup"><span data-stu-id="1af4c-169">Permission to open a database connection and execute commands against the database, such as <xref:System.Data.SqlClient.SqlClientPermission> for a SQL Server database.</span></span>  
  
 <span data-ttu-id="1af4c-170">Weitere Informationen finden Sie unter [Code Access Security and ADO.NET](../../../../../docs/framework/data/adonet/code-access-security.md).</span><span class="sxs-lookup"><span data-stu-id="1af4c-170">For more information, see [Code Access Security and ADO.NET](../../../../../docs/framework/data/adonet/code-access-security.md).</span></span>  
  
#### <a name="do-not-install-untrusted-applications"></a><span data-ttu-id="1af4c-171">Installieren Sie keine nicht vertrauenswürdigen Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-171">Do not install untrusted applications.</span></span>  
 <span data-ttu-id="1af4c-172">[!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] erzwingt keinerlei Sicherheitsberechtigungen und ruft jeden vom Benutzer übergebenen Datenobjektcode während der Verarbeitung auf, unabhängig davon, ob dieser vertrauenswürdig ist oder nicht.</span><span class="sxs-lookup"><span data-stu-id="1af4c-172">The [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] does not enforce any security permissions and will invoke any user-supplied data object code in process regardless of whether it is trusted or not.</span></span> <span data-ttu-id="1af4c-173">Stellen Sie sicher, dass die Authentifizierung und die Autorisierung des Clients durch den Datenspeicher und Ihre Anwendung erfolgen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-173">Ensure that authentication and authorization of the client is performed by the data store and by your application.</span></span>  
  
#### <a name="restrict-access-to-all-configuration-files"></a><span data-ttu-id="1af4c-174">Schränken Sie den Zugriff auf alle Konfigurationsdateien ein.</span><span class="sxs-lookup"><span data-stu-id="1af4c-174">Restrict access to all configuration files.</span></span>  
 <span data-ttu-id="1af4c-175">Ein Administrator muss den Schreibzugriff auf alle Dateien, in denen Konfigurationsinformationen für eine Anwendung, einschließlich der Dateien "enterprisesec.config", "security.config", "Machine.conf" und der Anwendungskonfigurationsdatei beschränken \< *Anwendung* >. exe.config.</span><span class="sxs-lookup"><span data-stu-id="1af4c-175">An administrator must restrict write access to all files that specify configuration for an application, including to enterprisesec.config, security.config, machine.conf, and the application configuration file \<*application*>.exe.config.</span></span>  
  
 <span data-ttu-id="1af4c-176">Der invariante Name des Anbieters kann in app.config geändert werden. Die Clientanwendung ist für den Zugriff auf den zugrunde liegenden Anbieter über das Anbieterfactory-Standardmodell unter Verwendung eines starken Namens zuständig.</span><span class="sxs-lookup"><span data-stu-id="1af4c-176">The provider invariant name is modifiable in the app.config. The client application must take responsibility for accessing the underlying provider through the standard provider factory model by using a strong name.</span></span>  
  
#### <a name="restrict-permissions-to-the-model-and-mapping-files"></a><span data-ttu-id="1af4c-177">Schränken Sie die Zugriffsberechtigungen auf die Modell- und Zuordnungsdateien ein.</span><span class="sxs-lookup"><span data-stu-id="1af4c-177">Restrict permissions to the model and mapping files.</span></span>  
 <span data-ttu-id="1af4c-178">Ein Administrator muss den Schreibzugriff auf die Modell- und Zuordnungsdateien (EDMX-, CSDL-, SSDL- und MSL-Dateien) auf die Benutzer beschränken, die das Modell oder die Zuordnungen ändern.</span><span class="sxs-lookup"><span data-stu-id="1af4c-178">An administrator must restrict write access to the model and mapping files (.edmx, .csdl, .ssdl, and .msl) to only users who modify the model or mappings.</span></span> <span data-ttu-id="1af4c-179">Die [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] muss über Lesezugriff auf diese Dateien nur zur Laufzeit.</span><span class="sxs-lookup"><span data-stu-id="1af4c-179">The [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] only requires read access to these files at run time.</span></span> <span data-ttu-id="1af4c-180">Ein Administrator sollte außerdem den Zugriff auf Quellcodedateien der Objektebene und vorkompilierter Sichten, die durch die [!INCLUDE[adonet_edm](../../../../../includes/adonet-edm-md.md)]-Tools erzeugt werden, einschränken.</span><span class="sxs-lookup"><span data-stu-id="1af4c-180">An administrator should also restrict access to object layer and pre-compiled view source code files that are generated by the [!INCLUDE[adonet_edm](../../../../../includes/adonet-edm-md.md)] tools.</span></span>  
  
## <a name="security-considerations-for-queries"></a><span data-ttu-id="1af4c-181">Sicherheitsaspekte bei Abfragen</span><span class="sxs-lookup"><span data-stu-id="1af4c-181">Security Considerations for Queries</span></span>  
 <span data-ttu-id="1af4c-182">Folgende Sicherheitsaspekte sollten beim Abfragen eines konzeptionellen Modells beachtet werden.</span><span class="sxs-lookup"><span data-stu-id="1af4c-182">The following security considerations apply when querying a conceptual model.</span></span> <span data-ttu-id="1af4c-183">Diese Aspekte gelten für [!INCLUDE[esql](../../../../../includes/esql-md.md)]-Abfragen, die EntityClient verwenden, und für Objektabfragen mithilfe von LINQ, [!INCLUDE[esql](../../../../../includes/esql-md.md)] und Abfrage-Generator-Methoden.</span><span class="sxs-lookup"><span data-stu-id="1af4c-183">These considerations apply to [!INCLUDE[esql](../../../../../includes/esql-md.md)] queries using EntityClient and to object queries using LINQ, [!INCLUDE[esql](../../../../../includes/esql-md.md)], and query builder methods.</span></span>  
  
#### <a name="prevent-sql-injection-attacks"></a><span data-ttu-id="1af4c-184">Verhindern Sie Angriffe durch Einschleusung von SQL-Befehlen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-184">Prevent SQL injection attacks.</span></span>  
 <span data-ttu-id="1af4c-185">Anwendungen verwenden häufig externe Eingaben (eines Benutzers oder eines anderen externen Agenten) und führen entsprechend dieser Eingaben Aktionen aus.</span><span class="sxs-lookup"><span data-stu-id="1af4c-185">Applications frequently take external input (from a user or another external agent) and perform actions based on that input.</span></span> <span data-ttu-id="1af4c-186">Jede direkt oder indirekt vom Benutzer oder einem externen Agenten stammende Eingabe kann über Inhalt verfügen, der die Syntax der Zielsprache nutzt, um nicht autorisierte Aktionen auszuführen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-186">Any input that is directly or indirectly derived from the user or an external agent might have content that uses the syntax of the target language in order to perform unauthorized actions.</span></span> <span data-ttu-id="1af4c-187">Wenn der Zielsprache eine Sprache SQL (Structured Query), z. B. Transact-SQL ist wird diese Manipulation als eine SQL-Injection-Angriff bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="1af4c-187">When the target language is a Structured Query Language (SQL), such as Transact-SQL, this manipulation is known as a SQL injection attack.</span></span> <span data-ttu-id="1af4c-188">Ein böswilliger Benutzer kann Befehle direkt in Abfragen einschleusen und eine Datenbanktabelle löschen, einen Denial-of-Service-Angriff verursachen oder auf andere Art und Weise die auszuführende Operation ändern.</span><span class="sxs-lookup"><span data-stu-id="1af4c-188">A malicious user can inject commands directly into the query and drop a database table, cause a denial of service, or otherwise change the nature of the operation being performed.</span></span>  
  
- <span data-ttu-id="1af4c-189">Angriffe durch Einschleusen von [!INCLUDE[esql](../../../../../includes/esql-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="1af4c-189">[!INCLUDE[esql](../../../../../includes/esql-md.md)] injection attacks:</span></span>  
  
     <span data-ttu-id="1af4c-190">Angriffe durch Einschleusung von SQL-Befehlen können in [!INCLUDE[esql](../../../../../includes/esql-md.md)] ausgeführt werden, indem böswillige Eingaben für Werte vorgenommen werden, die in Abfrageprädikaten und Parameternamen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1af4c-190">SQL injection attacks can be performed in [!INCLUDE[esql](../../../../../includes/esql-md.md)] by supplying malicious input to values that are used in a query predicate and in parameter names.</span></span> <span data-ttu-id="1af4c-191">Um das Risiko von Angriffen durch Einschleusung von SQL-Befehlen zu vermeiden, sollten Sie niemals Benutzereingaben mit [!INCLUDE[esql](../../../../../includes/esql-md.md)]-Befehlstext kombinieren.</span><span class="sxs-lookup"><span data-stu-id="1af4c-191">To avoid the risk of SQL injection, you should never combine user input with [!INCLUDE[esql](../../../../../includes/esql-md.md)] command text.</span></span>  
  
     [!INCLUDE[esql](../../../../../includes/esql-md.md)]<span data-ttu-id="1af4c-192">-Abfragen akzeptieren Parameter an allen Stellen, an denen Literale akzeptiert werden.</span><span class="sxs-lookup"><span data-stu-id="1af4c-192">queries accept parameters everywhere that literals are accepted.</span></span> <span data-ttu-id="1af4c-193">Sie sollten parametrisierte Abfragen verwenden, anstatt Literale von einem externen Agenten direkt in die Abfrage einzufügen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-193">You should use parameterized queries instead of injecting literals from an external agent directly into the query.</span></span> <span data-ttu-id="1af4c-194">Sie sollten auch berücksichtigen, mit [Abfrage-Generator-Methoden](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896238(v=vs.100)) zur sicheren Erstellung von Entity SQL.</span><span class="sxs-lookup"><span data-stu-id="1af4c-194">You should also consider using [query builder methods](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896238(v=vs.100)) to safely construct Entity SQL.</span></span>  
  
- <span data-ttu-id="1af4c-195">Angriffe durch Einschleusen von [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="1af4c-195">[!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] injection attacks:</span></span>  
  
     <span data-ttu-id="1af4c-196">Obwohl das Zusammensetzen von Abfragen in [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] möglich ist, wird dieser Vorgang über die Objektmodell-API ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="1af4c-196">Although query composition is possible in [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)], it is performed through the object model API.</span></span> <span data-ttu-id="1af4c-197">Im Gegensatz zu [!INCLUDE[esql](../../../../../includes/esql-md.md)]-Abfragen werden [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)]-Abfragen nicht durch Zeichenfolgenbearbeitung oder -verkettung erstellt und sind nicht anfällig gegenüber herkömmlichen Angriffen durch Einschleusung von SQL-Befehlen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-197">Unlike [!INCLUDE[esql](../../../../../includes/esql-md.md)] queries, [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] queries are not composed by using string manipulation or concatenation, and they are not susceptible to traditional SQL injection attacks.</span></span>  
  
#### <a name="prevent-very-large-result-sets"></a><span data-ttu-id="1af4c-198">Verhindern Sie sehr umfangreiche Resultsets.</span><span class="sxs-lookup"><span data-stu-id="1af4c-198">Prevent very large result sets.</span></span>  
 <span data-ttu-id="1af4c-199">Ein sehr umfangreiches Resultset kann dazu führen, dass das Clientsystem heruntergefahren wird, wenn der Client Vorgänge ausführt, die Ressourcen proportional zum Umfang des Resultsets ausführt.</span><span class="sxs-lookup"><span data-stu-id="1af4c-199">A very large result set could cause the client system to shut down if the client is performing operations that consume resources proportional to the size of the result set.</span></span> <span data-ttu-id="1af4c-200">Unerwartet große Resultsets können unter den folgenden Bedingungen auftreten:</span><span class="sxs-lookup"><span data-stu-id="1af4c-200">Unexpectedly large result sets can occur under the following conditions:</span></span>  
  
- <span data-ttu-id="1af4c-201">In Abfragen an eine große Datenbank, die keine entsprechenden Filterbedingungen enthalten.</span><span class="sxs-lookup"><span data-stu-id="1af4c-201">In queries against a large database that do not include appropriate filter conditions.</span></span>  
  
- <span data-ttu-id="1af4c-202">In Abfragen, die kartesische Verknüpfungen auf dem Server erstellen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-202">In queries that create Cartesian joins on the server.</span></span>  
  
- <span data-ttu-id="1af4c-203">In geschachtelten [!INCLUDE[esql](../../../../../includes/esql-md.md)]-Abfragen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-203">In nested [!INCLUDE[esql](../../../../../includes/esql-md.md)] queries.</span></span>  
  
 <span data-ttu-id="1af4c-204">Wenn Sie Benutzereingaben akzeptieren, müssen Sie sicherstellen, dass die Eingaben keine Resultsets verursachen können, die umfangreicher sind als die Datenmengen, die das System verarbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="1af4c-204">When accepting user input, you must make sure that the input cannot cause result sets to become larger than what the system can handle.</span></span> <span data-ttu-id="1af4c-205">Können Sie auch die <xref:System.Linq.Queryable.Take%2A> -Methode in der [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] oder [Grenzwert](../../../../../docs/framework/data/adonet/ef/language-reference/limit-entity-sql.md) -Operator in [!INCLUDE[esql](../../../../../includes/esql-md.md)] auf die Größe des Resultsets zu begrenzen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-205">You can also use the <xref:System.Linq.Queryable.Take%2A> method in [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] or the [LIMIT](../../../../../docs/framework/data/adonet/ef/language-reference/limit-entity-sql.md) operator in [!INCLUDE[esql](../../../../../includes/esql-md.md)] to limit the size of the result set.</span></span>  
  
#### <a name="avoid-returning-iqueryable-results-when-exposing-methods-to-potentially-untrusted-callers"></a><span data-ttu-id="1af4c-206">Vermeiden Sie es, IQueryable-Ergebnisse zurückzugeben, wenn Sie Methoden für potenziell nicht vertrauenswürdige Aufrufer verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-206">Avoid Returning IQueryable Results When Exposing Methods to Potentially Untrusted Callers.</span></span>  
 <span data-ttu-id="1af4c-207">Vermeiden Sie es aus den folgenden Gründen, <xref:System.Linq.IQueryable%601>-Typen von Methoden zurückzugeben, die für potenziell nicht vertrauenswürdige Aufrufer verfügbar gemacht wurden:</span><span class="sxs-lookup"><span data-stu-id="1af4c-207">Avoid returning <xref:System.Linq.IQueryable%601> types from methods that are exposed to potentially untrusted callers for the following reasons:</span></span>  
  
- <span data-ttu-id="1af4c-208">Der Consumer einer Abfrage, die einen <xref:System.Linq.IQueryable%601>-Typ verfügbar macht, könnte mit dem Ergebnis Methoden aufrufen, die sichere Daten verfügbar machen oder die Größe des Resultsets erhöhen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-208">A consumer of a query that exposes an <xref:System.Linq.IQueryable%601> type could call methods on the result that expose secure data or increase the size of the result set.</span></span> <span data-ttu-id="1af4c-209">Betrachten Sie beispielsweise die folgende Methodensignatur:</span><span class="sxs-lookup"><span data-stu-id="1af4c-209">For example, consider the following method signature:</span></span>  
  
    ```  
    public IQueryable<Customer> GetCustomer(int customerId)  
    ```  
  
     <span data-ttu-id="1af4c-210">Ein Consumer dieser Abfrage könnte `.Include("Orders")` für den zurückgegebenen `IQueryable<Customer>` aufrufen, um Daten abrufen, die durch die Abfrage nicht verfügbar gemacht werden sollten.</span><span class="sxs-lookup"><span data-stu-id="1af4c-210">A consumer of this query could call `.Include("Orders")` on the returned `IQueryable<Customer>` to retrieve data that the query did not intend to expose.</span></span> <span data-ttu-id="1af4c-211">Dies kann vermieden werden, indem der Rückgabetyp der Methode in <xref:System.Collections.Generic.IEnumerable%601> geändert und eine Methode aufgerufen wird (beispielsweise `.ToList()`), die die Ergebnisse materialisiert.</span><span class="sxs-lookup"><span data-stu-id="1af4c-211">This can be avoided by changing the return type of the method to <xref:System.Collections.Generic.IEnumerable%601> and calling a method (such as `.ToList()`) that materializes the results.</span></span>  
  
- <span data-ttu-id="1af4c-212">Da <xref:System.Linq.IQueryable%601>-Abfragen ausgeführt werden, während die Ergebnisse durchlaufen werden, könnte der Consumer einer Abfrage, die einen <xref:System.Linq.IQueryable%601>-Typ verfügbar macht, eventuell ausgelöste Ausnahmen abfangen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-212">Because <xref:System.Linq.IQueryable%601> queries are executed when the results are iterated over, a consumer of a query that exposes an <xref:System.Linq.IQueryable%601> type could catch exceptions that are thrown.</span></span> <span data-ttu-id="1af4c-213">Ausnahmen könnten Informationen enthalten, die nicht für den Consumer bestimmt sind.</span><span class="sxs-lookup"><span data-stu-id="1af4c-213">Exceptions could contain information not intended for the consumer.</span></span>  
  
## <a name="security-considerations-for-entities"></a><span data-ttu-id="1af4c-214">Sicherheitsaspekte bei Entitäten</span><span class="sxs-lookup"><span data-stu-id="1af4c-214">Security Considerations for Entities</span></span>  
 <span data-ttu-id="1af4c-215">Die folgenden Sicherheitsaspekte gelten, wenn Sie Entitätstypen generieren und mit Entitätstypen arbeiten.</span><span class="sxs-lookup"><span data-stu-id="1af4c-215">The following security considerations apply when generating and working with entity types.</span></span>  
  
#### <a name="do-not-share-an-objectcontext-across-application-domains"></a><span data-ttu-id="1af4c-216">Geben Sie einen ObjectContext nicht über Anwendungsdomänen hinweg frei.</span><span class="sxs-lookup"><span data-stu-id="1af4c-216">Do not share an ObjectContext across application domains.</span></span>  
 <span data-ttu-id="1af4c-217">Einen <xref:System.Data.Objects.ObjectContext> für mehr als eine Anwendungsdomäne freizugeben macht möglicherweise Informationen in der Verbindungszeichenfolge verfügbar.</span><span class="sxs-lookup"><span data-stu-id="1af4c-217">Sharing an <xref:System.Data.Objects.ObjectContext> with more than one application domain may expose information in the connection string.</span></span> <span data-ttu-id="1af4c-218">Stattdessen sollten Sie serialisierte Objekte oder Objektdiagramme an die andere Anwendungsdomäne übertragen und dann diese Objekte einem <xref:System.Data.Objects.ObjectContext> in der Anwendungsdomäne anfügen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-218">Instead, you should transfer serialized objects or object graphs to the other application domain and then attach those objects to an <xref:System.Data.Objects.ObjectContext> in that application domain.</span></span> <span data-ttu-id="1af4c-219">Weitere Informationen finden Sie unter [Serialisieren von Objekten](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738446(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="1af4c-219">For more information, see [Serializing Objects](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738446(v=vs.100)).</span></span>  
  
#### <a name="prevent-type-safety-violations"></a><span data-ttu-id="1af4c-220">Verhindern Sie Verletzungen der Typsicherheit.</span><span class="sxs-lookup"><span data-stu-id="1af4c-220">Prevent type safety violations.</span></span>  
 <span data-ttu-id="1af4c-221">Wenn die Typsicherheit verletzt wird, kann [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] die Integrität der Daten in Objekten nicht garantieren.</span><span class="sxs-lookup"><span data-stu-id="1af4c-221">If type safety is violated, the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] cannot guarantee the integrity of data in objects.</span></span> <span data-ttu-id="1af4c-222">Verletzungen der Typsicherheit könnten auftreten, wenn Sie zulassen, dass nicht vertrauenswürdige Anwendungen mit voll vertrauenswürdiger Codezugriffssicherheit ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="1af4c-222">Type safety violations could occur if you allow untrusted applications to run with full-trust code access security.</span></span>  
  
#### <a name="handle-exceptions"></a><span data-ttu-id="1af4c-223">Behandeln von Ausnahmen</span><span class="sxs-lookup"><span data-stu-id="1af4c-223">Handle exceptions.</span></span>  
 <span data-ttu-id="1af4c-224">Greifen Sie auf die Methoden und Eigenschaften von <xref:System.Data.Objects.ObjectContext> innerhalb eines try-catch-Blocks zu.</span><span class="sxs-lookup"><span data-stu-id="1af4c-224">Access methods and properties of an <xref:System.Data.Objects.ObjectContext> within a try-catch block.</span></span> <span data-ttu-id="1af4c-225">Das Abfangen von Ausnahmen verhindert, dass nicht behandelte Ausnahmen Benutzern der Anwendung Einträge im <xref:System.Data.Objects.ObjectStateManager> oder Modellinformationen (beispielsweise Tabellennamen), verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-225">Catching exceptions prevents unhandled exceptions from exposing entries in the <xref:System.Data.Objects.ObjectStateManager> or model information (such as table names) to users of your application.</span></span>  
  
## <a name="security-considerations-for-aspnet-applications"></a><span data-ttu-id="1af4c-226">Sicherheitsaspekte für ASP.NET-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="1af4c-226">Security Considerations for ASP.NET Applications</span></span>  

<span data-ttu-id="1af4c-227">Sie sollten die folgende, beim Arbeiten mit Pfaden in ASP.NET-Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-227">You should consider the following when you work with paths in ASP.NET applications.</span></span>  
  
#### <a name="verify-whether-your-host-performs-path-checks"></a><span data-ttu-id="1af4c-228">Überprüfen Sie, ob der Host Pfadprüfungen ausführt.</span><span class="sxs-lookup"><span data-stu-id="1af4c-228">Verify whether your host performs path checks.</span></span>  
 <span data-ttu-id="1af4c-229">Wenn die `|DataDirectory|` (zwischen pipesymbolen) verwendet wird, die ADO.NET stellt sicher, dass der aufgelöste Pfad unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="1af4c-229">When the `|DataDirectory|` (enclosed in pipe symbols) substitution string is used, ADO.NET verifies that the resolved path is supported.</span></span> <span data-ttu-id="1af4c-230">Beispielsweise ist ".." hinter `DataDirectory` nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="1af4c-230">For example, ".." is not allowed behind `DataDirectory`.</span></span> <span data-ttu-id="1af4c-231">Dieselbe Überprüfung für das Auflösen von der Web Application-Stamm-Operators (`~`) erfolgt durch den Prozess, der ASP.NET hostet.</span><span class="sxs-lookup"><span data-stu-id="1af4c-231">That same check for resolving the Web application root operator (`~`) is performed by the process hosting ASP.NET.</span></span> <span data-ttu-id="1af4c-232">IIS führt diese Überprüfung aus. Andere Hosts als IIS können möglicherweise nicht überprüfen, ob der aufgelöste Pfad unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="1af4c-232">IIS performs this check; however, hosts other than IIS may not verify that the resolved path is supported.</span></span> <span data-ttu-id="1af4c-233">Sie sollten das Verhalten des Hosts kennen, auf dem Sie eine [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)]-Anwendung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-233">You should know the behavior of the host on which you deploy an [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] application.</span></span>  
  
#### <a name="do-not-make-assumptions-about-resolved-path-names"></a><span data-ttu-id="1af4c-234">Gehen Sie nicht von Annahmen über aufgelöste Pfadnamen aus.</span><span class="sxs-lookup"><span data-stu-id="1af4c-234">Do not make assumptions about resolved path names.</span></span>  
 <span data-ttu-id="1af4c-235">Obwohl die Werte, in die der Stamm-Operator (`~`) und die `DataDirectory`-Ersatzzeichenfolge aufgelöst werden, während der Laufzeit der Anwendung konstant bleiben sollten, wird der Host durch [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] nicht daran gehindert, diese Werte zu ändern.</span><span class="sxs-lookup"><span data-stu-id="1af4c-235">Although the values to which the root operator (`~`) and the `DataDirectory` substitution string resolve should remain constant during the application's runtime, the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] does not restrict the host from modifying these values.</span></span>  
  
#### <a name="verify-the-path-length-before-deployment"></a><span data-ttu-id="1af4c-236">Überprüfen Sie die Pfadlänge vor der Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="1af4c-236">Verify the path length before deployment.</span></span>  
 <span data-ttu-id="1af4c-237">Stellen Sie vor der Bereitstellung einer [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)]-Anwendung sicher, dass die Werte des Stammoperators (~) und der `DataDirectory`-Ersatzzeichenfolge nicht die Pfadlängengrenze des Betriebssystems überschreiten.</span><span class="sxs-lookup"><span data-stu-id="1af4c-237">Before deploying an [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] application, you should ensure that the values of the root operator (~) and `DataDirectory` substitution string do not exceed the limits of the path length in the operating system.</span></span> <span data-ttu-id="1af4c-238">ADO.NET-Datenanbieter gewährleisten nicht, dass die Länge des Pfads zulässigen Begrenzungen entspricht.</span><span class="sxs-lookup"><span data-stu-id="1af4c-238">ADO.NET data providers do not ensure that the path length is within valid limits.</span></span>  
  
## <a name="security-considerations-for-adonet-metadata"></a><span data-ttu-id="1af4c-239">Sicherheitsaspekte für ADO.NET-Metadaten</span><span class="sxs-lookup"><span data-stu-id="1af4c-239">Security Considerations for ADO.NET Metadata</span></span>  
 <span data-ttu-id="1af4c-240">Wenn Sie Modell- und Zuordnungsdateien erzeugen und mit ihnen arbeiten, berücksichtigen Sie Folgendes hinsichtlich der Sicherheit:</span><span class="sxs-lookup"><span data-stu-id="1af4c-240">The following security considerations apply when generating and working with model and mapping files.</span></span>  
  
#### <a name="do-not-expose-sensitive-information-through-logging"></a><span data-ttu-id="1af4c-241">Machen Sie vertrauliche Informationen nicht durch Protokollierung verfügbar.</span><span class="sxs-lookup"><span data-stu-id="1af4c-241">Do not expose sensitive information through logging.</span></span>  
<span data-ttu-id="1af4c-242">ADO.NET Metadaten-Dienstkomponenten protokollieren keine private Informationen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-242">ADO.NET metadata service components do not log any private information.</span></span> <span data-ttu-id="1af4c-243">Wenn Ergebnisse aufgrund von Zugriffsbeschränkungen nicht zurückgegeben werden können, sollten Datenbankmanagementsysteme und Dateisysteme Ergebnisse mit dem Wert Null zurückgeben, statt eine Ausnahme auszulösen, die vertrauliche Informationen enthalten könnte.</span><span class="sxs-lookup"><span data-stu-id="1af4c-243">If there are results that cannot be returned because of access restrictions, database management systems and file systems should return zero results instead of raising an exception that could contain sensitive information.</span></span>  
  
#### <a name="do-not-accept-metadataworkspace-objects-from-untrusted-sources"></a><span data-ttu-id="1af4c-244">Akzeptieren Sie keine "MetadataWorkspace"-Objekte von nicht vertrauenswürdigen Quellen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-244">Do not accept MetadataWorkspace objects from untrusted sources.</span></span>  
 <span data-ttu-id="1af4c-245">Anwendungen sollten keine Instanzen der <xref:System.Data.Metadata.Edm.MetadataWorkspace>-Klasse von nicht vertrauenswürdigen Quellen akzeptieren.</span><span class="sxs-lookup"><span data-stu-id="1af4c-245">Applications should not accept instances of the <xref:System.Data.Metadata.Edm.MetadataWorkspace> class from untrusted sources.</span></span> <span data-ttu-id="1af4c-246">Stattdessen sollten Sie einen Arbeitsbereich explizit erstellen und aus so einer Quelle füllen.</span><span class="sxs-lookup"><span data-stu-id="1af4c-246">Instead, you should explicitly construct and populate a workspace from such a source.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1af4c-247">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="1af4c-247">See also</span></span>

- [<span data-ttu-id="1af4c-248">Sichern von ADO.NET-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="1af4c-248">Securing ADO.NET Applications</span></span>](../../../../../docs/framework/data/adonet/securing-ado-net-applications.md)
- [<span data-ttu-id="1af4c-249">Überlegungen zur Bereitstellung</span><span class="sxs-lookup"><span data-stu-id="1af4c-249">Deployment Considerations</span></span>](../../../../../docs/framework/data/adonet/ef/deployment-considerations.md)
- [<span data-ttu-id="1af4c-250">Migrationsüberlegungen</span><span class="sxs-lookup"><span data-stu-id="1af4c-250">Migration Considerations</span></span>](../../../../../docs/framework/data/adonet/ef/migration-considerations.md)
