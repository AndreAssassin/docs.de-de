---
title: Optimierung mit Einphasencommit und Heraufstufbarer Einphasenbenachrichtigung
ms.date: 03/30/2017
ms.assetid: 57beaf1a-fb4d-441a-ab1d-bc0c14ce7899
ms.openlocfilehash: 73340f5f65de1d743e046cf669258ab5f6c66298
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/23/2019
ms.locfileid: "61793626"
---
# <a name="optimization-using-single-phase-commit-and-promotable-single-phase-notification"></a><span data-ttu-id="a3c11-102">Optimierung mit Einphasencommit und Heraufstufbarer Einphasenbenachrichtigung</span><span class="sxs-lookup"><span data-stu-id="a3c11-102">Optimization using Single Phase Commit and Promotable Single Phase Notification</span></span>

<span data-ttu-id="a3c11-103">In diesem Thema wird der Mechanismus beschrieben, der von der <xref:System.Transactions>-Infrastruktur zur Leistungsoptimierung bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="a3c11-103">This topic describes the mechanisms provided by the <xref:System.Transactions> infrastructure to optimize performance.</span></span>

## <a name="promotable-single-phase-enlistment"></a><span data-ttu-id="a3c11-104">Heraufstufbare Einphaseneintragung (PSPE)</span><span class="sxs-lookup"><span data-stu-id="a3c11-104">Promotable Single Phase Enlistment</span></span>

<span data-ttu-id="a3c11-105">Die <xref:System.Transactions>-Infrastruktur verwaltet eine Transaktion innerhalb einer einzelnen Anwendungsdomäne, die höchstens eine dauerhafte Ressource oder mehrere flüchtige Ressourcen umfasst.</span><span class="sxs-lookup"><span data-stu-id="a3c11-105">The <xref:System.Transactions> infrastructure administrates a transaction inside a single application domain that involves at most a single durable resource or multiple volatile resources.</span></span> <span data-ttu-id="a3c11-106">Da die <xref:System.Transactions>-Infrastruktur nur Domänenaufrufe innerhalb von Anwendungen verwendet, bietet sie den besten Durchsatz und die beste Leistung.</span><span class="sxs-lookup"><span data-stu-id="a3c11-106">Since the <xref:System.Transactions> infrastructure uses only intra-application domain calls, it yields the best throughput and performance.</span></span>

<span data-ttu-id="a3c11-107">Wenn die Transaktion jedoch einem anderen Objekt in einer anderen Anwendungsdomäne (darunter fallen auch diejenigen, die prozess- und geräteübergreifend sind) auf demselben Computer bereitgestellt wird oder Sie einen anderen Manager für dauerhafte Ressourcen eintragen, eskaliert die <xref:System.Transactions>-Infrastruktur automatisch die Transaktion, die von MS DTC verwaltet werden soll.</span><span class="sxs-lookup"><span data-stu-id="a3c11-107">However, if the transaction is provided to another object in another application domain (including across process and machine boundaries) on the same computer, or if you were to enlist another durable resource manager, the <xref:System.Transactions> infrastructure automatically escalates the transaction to be managed by the MSDTC.</span></span> <span data-ttu-id="a3c11-108">Eine vom MSDTC verwaltete Transaktion ist nicht so leistungsfähig wie eine von der <xref:System.Transactions>-Infrastruktur verwaltete.</span><span class="sxs-lookup"><span data-stu-id="a3c11-108">A transaction managed by MSDTC is not as performance-wise as one managed by the <xref:System.Transactions> infrastructure.</span></span>

<span data-ttu-id="a3c11-109">Um die Leistung zu optimieren, stellt die <xref:System.Transactions>-Infrastruktur die Erweiterbare Einphaseneintragung (Promotable Single Phase Enlistment, PSPE) bereit, die es einer einzelnen dauerhaften Remote-Ressource in einer anderen Anwendungsdomäne, einem anderen Prozess oder auf einem anderen Gerät ermöglicht, an einer <xref:System.Transactions>-Transaktion teilzunehmen, ohne dass sie dadurch zu einer MSDTC-Transaktion eskaliert wird.</span><span class="sxs-lookup"><span data-stu-id="a3c11-109">To optimize performance, the <xref:System.Transactions> infrastructure provides the Promotable Single Phase Enlistment (PSPE) that allows a single remote durable resource, located in a different application domain, process or machine, to participate in a <xref:System.Transactions> transaction without causing it to be escalated to an MSDTC transaction.</span></span> <span data-ttu-id="a3c11-110">Dieser Ressourcen-Manager (RM) kann eine Transaktion hosten und "besitzen", die später bei Bedarf zu einer verteilten Transaktion (oder einer MSDTC-Transaktion) eskaliert werden kann.</span><span class="sxs-lookup"><span data-stu-id="a3c11-110">This resource manager (RM) can host and "own" a transaction that can later be escalated to a distributed transaction (or MSDTC transaction) if necessary.</span></span> <span data-ttu-id="a3c11-111">Dies reduziert die Wahrscheinlichkeit, dass der MSDTC verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="a3c11-111">This reduces the chance of using the MSDTC.</span></span>

<span data-ttu-id="a3c11-112">Dieser spezielle Ressourcen-Manager verfügt gewöhnlich über eigene interne, nicht verteilte Transaktionen und muss die Konvertierung dieser Transaktionen in verteilte Transaktionen zur Laufzeit unterstützen.</span><span class="sxs-lookup"><span data-stu-id="a3c11-112">This specific resource manager usually has its own internal non distributed transactions and it needs to support converting those transactions to distributed transactions at runtime.</span></span> <span data-ttu-id="a3c11-113">SQL Server 2005 ist beispielsweise so ein Ressourcen-Manager.</span><span class="sxs-lookup"><span data-stu-id="a3c11-113">For example, SQL Server 2005 is such a resource manager.</span></span> <span data-ttu-id="a3c11-114">In diesem Fall übernimmt die <xref:System.Transactions>-Infrastruktur eine passive Verwaltungsrolle, indem sie lediglich überwacht, ob die Transaktion eskaliert werden muss.</span><span class="sxs-lookup"><span data-stu-id="a3c11-114">In such case, the <xref:System.Transactions> infrastructure takes a passive management role by just monitoring the transaction for a need for escalation.</span></span> <span data-ttu-id="a3c11-115">Damit die Interaktion zwischen der <xref:System.Transactions>-Infrastruktur und dem Ressourcen-Manager unterstützt wird, muss der Ressourcen-Manager die Schnittstelle <xref:System.Transactions.IPromotableSinglePhaseNotification> implementieren.</span><span class="sxs-lookup"><span data-stu-id="a3c11-115">To support the interaction between the <xref:System.Transactions> infrastructure and resource manager, the latter needs to implement the interface <xref:System.Transactions.IPromotableSinglePhaseNotification>.</span></span>

<span data-ttu-id="a3c11-116">Die <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A>-Methode wird verwendet, um eine einzelne dauerhafte Ressource einzutragen, die später eskaliert werden kann.</span><span class="sxs-lookup"><span data-stu-id="a3c11-116">The <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> method is used to enlist a single durable resource that can be escalated later.</span></span> <span data-ttu-id="a3c11-117">Diese Methode stellt sicher, dass die Eintragung nach Bedarf eskaliert werden kann.</span><span class="sxs-lookup"><span data-stu-id="a3c11-117">This method ensures that the enlistment can be escalated as needed.</span></span> <span data-ttu-id="a3c11-118">Wenn die Eintragung erfolgreich ist, erstellt der RM seine interne Transaktion und ordnet sie der <xref:System.Transactions>-Transaktion zu.</span><span class="sxs-lookup"><span data-stu-id="a3c11-118">If the enlistment succeeds, the RM creates its internal transaction and associates it with the <xref:System.Transactions> transaction.</span></span> <span data-ttu-id="a3c11-119">Wenn die PSPE-Eintragung fehlschlägt, sollte der RM die Eintragung stattdessen mit der <xref:System.Transactions.Transaction.EnlistDurable%2A>-Methode vornehmen.</span><span class="sxs-lookup"><span data-stu-id="a3c11-119">If the PSPE enlistment fails, the RM should instead enlist using the <xref:System.Transactions.Transaction.EnlistDurable%2A> method.</span></span> <span data-ttu-id="a3c11-120">Zum Fehlschlagen der Eintragung in PSPE kann es kommen, wenn die Transaktion bereits verteilt ist oder ein anderer RM bereits eine PSPE-Eintragung vorgenommen hat.</span><span class="sxs-lookup"><span data-stu-id="a3c11-120">Failures to enlist in PSPE might happen when the transaction is already a distributed transaction, or when another RM has already performed a PSPE enlistment</span></span>

<span data-ttu-id="a3c11-121">Sobald die Eintragung erfolgt ist, werden Clientaufrufe zum Commit oder Abbruch der <xref:System.Transactions>-Transaktion in Aufrufe an den Ressourcen-Manager konvertiert, indem die <xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A>-Methode bzw. die <xref:System.Transactions.IPromotableSinglePhaseNotification.Rollback%2A>-Methode aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="a3c11-121">Once enlisted, calls by clients to commit or abort the <xref:System.Transactions> transaction are converted to calls on the Resource Manager by invoking the <xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A> method, or the <xref:System.Transactions.IPromotableSinglePhaseNotification.Rollback%2A> respectively.</span></span>

<span data-ttu-id="a3c11-122">Wenn die <xref:System.Transactions>-Transaktion zu keinem Zeitpunkt eine Eskalation erfordert, erhält der RM eine <xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A>-Benachrichtigung, sobald ein Commit für die Transaktion ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="a3c11-122">If the <xref:System.Transactions> transaction never requires escalation, when the transaction is committed, the RM receives a <xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A> notification.</span></span> <span data-ttu-id="a3c11-123">Er kann dann einen Commit für die interne Transaktion ausführen, die anfänglich erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="a3c11-123">It can then commit the internal transaction that was initially created.</span></span>

<span data-ttu-id="a3c11-124">Wenn die <xref:System.Transactions>-Transaktion eskaliert werden muss (beispielsweise, um mehrere RMs zu unterstützen), informiert <xref:System.Transactions> den Ressourcen-Manager durch Aufrufen der <xref:System.Transactions.ITransactionPromoter.Promote%2A>-Methode für die <xref:System.Transactions.ITransactionPromoter>-Schnittstelle, von der die <xref:System.Transactions.IPromotableSinglePhaseNotification>-Schnittstelle abgeleitet wurde.</span><span class="sxs-lookup"><span data-stu-id="a3c11-124">If the <xref:System.Transactions> transaction needs to be escalated (e.g., to support multiple RMs), <xref:System.Transactions> informs the resource manager by calling the <xref:System.Transactions.ITransactionPromoter.Promote%2A> method on the <xref:System.Transactions.ITransactionPromoter> interface, from which the <xref:System.Transactions.IPromotableSinglePhaseNotification> interface derives.</span></span> <span data-ttu-id="a3c11-125">Der Ressourcen-Manager konvertiert die Transaktion dann intern von einer lokalen Transaktion (die keine Protokollierung erfordert) in ein Transaktionsobjekt, das an einer DTC-Transaktion teilnehmen kann, und ordnet es den bereits erledigten Aufgaben zu.</span><span class="sxs-lookup"><span data-stu-id="a3c11-125">The resource manager then converts the transaction internally from a local transaction (which does not require logging) to a transaction object that is capable of participating in a DTC transaction, and associates it with the work already done.</span></span> <span data-ttu-id="a3c11-126">Wenn der Commit der Transaktion angefordert wird, sendet der Transaktions-Manager auch in diesem Fall die <xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A>-Benachrichtigung an den Ressourcen-Manager, der einen Commit für die verteilte Transaktion ausführt, die er während der Eskalation erstellt hat.</span><span class="sxs-lookup"><span data-stu-id="a3c11-126">When the transaction is asked to commit, the transaction manager still sends the <xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A> notification to the resource manager, which commits the distributed transaction that it created during escalation.</span></span>

> [!NOTE]
> <span data-ttu-id="a3c11-127">Die **TransactionCommitted** -ablaufverfolgungen (die generiert werden, wenn ein Commit für die eskalierte Transaktion aufgerufen wird) enthalten die Aktivitäts-ID der DTC-Transaktion.</span><span class="sxs-lookup"><span data-stu-id="a3c11-127">The **TransactionCommitted** traces (that are generated when a Commit is invoked on the escalated transaction) contain the activity ID of the DTC transaction.</span></span>

<span data-ttu-id="a3c11-128">Weitere Informationen über die verwaltungseskalation finden Sie unter [Eskalation der Transaktionsverwaltung](../../../../docs/framework/data/transactions/transaction-management-escalation.md).</span><span class="sxs-lookup"><span data-stu-id="a3c11-128">For more information on management escalation, see [Transaction Management Escalation](../../../../docs/framework/data/transactions/transaction-management-escalation.md).</span></span>

## <a name="transaction-management-escalation-scenario"></a><span data-ttu-id="a3c11-129">Eskalationsszenario der Transaktionsverwaltung</span><span class="sxs-lookup"><span data-stu-id="a3c11-129">Transaction Management Escalation Scenario</span></span>

<span data-ttu-id="a3c11-130">Das folgende Szenario veranschaulicht die Eskalation zu einer verteilten Transaktion unter Verwendung des <xref:System.Data>-Namespace als 'Proxy' für den Ressourcen-Manager.</span><span class="sxs-lookup"><span data-stu-id="a3c11-130">The following scenario demonstrates an escalation to a distributed transaction using the <xref:System.Data> namespace as the ‘proxy’ for the resource manager.</span></span> <span data-ttu-id="a3c11-131">Bei diesem Szenario wird vorausgesetzt, dass bereits eine <xref:System.Data>-Verbindung (CN1) zur Datenbank besteht, die von der Transaktion betroffen ist, und dass die Anwendung eine weitere <xref:System.Data>-Verbindung (CN2) einbeziehen will.</span><span class="sxs-lookup"><span data-stu-id="a3c11-131">This scenario assumes that there is already one <xref:System.Data> connection to the database, CN1, involved in the transaction, and the application wants to involve another <xref:System.Data> connection, CN2.</span></span> <span data-ttu-id="a3c11-132">Die Transaktion muss als vollständig verteilte Zweiphasencommit-Transaktion zum DTC eskaliert werden.</span><span class="sxs-lookup"><span data-stu-id="a3c11-132">The transaction must be escalated to DTC, as a full distributed two-phase commit transaction.</span></span>

<span data-ttu-id="a3c11-133">In diesem Szenario</span><span class="sxs-lookup"><span data-stu-id="a3c11-133">In this scenario,</span></span>

1. <span data-ttu-id="a3c11-134">ruft CN1 die <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A>-Methode auf, um sich in die Transaktion einzutragen.</span><span class="sxs-lookup"><span data-stu-id="a3c11-134">CN1 calls the <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> method to enlist in the transaction.</span></span> <span data-ttu-id="a3c11-135">Dann ist die Transaktion weiterhin lokal, und es gibt keine anderen heraufstufbaren Eintragungen für die Transaktion, weshalb der <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A>-Aufruf erfolgreich ist.</span><span class="sxs-lookup"><span data-stu-id="a3c11-135">Then, the transaction is still local and there are no other promotable enlistments on the transaction, so the <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> call succeeds.</span></span>

2. <span data-ttu-id="a3c11-136">Wenn die zweite Verbindung, CN2, <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> aufruft, schlägt der Aufruf fehl, da eine andere erweiterbare Eintragung betroffen ist.</span><span class="sxs-lookup"><span data-stu-id="a3c11-136">When the second connection, CN2 calls <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A>, the call fails because there is another promotable enlistment involved.</span></span> <span data-ttu-id="a3c11-137">Deswegen muss CN2 eine DTC-Transaktion abrufen, um sie an SQL zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="a3c11-137">Because of this, CN2 must get a DTC transaction in order to pass it to SQL.</span></span> <span data-ttu-id="a3c11-138">Zu diesem Zweck verwendet die Verbindung eine der Methoden, die von der <xref:System.Transactions.TransactionInterop>-Klasse bereitgestellt werden, um ein Transaktionsformat zu erzeugen, das an SQL übergeben werden kann.</span><span class="sxs-lookup"><span data-stu-id="a3c11-138">To do this, it uses one of the methods provided by the <xref:System.Transactions.TransactionInterop> class to produce a format of the transaction that can be given to SQL.</span></span>

3. <span data-ttu-id="a3c11-139"><xref:System.Transactions> ruft die <xref:System.Transactions.ITransactionPromoter.Promote%2A>-Methode für die <xref:System.Transactions.ITransactionPromoter>-Schnittstelle auf, die von CN1 implementiert wurde.</span><span class="sxs-lookup"><span data-stu-id="a3c11-139"><xref:System.Transactions> calls the <xref:System.Transactions.ITransactionPromoter.Promote%2A> method on the <xref:System.Transactions.ITransactionPromoter> interface implemented by CN1.</span></span>

4. <span data-ttu-id="a3c11-140">Dann eskaliert CN1 die Transaktion anhand eines Mechanismus, der spezifisch für SQL 2005 und <xref:System.Data> ist.</span><span class="sxs-lookup"><span data-stu-id="a3c11-140">At this point, CN1 escalates the transaction, using some mechanism specific to SQL 2005 and <xref:System.Data>.</span></span>

5. <span data-ttu-id="a3c11-141">Der Rückgabewert der <xref:System.Transactions.ITransactionPromoter.Promote%2A>-Methode ist ein Bytearray, das ein Weitergabetoken für die Transaktion enthält.</span><span class="sxs-lookup"><span data-stu-id="a3c11-141">The return value from the <xref:System.Transactions.ITransactionPromoter.Promote%2A> method is a byte array that contains a propagation token for the transaction.</span></span> <span data-ttu-id="a3c11-142"><xref:System.Transactions> verwendet dieses Weitergabetoken, um eine DTC-Transaktion zu erstellen, die es in die lokale Transaktion einbinden kann.</span><span class="sxs-lookup"><span data-stu-id="a3c11-142"><xref:System.Transactions> uses this propagation token to create a DTC transaction that it can incorporate into the local transaction.</span></span>

6. <span data-ttu-id="a3c11-143">Jetzt kann CN2 die Daten, die sie durch den Aufruf einer der Methoden mit <xref:System.Transactions.TransactionInterop> erhalten hat, dazu verwenden, die Transaktion an SQL zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="a3c11-143">At this point, CN2 can use the data received from calling one of the methods by <xref:System.Transactions.TransactionInterop> to pass the transaction to SQL.</span></span>

7. <span data-ttu-id="a3c11-144">Jetzt sind beide in eine verteilte DTC-Transaktion eingetragen.</span><span class="sxs-lookup"><span data-stu-id="a3c11-144">Now, both are enlisted in a DTC distributed transaction.</span></span>

## <a name="single-phase-commit-optimization"></a><span data-ttu-id="a3c11-145">Optimierung des Einphasencommit</span><span class="sxs-lookup"><span data-stu-id="a3c11-145">Single Phase Commit Optimization</span></span>

<span data-ttu-id="a3c11-146">Das Einphasencommit-Protokoll ist zur Laufzeit effizienter, da alle Updates ohne eine explizite Koordination ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="a3c11-146">The Single Phase Commit protocol is more efficient at runtime as all updates are done without any explicit coordination.</span></span> <span data-ttu-id="a3c11-147">Um diese Optimierung nutzen zu können, sollten Sie anhand der <xref:System.Transactions.ISinglePhaseNotification>-Schnittstelle für die Ressource einen Ressourcen-Manager implementieren und mithilfe der <xref:System.Transactions.Transaction.EnlistDurable%2A>-Methode oder der <xref:System.Transactions.Transaction.EnlistVolatile%2A>-Methode eine Eintragung in eine Transaktion vornehmen.</span><span class="sxs-lookup"><span data-stu-id="a3c11-147">To take advantage of this optimization, you should implement a resource manager using <xref:System.Transactions.ISinglePhaseNotification> interface for the resource and enlist in a transaction using the <xref:System.Transactions.Transaction.EnlistDurable%2A> or <xref:System.Transactions.Transaction.EnlistVolatile%2A> method.</span></span> <span data-ttu-id="a3c11-148">Insbesondere die *EnlistmentOptions* Parameter sollten gleich <xref:System.Transactions.EnlistmentOptions.None> um sicherzustellen, dass ein Einphasencommit ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="a3c11-148">Specifically, the *EnlistmentOptions* parameter should equal to <xref:System.Transactions.EnlistmentOptions.None> to ensure that a single phase commit would be performed.</span></span>

<span data-ttu-id="a3c11-149">Da die <xref:System.Transactions.ISinglePhaseNotification>-Schnittstelle von der <xref:System.Transactions.IEnlistmentNotification>-Schnittstelle abgeleitet ist, kann der Ressourcen-Manager, wenn er für Einphasencommit nicht geeignet ist, trotzdem die Zweiphasencommit-Benachrichtigungen empfangen.</span><span class="sxs-lookup"><span data-stu-id="a3c11-149">Since the <xref:System.Transactions.ISinglePhaseNotification> interface derives from the <xref:System.Transactions.IEnlistmentNotification> interface, if your RM is not eligible for single phase commit, it can still receive the two phase commit notifications.</span></span> <span data-ttu-id="a3c11-150">Wenn der Ressourcen-Manager eine <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A>-Benachrichtigung vom Transaktions-Manager empfängt, sollte er versuchen, die notwendigen Aufgaben für ein Commit auszuführen, und den TM informieren, ob ein Commit oder ein Rollback für die Transaktion ausgeführt werden soll, indem er die Methode <xref:System.Transactions.SinglePhaseEnlistment.Committed%2A>, <xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A> oder <xref:System.Transactions.SinglePhaseEnlistment.InDoubt%2A> des <xref:System.Transactions.SinglePhaseEnlistment>-Parameters aufruft.</span><span class="sxs-lookup"><span data-stu-id="a3c11-150">If your RM receives a <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> notification from the TM, it should try to do the work necessary for it to commit and correspondingly inform the transaction manager if the transaction is to be committed or rolled back by calling the <xref:System.Transactions.SinglePhaseEnlistment.Committed%2A>, <xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A>, or <xref:System.Transactions.SinglePhaseEnlistment.InDoubt%2A> method on the <xref:System.Transactions.SinglePhaseEnlistment> parameter.</span></span> <span data-ttu-id="a3c11-151">Die Antwort <xref:System.Transactions.Enlistment.Done%2A> auf die Eintragung in dieser Phase impliziert die Semantik ReadOnly.</span><span class="sxs-lookup"><span data-stu-id="a3c11-151">A response of <xref:System.Transactions.Enlistment.Done%2A> on the enlistment at this stage implies ReadOnly semantics.</span></span> <span data-ttu-id="a3c11-152">Deshalb sollten Sie nicht zusätzlich zu den anderen Methoden <xref:System.Transactions.Enlistment.Done%2A> antworten.</span><span class="sxs-lookup"><span data-stu-id="a3c11-152">Therefore, you should not reply <xref:System.Transactions.Enlistment.Done%2A> in addition to any of the other methods.</span></span>

<span data-ttu-id="a3c11-153">Wenn es nur eine flüchtige Eintragung und keine dauerhafte Eintragung gibt, empfängt die flüchtige Eintragung eine Einphasencommit-Benachrichtigung.</span><span class="sxs-lookup"><span data-stu-id="a3c11-153">If there is only one volatile enlistment and no durable enlistment, the volatile enlistment receives SPC notification.</span></span> <span data-ttu-id="a3c11-154">Wenn flüchtige Eintragungen vorhanden sind, aber nur eine dauerhafte Eintragung, empfangen die flüchtigen Eintragungen ein Zweiphasencommit.</span><span class="sxs-lookup"><span data-stu-id="a3c11-154">If there are any volatile enlistments and only one durable enlistment, the volatile enlistments receive 2PC.</span></span> <span data-ttu-id="a3c11-155">Nach Beendigung empfängt die dauerhafte Eintragung ein Einphasencommit.</span><span class="sxs-lookup"><span data-stu-id="a3c11-155">When it is completed, the durable enlistment receives SPC.</span></span>

## <a name="see-also"></a><span data-ttu-id="a3c11-156">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="a3c11-156">See also</span></span>

- [<span data-ttu-id="a3c11-157">Eintragen von Ressourcen als Teilnehmer an einer Transaktion</span><span class="sxs-lookup"><span data-stu-id="a3c11-157">Enlisting Resources as Participants in a Transaction</span></span>](../../../../docs/framework/data/transactions/enlisting-resources-as-participants-in-a-transaction.md)
- [<span data-ttu-id="a3c11-158">Ausführen eines Einphasen- oder Mehrphasencommits für eine Transaktion</span><span class="sxs-lookup"><span data-stu-id="a3c11-158">Committing a Transaction in Single-Phase and Multi-Phase</span></span>](../../../../docs/framework/data/transactions/committing-a-transaction-in-single-phase-and-multi-phase.md)
