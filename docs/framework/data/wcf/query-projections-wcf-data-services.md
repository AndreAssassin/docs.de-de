---
title: Abfrageprojektionen (WCF Data Services)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- projection [WCF Data Services]
- WCF Data Services, projection
- query projection [WCF Data Services]
- WCF Data Services, querying
ms.assetid: a09f4985-9f0d-48c8-b183-83d67a3dfe5f
ms.openlocfilehash: 764ea6a77ba267e691d48bc72d17c02f6b3c18ca
ms.sourcegitcommit: 7088f87e9a7da144266135f4b2397e611cf0a228
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/11/2020
ms.locfileid: "75900974"
---
# <a name="query-projections-wcf-data-services"></a><span data-ttu-id="bf5fb-102">Abfrageprojektionen (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="bf5fb-102">Query Projections (WCF Data Services)</span></span>

<span data-ttu-id="bf5fb-103">Die Projektion stellt einen Mechanismus im Open Data Protocol (odata) bereit, um die Datenmenge zu reduzieren, die von einer Abfrage zurückgegeben wird, indem angegeben wird, dass nur bestimmte Eigenschaften einer Entität in der Antwort zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-103">Projection provides a mechanism in the Open Data Protocol (OData) to reduce the amount of data in the feed returned by a query by specifying that only certain properties of an entity are returned in the response.</span></span> <span data-ttu-id="bf5fb-104">Weitere Informationen finden Sie im Abschnitt 4,8.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-104">For more information, see section 4.8.</span></span> <span data-ttu-id="bf5fb-105">Wählen Sie in [URI-Konventionen (odata-Version 2,0)](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/)die Option System Abfrage Option ($Select) aus.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-105">Select System Query Option ($select) in [URI Conventions (OData Version 2.0)](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/).</span></span>

<span data-ttu-id="bf5fb-106">In diesem Thema wird beschrieben, wie eine Abfrageprojektion definiert wird, welche Anforderungen Entitäts- und Nichtentitätstypen erfüllen müssen, wie projizierte Ergebnisse aktualisiert werden, wie projizierte Typen erstellt werden und was bei Projektionen zu berücksichtigen ist.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-106">This topic describes how to define a query projection, what the requirements are for entity and non-entity types, making updates to projected results, creating projected types, and lists some projection considerations.</span></span>

## <a name="defining-a-query-projection"></a><span data-ttu-id="bf5fb-107">Definieren einer Abfrageprojektion</span><span class="sxs-lookup"><span data-stu-id="bf5fb-107">Defining a Query Projection</span></span>

<span data-ttu-id="bf5fb-108">Sie können einer Abfrage eine Projektions Klausel hinzufügen, indem Sie entweder die Option `$select` Abfrage in einem URI oder die [Select](../../../csharp/language-reference/keywords/select-clause.md) -Klausel ([Select](../../../visual-basic/language-reference/queries/select-clause.md) in Visual Basic) in einer LINQ-Abfrage verwenden.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-108">You can add a projection clause to a query either by using the `$select` query option in a URI or by using the [select](../../../csharp/language-reference/keywords/select-clause.md) clause ([Select](../../../visual-basic/language-reference/queries/select-clause.md) in Visual Basic) in a LINQ query.</span></span> <span data-ttu-id="bf5fb-109">Zurückgegebene Entitätsdaten können auf dem Client entweder in Entitätstypen oder in Nicht-Entitätstypen projiziert werden.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-109">Returned entity data can be projected into either entity types or non-entity types on the client.</span></span> <span data-ttu-id="bf5fb-110">In den Beispielen in diesem Thema wird gezeigt, wie die `select`-Klausel in einer LINQ-Abfrage verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-110">Examples in this topic demonstrate how to use the `select` clause in a LINQ query.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="bf5fb-111">Im Datendienst können Datenverluste auftreten, wenn Sie Updates speichern, die an projizierten Typen vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-111">Data loss might occur in the data service when you save updates that were made to projected types.</span></span> <span data-ttu-id="bf5fb-112">Weitere Informationen finden Sie unter [Überlegungen zur Projektion](#considerations).</span><span class="sxs-lookup"><span data-stu-id="bf5fb-112">For more information, see [Projection Considerations](#considerations).</span></span>

## <a name="requirements-for-entity-and-non-entity-types"></a><span data-ttu-id="bf5fb-113">Anforderungen für Entitäts- und Nicht-Entitätstypen</span><span class="sxs-lookup"><span data-stu-id="bf5fb-113">Requirements for Entity and Non-Entity Types</span></span>

<span data-ttu-id="bf5fb-114">Entitätstypen müssen eine oder mehrere IDENTITY-Eigenschaften besitzen, die den Entitätsschlüssel bilden.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-114">Entity types must have one or more identity properties that make up the entity key.</span></span> <span data-ttu-id="bf5fb-115">Entitätstypen werden unter Verwendung einer der folgenden Methoden auf Clients definiert:</span><span class="sxs-lookup"><span data-stu-id="bf5fb-115">Entity types are defined on clients in one of the following ways:</span></span>

- <span data-ttu-id="bf5fb-116">Durch Anwenden des <xref:System.Data.Services.Common.DataServiceKeyAttribute>-Attributs oder <xref:System.Data.Services.Common.DataServiceEntityAttribute>-Attributs auf den Typ.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-116">By applying the <xref:System.Data.Services.Common.DataServiceKeyAttribute> or <xref:System.Data.Services.Common.DataServiceEntityAttribute> to the type.</span></span>

- <span data-ttu-id="bf5fb-117">Wenn der Typ über eine Eigenschaft mit dem Namen `ID` verfügt.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-117">When the type has a property named `ID`.</span></span>

- <span data-ttu-id="bf5fb-118">Wenn der Typ über eine Eigenschaft mit dem Namen *Type*`ID`verfügt, wobei *Type* der Name des Typs ist.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-118">When the type has a property named *type*`ID`, where *type* is the name of the type.</span></span>

<span data-ttu-id="bf5fb-119">In der Standardeinstellung gilt, wenn Sie Projektabfrageergebnisse in einen auf dem Client definierten Typ projizieren, dann müssen die in der Projektion angeforderten Eigenschaften im Clienttyp vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-119">By default, when you project query results into a type defined at the client, the properties requested in the projection must exist in the client type.</span></span> <span data-ttu-id="bf5fb-120">Wenn Sie jedoch den Wert `true` für die <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A>-Eigenschaft des <xref:System.Data.Services.Client.DataServiceContext>-Kontexts angeben, müssen die in der Projektion angegebenen Eigenschaften nicht im Clienttyp vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-120">However, when you specify a value of `true` for the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property of the <xref:System.Data.Services.Client.DataServiceContext>, properties specified in the projection are not required to occur in the client type.</span></span>

### <a name="making-updates-to-projected-results"></a><span data-ttu-id="bf5fb-121">Vornehmen von Aktualisierungen an projizierten Ergebnissen</span><span class="sxs-lookup"><span data-stu-id="bf5fb-121">Making Updates to Projected Results</span></span>

<span data-ttu-id="bf5fb-122">Wenn Sie Projektabfrageergebnisse auf dem Client in Entitätstypen projizieren, dann kann der <xref:System.Data.Services.Client.DataServiceContext>-Kontext aktualisierte Objekte verfolgen, die zum Datendienst zurückgeschickt werden sollen, wenn die <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A>-Methode aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-122">When you project query results into entity types on the client, the <xref:System.Data.Services.Client.DataServiceContext> can track those objects with updates to be sent back to the data service when the <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> method is called.</span></span> <span data-ttu-id="bf5fb-123">Aktualisierungen, die an Daten vorgenommen werden, die auf dem Client in Nicht-Entitätstypen projiziert wurden, können jedoch nicht an den Datendienst zurückgesendet werden.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-123">However, updates that are made to data projected into non-entity types on the client cannot be sent back to the data service.</span></span> <span data-ttu-id="bf5fb-124">Der Grund hierfür ist, dass der Datendienst ohne Schlüssel zum Identifizieren der Entitätsinstanz nicht die richtige Entität in der Datenquelle aktualisieren kann.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-124">This is because without a key to identify the entity instance, the data service cannot update the correct entity in the data source.</span></span> <span data-ttu-id="bf5fb-125">Nicht-Entitätstypen werden nicht an den <xref:System.Data.Services.Client.DataServiceContext> angefügt.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-125">Non-entity types are not attached to the <xref:System.Data.Services.Client.DataServiceContext>.</span></span>

<span data-ttu-id="bf5fb-126">Wenn eine oder mehrere Eigenschaften eines Entitätstyps, der im Datendienst definiert wurde, nicht im Clienttyp vorhanden sind, in den die Entität projiziert wird, dann enthalten neu eingefügte Entitäten diese fehlenden Eigenschaften nicht.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-126">When one or more properties of an entity type defined in the data service do not occur in the client type into which the entity is projected, inserts of new entities will not contain these missing properties.</span></span> <span data-ttu-id="bf5fb-127">In diesem Fall enthalten Updates, die an vorhandenen Entitäten vorgenommen werden, diese fehlenden Eigenschaften **ebenfalls** nicht.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-127">In this case, updates that are made to existing entities will **also** not include these missing properties.</span></span> <span data-ttu-id="bf5fb-128">Wenn ein Wert für eine solche Eigenschaft vorhanden ist, dann wird er während der Aktualisierung auf den Standardwert der Eigenschaft zurückgesetzt, der in der Datenquelle definiert ist.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-128">When a value exists for such a property, the update resets it to the default value for the property, as defined in the data source.</span></span>

### <a name="creating-projected-types"></a><span data-ttu-id="bf5fb-129">Erstellen von projizierten Typen</span><span class="sxs-lookup"><span data-stu-id="bf5fb-129">Creating Projected Types</span></span>

<span data-ttu-id="bf5fb-130">Im folgenden Beispiel wird eine anonyme LINQ-Abfrage verwendet, die die adressenbezogenen Eigenschaften des `Customers`-Typs in einen neuen `CustomerAddress`-Typ projiziert, der auf dem Client definiert und als Entitätstyp deklariert wurde:</span><span class="sxs-lookup"><span data-stu-id="bf5fb-130">The following example uses an anonymous LINQ query that projects the address-related properties of the `Customers` type into a new `CustomerAddress` type, which is defined on the client and is attributed as an entity type:</span></span>

[!code-csharp[Astoria Northwind Client#SelectCustomerAddressSpecific](~/samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#selectcustomeraddressspecific)]
[!code-vb[Astoria Northwind Client#SelectCustomerAddressSpecific](~/samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#selectcustomeraddressspecific)]

<span data-ttu-id="bf5fb-131">In diesem Beispiel wird das Objektinitialisierermuster statt eines Konstruktoraufrufs verwendet, um eine neue Instanz des `CustomerAddress`-Typs zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-131">In this example, the object initializer pattern is used to create a new instance of the `CustomerAddress` type instead of calling a constructor.</span></span> <span data-ttu-id="bf5fb-132">Beim Projizieren in Entitätstypen werden Konstruktoren nicht unterstützt, beim Projizieren in Nicht-Entitätstypen und anonyme Typen können sie jedoch verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-132">Constructors are not supported when projecting into entity types, but they can be used when projecting into non-entity and anonymous types.</span></span> <span data-ttu-id="bf5fb-133">Da `CustomerAddress` ein Entitätstyp ist, können Änderungen vorgenommen werden und an den Datendienst zurückgesendet werden.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-133">Because `CustomerAddress` is an entity type, changes can be made and sent back to the data service.</span></span>

<span data-ttu-id="bf5fb-134">Auch werden die Daten vom `Customer`-Typ in eine Instanz des `CustomerAddress`-Entitätstyps statt eines anonymen Typs projiziert.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-134">Also, the data from the `Customer` type is projected into an instance of the `CustomerAddress` entity type instead of an anonymous type.</span></span> <span data-ttu-id="bf5fb-135">Die Projektion auf anonyme Typen wird unterstützt, die Daten sind jedoch schreibgeschützt, weil anonyme Typen wie Nicht-Entitätstypen behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-135">Projection into anonymous types is supported, but the data is read-only because anonymous types are treated as non-entity types.</span></span>

<span data-ttu-id="bf5fb-136">Die <xref:System.Data.Services.Client.MergeOption>-Einstellungen des <xref:System.Data.Services.Client.DataServiceContext>-Kontexts werden während der Abfrageprojektion zur Identitätsauflösung verwendet.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-136">The <xref:System.Data.Services.Client.MergeOption> settings of the <xref:System.Data.Services.Client.DataServiceContext> are used for identity resolution during query projection.</span></span> <span data-ttu-id="bf5fb-137">Wenn eine Instanz des `Customer`-Typs bereits im <xref:System.Data.Services.Client.DataServiceContext>-Kontext vorhanden ist, dann folgt eine Instanz von `CustomerAddress` mit der gleichen Identität dem Identitätsauflösungsregelsatz vom <xref:System.Data.Services.Client.MergeOption>.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-137">This means that if an instance of the `Customer` type already exists in the <xref:System.Data.Services.Client.DataServiceContext>, an instance of `CustomerAddress` with the same identity will follow the identity resolution rules set by the <xref:System.Data.Services.Client.MergeOption></span></span>

<span data-ttu-id="bf5fb-138">Im folgenden werden die Verhaltensweisen beim Projizieren von Ergebnissen in Entitäts-und nicht-Entitäts Typen beschrieben:</span><span class="sxs-lookup"><span data-stu-id="bf5fb-138">The following describes the behaviors when projecting results into entity and non-entity types:</span></span>

<span data-ttu-id="bf5fb-139">**Erstellen einer neuen projizierten Instanz mithilfe von Initialisierern**</span><span class="sxs-lookup"><span data-stu-id="bf5fb-139">**Creating a new projected instance by using initializers**</span></span>

- <span data-ttu-id="bf5fb-140">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="bf5fb-140">Example:</span></span>

   [!code-csharp[Astoria Northwind Client#ProjectWithInitializer](~/samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#projectwithinitializer)]
   [!code-vb[Astoria Northwind Client#ProjectWithInitializer](~/samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#projectwithinitializer)]

- <span data-ttu-id="bf5fb-141">Entitätstyp: wird unterstützt</span><span class="sxs-lookup"><span data-stu-id="bf5fb-141">Entity type: Supported</span></span>

- <span data-ttu-id="bf5fb-142">Nicht-Entitätstyp: wird unterstützt.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-142">Non-entity type: Supported</span></span>

<span data-ttu-id="bf5fb-143">**Erstellen einer neuen projizierten Instanz mithilfe von Konstruktoren**</span><span class="sxs-lookup"><span data-stu-id="bf5fb-143">**Creating a new projected instance by using constructors**</span></span>

- <span data-ttu-id="bf5fb-144">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="bf5fb-144">Example:</span></span>

   [!code-csharp[Astoria Northwind Client#ProjectWithConstructor](~/samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#projectwithconstructor)]
   [!code-vb[Astoria Northwind Client#ProjectWithConstructor](~/samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#projectwithconstructor)]

- <span data-ttu-id="bf5fb-145">Entitätstyp: ein <xref:System.NotSupportedException> wird ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-145">Entity type: A <xref:System.NotSupportedException> is raised.</span></span>

- <span data-ttu-id="bf5fb-146">Nicht-Entitätstyp: wird unterstützt.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-146">Non-entity type: Supported</span></span>

<span data-ttu-id="bf5fb-147">**Verwenden von Projektion zum Transformieren eines Eigenschafts Werts**</span><span class="sxs-lookup"><span data-stu-id="bf5fb-147">**Using projection to transform a property value**</span></span>

- <span data-ttu-id="bf5fb-148">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="bf5fb-148">Example:</span></span>

   [!code-csharp[Astoria Northwind Client#ProjectWithTransform](~/samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#projectwithtransform)]
   [!code-vb[Astoria Northwind Client#ProjectWithTransform](~/samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#projectwithtransform)]

- <span data-ttu-id="bf5fb-149">Entitätstyp: Diese Transformation wird nicht für Entitäts Typen unterstützt, da Sie zu Verwirrung führen kann und die Daten in der Datenquelle, die zu einer anderen Entität gehört, potenziell überschrieben werden kann.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-149">Entity type: This transformation is not supported for entity types because it can lead to confusion and potentially overwriting the data in the data source that belongs to another entity.</span></span> <span data-ttu-id="bf5fb-150">Es wird eine Ausnahme vom Typ <xref:System.NotSupportedException> ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-150">A <xref:System.NotSupportedException> is raised.</span></span>

- <span data-ttu-id="bf5fb-151">Nicht-Entitätstyp: wird unterstützt.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-151">Non-entity type: Supported</span></span>

<a name="considerations"></a>

## <a name="projection-considerations"></a><span data-ttu-id="bf5fb-152">Überlegungen zur Projektion</span><span class="sxs-lookup"><span data-stu-id="bf5fb-152">Projection Considerations</span></span>

<span data-ttu-id="bf5fb-153">Beim Definieren einer Abfrageprojektion sind außerdem die folgenden Punkte zu berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-153">The following additional considerations apply when defining a query projection.</span></span>

- <span data-ttu-id="bf5fb-154">Wenn Sie benutzerdefinierte Feeds für das Atom-Format definieren, müssen Sie sicherstellen, dass alle Entitätseigenschaften, für die benutzerdefinierte Zuordnungen definiert wurden, in der Projektion enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-154">When you define custom feeds for the Atom format, you must make sure that all entity properties that have custom mappings defined are included in the projection.</span></span> <span data-ttu-id="bf5fb-155">Wenn eine zugeordnete Entitätseigenschaft nicht in der Projektion enthalten ist, könnten Datenverluste auftreten.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-155">When a mapped entity property is not included in the projection, data loss might occur.</span></span> <span data-ttu-id="bf5fb-156">Weitere Informationen finden Sie unter [Feed-Anpassung](feed-customization-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="bf5fb-156">For more information, see [Feed Customization](feed-customization-wcf-data-services.md).</span></span>

- <span data-ttu-id="bf5fb-157">Wenn Entitäten in einen projizierten Typ eingefügt werden, der nicht alle Eigenschaften der Entität im Datenmodell des Datendiensts umfasst, werden die in der Projektion in den Client nicht enthaltenen Eigenschaften auf ihre Standardwerte festgelegt.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-157">When inserts are made to a projected type that does not contain all of the properties of the entity in the data model of the data service, the properties not included in the projection at the client are set to their default values.</span></span>

- <span data-ttu-id="bf5fb-158">Wenn Aktualisierungen an einem projizierten Typ vorgenommen werden, der nicht alle Eigenschaften der Entität im Datenmodell des Datendiensts umfasst, werden vorhandene Werte, die in der Projektion auf dem Client nicht enthalten sind, mit den nicht initialisierten Standardwerten überschrieben.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-158">When updates are made to a projected type that does not contain all of the properties of the entity in the data model of the data service, existing values not included in the projection on the client will be overwritten with uninitialized default values.</span></span>

- <span data-ttu-id="bf5fb-159">Wenn eine Projektion eine komplexe Eigenschaft beinhaltet, muss das gesamte komplexe Objekt zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-159">When a projection includes a complex property, the entire complex object must be returned.</span></span>

- <span data-ttu-id="bf5fb-160">Wenn eine Projektion eine Navigationseigenschaft umfasst, werden die verknüpften Objekte implizit geladen, ohne dass die <xref:System.Data.Services.Client.DataServiceQuery%601.Expand%2A>-Methode aufgerufen werden muss.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-160">When a projection includes a navigation property, the related objects are loaded implicitly without having to call the <xref:System.Data.Services.Client.DataServiceQuery%601.Expand%2A> method.</span></span> <span data-ttu-id="bf5fb-161">Die <xref:System.Data.Services.Client.DataServiceQuery%601.Expand%2A>-Methode kann in projizierten Abfragen nicht verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-161">The <xref:System.Data.Services.Client.DataServiceQuery%601.Expand%2A> method is not supported for use in a projected query.</span></span>

- <span data-ttu-id="bf5fb-162">Abfragen mit Abfrageprojektionen für den Client werden übersetzt, sodass die `$select`-Abfrageoption im Anforderungs-URI verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-162">Query projections queries on the client are translated to use the `$select` query option in the request URI.</span></span> <span data-ttu-id="bf5fb-163">Wenn eine Abfrage mit Projektion für eine frühere Version von ausgeführt wird WCF Data Services die die `$select` Query-Option nicht unterstützt, wird ein Fehler zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-163">When a query with projection is executed against a previous version of WCF Data Services that does not support the `$select` query option, an error is returned.</span></span> <span data-ttu-id="bf5fb-164">Dies kann auch geschehen, wenn die <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A>-Eigenschaft des <xref:System.Data.Services.DataServiceBehavior>-Objekts für den Datendienst auf den Wert <xref:System.Data.Services.Common.DataServiceProtocolVersion.V1> festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="bf5fb-164">This can also happen when the <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> of the <xref:System.Data.Services.DataServiceBehavior> for the data service is set to a value of <xref:System.Data.Services.Common.DataServiceProtocolVersion.V1>.</span></span> <span data-ttu-id="bf5fb-165">Weitere Informationen finden Sie unter [Data Service Versioning](data-service-versioning-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="bf5fb-165">For more information, see [Data Service Versioning](data-service-versioning-wcf-data-services.md).</span></span>

<span data-ttu-id="bf5fb-166">Weitere Informationen finden Sie unter Gewusst [wie: Projizieren von Abfrage Ergebnissen](how-to-project-query-results-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="bf5fb-166">For more information, see [How to: Project Query Results](how-to-project-query-results-wcf-data-services.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="bf5fb-167">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="bf5fb-167">See also</span></span>

- [<span data-ttu-id="bf5fb-168">Abfragen des Datendiensts</span><span class="sxs-lookup"><span data-stu-id="bf5fb-168">Querying the Data Service</span></span>](querying-the-data-service-wcf-data-services.md)
