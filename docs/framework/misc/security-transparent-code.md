---
title: Sicherheitstransparenter Code
ms.date: 03/30/2017
helpviewer_keywords:
- transparent code
- security-transparent code
ms.assetid: 4f3dd841-82f7-4659-aab0-6d2db2166c65
author: mairaw
ms.author: mairaw
ms.openlocfilehash: 44003cbd0f13d2665c5b753454689c10546325b7
ms.sourcegitcommit: 155012a8a826ee8ab6aa49b1b3a3b532e7b7d9bd
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/04/2019
ms.locfileid: "66487846"
---
# <a name="security-transparent-code"></a><span data-ttu-id="d4d7a-102">Sicherheitstransparenter Code</span><span class="sxs-lookup"><span data-stu-id="d4d7a-102">Security-Transparent Code</span></span>

<a name="top"></a>

[!INCLUDE[net_security_note](../../../includes/net-security-note-md.md)]

<span data-ttu-id="d4d7a-103">Sicherheit schließt drei interagierende Elemente ein: Sandkasten, Berechtigungen und Erzwingung.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-103">Security involves three interacting pieces: sandboxing, permissions, and enforcement.</span></span> <span data-ttu-id="d4d7a-104">Unter einem Sandkasten versteht man das Erstellen isolierter Domänen, in denen bestimmter Code als vollständig vertrauenswürdig und sonstiger Code auf die Berechtigungen im Berechtigungssatz für den Sandkasten beschränkt ist.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-104">Sandboxing refers to the practice of creating isolated domains where some code is treated as fully trusted and other code is restricted to the permissions in the grant set for the sandbox.</span></span> <span data-ttu-id="d4d7a-105">Der Anwendungscode, der innerhalb des Berechtigungssatzes des Sandkastens ausgeführt wird, wird als transparent betrachtet, das heißt, es können keine Vorgänge ausgeführt werden, die sich auf die Sicherheit auswirken können.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-105">The application code that runs within the grant set of the sandbox is considered to be transparent; that is, it cannot perform any operations that can affect security.</span></span> <span data-ttu-id="d4d7a-106">Der Berechtigungssatz für den Sandkasten wird durch Beweis bestimmt (<xref:System.Security.Policy.Evidence>-Klasse).</span><span class="sxs-lookup"><span data-stu-id="d4d7a-106">The grant set for the sandbox is determined by evidence (<xref:System.Security.Policy.Evidence> class).</span></span> <span data-ttu-id="d4d7a-107">Beweise geben Aufschluss darüber, welche bestimmten Berechtigungen von Sandkästen benötigt werden, und welche Arten von Sandkästen erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-107">Evidence identifies what specific permissions are required by sandboxes, and what kinds of sandboxes can be created.</span></span> <span data-ttu-id="d4d7a-108">Erzwingung bedeutet, dass transparenter Code nur innerhalb seines Berechtigungssatzes ausgeführt werden darf.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-108">Enforcement refers to allowing transparent code to execute only within its grant set.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d4d7a-109">Die Sicherheitsrichtlinie war ein Schlüsselelement in früheren Versionen von .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-109">Security policy was a key element in previous versions of the .NET Framework.</span></span> <span data-ttu-id="d4d7a-110">Ab .NET Framework 4, ist die Sicherheitsrichtlinie veraltet.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-110">Starting with the .NET Framework 4, security policy is obsolete.</span></span> <span data-ttu-id="d4d7a-111">Die Beseitigung der Sicherheitsrichtlinie geschieht getrennt von der Sicherheitstransparenz.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-111">The elimination of security policy is separate from security transparency.</span></span> <span data-ttu-id="d4d7a-112">Weitere Informationen zu den Auswirkungen dieser Änderung finden Sie unter [Code Access Security Policy Kompatibilität und Migration von](../../../docs/framework/misc/code-access-security-policy-compatibility-and-migration.md).</span><span class="sxs-lookup"><span data-stu-id="d4d7a-112">For information about the effects of this change, see [Code Access Security Policy Compatibility and Migration](../../../docs/framework/misc/code-access-security-policy-compatibility-and-migration.md).</span></span>

<span data-ttu-id="d4d7a-113">In diesem Thema wird das Transparenzmodell genauer beschrieben.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-113">This topic describes the transparency model in more detail.</span></span> <span data-ttu-id="d4d7a-114">Es enthält die folgenden Abschnitte:</span><span class="sxs-lookup"><span data-stu-id="d4d7a-114">It contains the following sections:</span></span>

- [<span data-ttu-id="d4d7a-115">Zweck des Transparenzmodells</span><span class="sxs-lookup"><span data-stu-id="d4d7a-115">Purpose of the Transparency Model</span></span>](#purpose)

- [<span data-ttu-id="d4d7a-116">Angeben der Transparenzebene</span><span class="sxs-lookup"><span data-stu-id="d4d7a-116">Specifying the Transparency Level</span></span>](#level)

- [<span data-ttu-id="d4d7a-117">Transparenzerzwingung</span><span class="sxs-lookup"><span data-stu-id="d4d7a-117">Transparency Enforcement</span></span>](#enforcement)

<a name="purpose"></a>

## <a name="purpose-of-the-transparency-model"></a><span data-ttu-id="d4d7a-118">Zweck des Transparenzmodells</span><span class="sxs-lookup"><span data-stu-id="d4d7a-118">Purpose of the Transparency Model</span></span>

<span data-ttu-id="d4d7a-119">Transparenz ist ein Erzwingungsmechanismus, mit dem Code, der als Teil der Anwendung von Code ausgeführt wird, der wiederum als Teil der Infrastruktur ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-119">Transparency is an enforcement mechanism that separates code that runs as part of the application from code that runs as part of the infrastructure.</span></span> <span data-ttu-id="d4d7a-120">Transparenz unterscheidet zwischen Code, in dem privilegierte Aktionen wie das Aufrufen von systemeigenem Code ausgeführt werden können (sicherheitsrelevanter Code), und Code, in dem dies nicht möglich ist (transparenter Code).</span><span class="sxs-lookup"><span data-stu-id="d4d7a-120">Transparency draws a barrier between code that can do privileged things (critical code), such as calling native code, and code that cannot (transparent code).</span></span> <span data-ttu-id="d4d7a-121">In transparentem Code können Befehle in den Grenzen des Berechtigungssatzes, in denen der Code verwendet wird, ausgeführt werden. Es ist jedoch nicht möglich, dass mit transparentem Code wichtiger Code ausgeführt und davon abgeleitet wird bzw. er darf keinen wichtigen Code enthalten.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-121">Transparent code can execute commands within the bounds of the permission set it is operating in, but cannot execute, derive from, or contain critical code.</span></span>

<span data-ttu-id="d4d7a-122">Das primäre Ziel der Transparenzerzwingung besteht darin, einen einfachen, effektiven Mechanismus für die Isolation verschiedener Codegruppen auf Grundlage von Rechten bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-122">The primary goal of transparency enforcement is to provide a simple, effective mechanism for isolating different groups of code based on privilege.</span></span> <span data-ttu-id="d4d7a-123">Innerhalb des Kontexts des Sandkastenmodells sind diese Rechtegruppen entweder voll vertrauenswürdig (das heißt, sie unterliegen keine Einschränkungen) oder teilweise vertrauenswürdig (das heißt, sie sind auf den Berechtigungssatz beschränkt, der dem Sandkasten gewährt wurde).</span><span class="sxs-lookup"><span data-stu-id="d4d7a-123">Within the context of the sandboxing model, these privilege groups are either fully trusted (that is, not restricted) or partially trusted (that is, restricted to the permission set granted to the sandbox).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d4d7a-124">Das Transparenzmodell geht über Codezugriffssicherheit hinaus.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-124">The transparency model transcends code access security.</span></span> <span data-ttu-id="d4d7a-125">Transparenz wird vom Just-In-Time-Compiler erzwungen und bleibt unabhängig vom Berechtigungssatz für eine Assembly in Kraft, einschließlich vollständiger Vertrauenswürdigkeit.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-125">Transparency is enforced by the just-in-time compiler and remains in effect regardless of the grant set for an assembly, including full trust.</span></span>

<span data-ttu-id="d4d7a-126">Transparenz wurde in .NET Framework, Version 2.0, eingeführt, um das Sicherheitsmodell zu vereinfachen und das Schreiben und Bereitstellen von sicheren Bibliotheken und Anwendungen zu erleichtern.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-126">Transparency was introduced in the .NET Framework version 2.0 to simplify the security model, and to make it easier to write and deploy secure libraries and applications.</span></span> <span data-ttu-id="d4d7a-127">Transparenter Code wird auch in Microsoft Silverlight verwendet, um die Entwicklung von teilweise vertrauenswürdigen Anwendungen zu vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-127">Transparent code is also used in Microsoft Silverlight, to simplify the development of partially trusted applications.</span></span>

> [!NOTE]
> <span data-ttu-id="d4d7a-128">Wenn Sie eine teilweise vertrauenswürdige Anwendung entwickeln, beachten Sie die Berechtigungsanforderungen für die Zielhosts.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-128">When you develop a partially trusted application, you have to be aware of the permission requirements for your target hosts.</span></span> <span data-ttu-id="d4d7a-129">Sie können eine Anwendung entwickeln, die Ressourcen verwendet, die von einigen Hosts nicht zugelassen werden.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-129">You can develop an application that uses resources that are not allowed by some hosts.</span></span> <span data-ttu-id="d4d7a-130">Diese Anwendung wird ohne Fehler kompiliert, schlägt jedoch fehl, wenn sie in die gehostete Umgebung geladen wird.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-130">This application will compile without error, but will fail when it is loaded into the hosted environment.</span></span> <span data-ttu-id="d4d7a-131">Wenn Sie die Anwendung mit Visual Studio entwickelt haben, können Sie in der Entwicklungsumgebung das Debuggen in teilweiser Vertrauenswürdigkeit oder in einem eingeschränkten Berechtigungssatz aktivieren.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-131">If you have developed your application using Visual Studio, you can enable debugging in partial trust or in a restricted permission set from the development environment.</span></span> <span data-ttu-id="d4d7a-132">Weitere Informationen finden Sie unter [Vorgehensweise: Debuggen einer ClickOnce-Anwendung mit eingeschränkten Berechtigungen](/visualstudio/deployment/how-to-debug-a-clickonce-application-with-restricted-permissions).</span><span class="sxs-lookup"><span data-stu-id="d4d7a-132">For more information, see [How to: Debug a ClickOnce Application with Restricted Permissions](/visualstudio/deployment/how-to-debug-a-clickonce-application-with-restricted-permissions).</span></span> <span data-ttu-id="d4d7a-133">Die für ClickOnce-Anwendungen bereitgestellte Funktion zur Berechnung von Berechtigungen ist auch für jede beliebige teilweise vertrauenswürdige Anwendung verfügbar.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-133">The Calculate Permissions feature provided for ClickOnce applications is also available for any partially trusted application.</span></span>

[<span data-ttu-id="d4d7a-134">Zurück nach oben</span><span class="sxs-lookup"><span data-stu-id="d4d7a-134">Back to top</span></span>](#top)

<a name="level"></a>

## <a name="specifying-the-transparency-level"></a><span data-ttu-id="d4d7a-135">Angeben der Transparenzebene</span><span class="sxs-lookup"><span data-stu-id="d4d7a-135">Specifying the Transparency Level</span></span>

<span data-ttu-id="d4d7a-136">Das <xref:System.Security.SecurityRulesAttribute>-Attribut auf Assemblyebene wählt explizit die <xref:System.Security.SecurityRuleSet>-Regeln aus, nach denen sich die Assembly richtet.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-136">The assembly-level <xref:System.Security.SecurityRulesAttribute> attribute explicitly selects the <xref:System.Security.SecurityRuleSet> rules that the assembly will follow.</span></span> <span data-ttu-id="d4d7a-137">Die Regeln werden unter einem System mit numerischen Ebenen organisiert, wobei höhere Ebenen eine strengere Erzwingung von Sicherheitsregeln bedeuten.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-137">The rules are organized under a numeric level system, where higher levels mean tighter enforcement of security rules.</span></span>

<span data-ttu-id="d4d7a-138">Die Ebenen lauten folgendermaßen:</span><span class="sxs-lookup"><span data-stu-id="d4d7a-138">The levels are as follows:</span></span>

- <span data-ttu-id="d4d7a-139">Ebene 2 (<xref:System.Security.SecurityRuleSet.Level2>) – die .NET Framework 4-Transparenzregeln.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-139">Level 2 (<xref:System.Security.SecurityRuleSet.Level2>) – the .NET Framework 4 transparency rules.</span></span>

- <span data-ttu-id="d4d7a-140">Ebene 1 (<xref:System.Security.SecurityRuleSet.Level1>) – die .NET Framework 2.0-Transparenzregeln.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-140">Level 1 (<xref:System.Security.SecurityRuleSet.Level1>) – the .NET Framework 2.0 transparency rules.</span></span>

<span data-ttu-id="d4d7a-141">Der primäre Unterschied zwischen den zwei Transparenzebenen besteht darin, dass auf Ebene 1 keine Transparenzregeln für Aufrufe von außerhalb der Assembly erzwungen werden und dass diese Ebene nur für Kompatibilität vorgesehen ist.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-141">The primary difference between the two transparency levels is that level 1 does not enforce transparency rules for calls from outside the assembly and is intended only for compatibility.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d4d7a-142">Geben Sie Transparenz der Ebene 1 nur für Kompatibilität an, das heißt, geben Sie Ebene 1 nur für Code an, der mit .NET Framework 3.5 oder niedriger entwickelt wurde und für den das <xref:System.Security.AllowPartiallyTrustedCallersAttribute>-Attribut verwendet bzw. für den das Transparenzmodell nicht verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-142">You should specify level 1 transparency for compatibility only; that is, specify level 1 only for code that was developed with the .NET Framework 3.5 or earlier that uses the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> attribute or does not use the transparency model.</span></span> <span data-ttu-id="d4d7a-143">Verwenden Sie Transparenz der Ebene 1 z. B. für .NET Framework 2.0-Assemblys, die Aufrufe von teilweise vertrauenswürdigen Aufrufern (APTCA) ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-143">For example, use level 1 transparency for .NET Framework 2.0 assemblies that allow calls from partially trusted callers (APTCA).</span></span> <span data-ttu-id="d4d7a-144">Verwenden Sie für Code, der für die .NET Framework 4 entwickelt wird, immer Transparenz der Ebene 2 an.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-144">For code that is developed for the .NET Framework 4, always use level 2 transparency.</span></span>

### <a name="level-2-transparency"></a><span data-ttu-id="d4d7a-145">Transparenz der Ebene 2</span><span class="sxs-lookup"><span data-stu-id="d4d7a-145">Level 2 Transparency</span></span>

<span data-ttu-id="d4d7a-146">Transparenz der Ebene 2 wurde in .NET Framework 4 eingeführt.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-146">Level 2 transparency was introduced in the .NET Framework 4.</span></span> <span data-ttu-id="d4d7a-147">Die drei Grundsätze dieses Modells sind transparenter Code, sicherheitsgeschützter Code und sicherheitskritischer Code.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-147">The three tenets of this model are transparent code, security-safe-critical code, and security-critical code.</span></span>

- <span data-ttu-id="d4d7a-148">Transparenter Code kann unabhängig von den Berechtigungen, die er erhält (einschließlich vollständiger Vertrauenswürdigkeit), nur anderen transparenten Code oder sicherheitsgeschützten Code aufrufen.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-148">Transparent code, regardless of the permissions it is granted (including full trust), can call only other transparent code or security-safe-critical code.</span></span> <span data-ttu-id="d4d7a-149">Wenn der Code teilweise vertrauenswürdig ist, können nur Aktionen ausgeführt werden, die gemäß dem Berechtigungssatz der Domäne zulässig sind.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-149">If the code is partially trusted, it can only perform actions that are allowed by the domain’s permission set.</span></span> <span data-ttu-id="d4d7a-150">Transparenter Code ist nicht für die folgenden Vorgänge vorgesehen:</span><span class="sxs-lookup"><span data-stu-id="d4d7a-150">Transparent code cannot do the following:</span></span>

  - <span data-ttu-id="d4d7a-151">Ausführen eines <xref:System.Security.CodeAccessPermission.Assert%2A>-Vorgangs oder einer Berechtigungserweiterung.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-151">Perform an <xref:System.Security.CodeAccessPermission.Assert%2A> operation or elevation of privilege.</span></span>

  - <span data-ttu-id="d4d7a-152">Der Code darf keinen unsicheren oder nicht überprüfbaren Code enthalten.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-152">Contain unsafe or unverifiable code.</span></span>

  - <span data-ttu-id="d4d7a-153">Direktes Aufrufen von wichtigem Code.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-153">Directly call critical code.</span></span>

  - <span data-ttu-id="d4d7a-154">Aufrufen von systemeigenen Code oder von Code, der das <xref:System.Security.SuppressUnmanagedCodeSecurityAttribute>-Attribut besitzt.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-154">Call native code or code that has the <xref:System.Security.SuppressUnmanagedCodeSecurityAttribute> attribute.</span></span>

  - <span data-ttu-id="d4d7a-155">Aufrufen eines Members, der von einem <xref:System.Security.Permissions.SecurityAction.LinkDemand>-Feld geschützt wird.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-155">Call a member that is protected by a <xref:System.Security.Permissions.SecurityAction.LinkDemand>.</span></span>

  - <span data-ttu-id="d4d7a-156">Erben von wichtigen Typen.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-156">Inherit from critical types.</span></span>

    <span data-ttu-id="d4d7a-157">Außerdem können transparente Methoden keine wichtigen virtuellen Methoden überschreiben oder wichtige Schnittstellenmethoden implementieren.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-157">In addition, transparent methods cannot override critical virtual methods or implement critical interface methods.</span></span>

- <span data-ttu-id="d4d7a-158">Sicherheitsgeschützter Code ist vollständig vertrauenswürdig, kann aber durch transparenten Code aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-158">Security-safe-critical code is fully trusted but is callable by transparent code.</span></span> <span data-ttu-id="d4d7a-159">Es macht einen beschränkten Oberflächenbereich mit vollständig vertrauenswürdigen Codes verfügbar.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-159">It exposes a limited surface area of full-trust code.</span></span> <span data-ttu-id="d4d7a-160">Korrektheits- und Sicherheitsüberprüfungen werden in sicherheitsgeschütztem Code ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-160">Correctness and security verifications happen in safe-critical code.</span></span>

- <span data-ttu-id="d4d7a-161">Mit sicherheitskritischem Code kann jeder Code aufgerufen werden, und er ist vollständig vertrauenswürdig, kann jedoch nicht von transparentem Code aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-161">Security-critical code can call any code and is fully trusted, but it cannot be called by transparent code.</span></span>

### <a name="level-1-transparency"></a><span data-ttu-id="d4d7a-162">Transparenz der Ebene 1</span><span class="sxs-lookup"><span data-stu-id="d4d7a-162">Level 1 Transparency</span></span>

<span data-ttu-id="d4d7a-163">Das Transparenzmodell der Ebene 1 wurde in .NET Framework, Version 2.0, eingeführt, um es Entwicklern zu ermöglichen, die Codemenge zu reduzieren, die Sicherheitsüberwachung unterliegt.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-163">The level 1 transparency model was introduced in the .NET Framework version 2.0 to enable developers to reduce the amount of code that is subject to a security audit.</span></span> <span data-ttu-id="d4d7a-164">Obwohl Transparenz der Ebene 1 in Version 2.0 öffentlich verfügbar war, wurde sie hauptsächlich nur bei Microsoft für Sicherheitsüberwachungszwecke verwendet.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-164">Although level 1 transparency was publicly available in version 2.0, it was primarily used only within Microsoft for security auditing purposes.</span></span> <span data-ttu-id="d4d7a-165">Mit Anmerkungen können Entwickler deklarieren, welche Typen und Member Sicherheitserweitungen und andere vertrauenswürdige Aktionen ausführen können (sicherheitsrelevant) und welche nicht (sicherheitstransparent).</span><span class="sxs-lookup"><span data-stu-id="d4d7a-165">Through annotations, developers are able to declare which types and members can perform security elevations and other trusted actions (security-critical) and which cannot (security-transparent).</span></span> <span data-ttu-id="d4d7a-166">Code, der als transparent gekennzeichnet ist, erfordert keine umfassende Sicherheitsüberwachung.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-166">Code that is identified as transparent does not require a high degree of security auditing.</span></span> <span data-ttu-id="d4d7a-167">Transparenz der Ebene 1 gibt an, dass die Transparenzerzwingung auf die Assembly beschränkt ist.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-167">Level 1 transparency states that the transparency enforcement is limited to within the assembly.</span></span> <span data-ttu-id="d4d7a-168">Anders ausgedrückt sind alle öffentlichen Typen oder Member, die als sicherheitskritisch eingestuft werden, nur innerhalb der Assembly sicherheitskritisch.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-168">In other words, any public types or members that are identified as security-critical are security-critical only within the assembly.</span></span> <span data-ttu-id="d4d7a-169">Wenn Sie Sicherheit für diese Typen und die Member erzwingen möchten, wenn sie von außerhalb der Assembly aufgerufen werden, müssen Sie Linkaufrufe für volle Vertrauenswürdigkeit verwenden.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-169">If you want to enforce security for those types and members when they are called from outside the assembly, you must use link demands for full trust.</span></span> <span data-ttu-id="d4d7a-170">Wenn dies nicht der Fall ist, werden öffentlich sichtbare sicherheitskritische Typen und Member als sicherheitsgeschützt behandelt und von teilweise vertrauenswürdigem Code außerhalb der Assembly aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-170">If you do not, publicly visible security-critical types and members are treated as security-safe-critical and can be called by partially trusted code outside the assembly.</span></span>

<span data-ttu-id="d4d7a-171">Für das Transparenzmodell der Ebene 1 gelten die folgenden Einschränkungen:</span><span class="sxs-lookup"><span data-stu-id="d4d7a-171">The level 1 transparency model has the following limitations:</span></span>

- <span data-ttu-id="d4d7a-172">Auf sicherheitskritische Typen und Member, die öffentlich sind, kann von sicherheitstransparentem Code zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-172">Security-critical types and members that are public are accessible from security-transparent code.</span></span>

- <span data-ttu-id="d4d7a-173">Die Transparenzanmerkungen werden nur innerhalb einer Assembly erzwungen.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-173">The transparency annotations are enforced only within an assembly.</span></span>

- <span data-ttu-id="d4d7a-174">Sicherheitskritische Typen und Member müssen Sicherheit für Aufrufe von außerhalb der Assembly mithilfe von Linkaufrufen erzwingen.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-174">Security-critical types and members must use link demands to enforce security for calls from outside the assembly.</span></span>

- <span data-ttu-id="d4d7a-175">Vererbungsregeln werden nicht erzwungen.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-175">Inheritance rules are not enforced.</span></span>

- <span data-ttu-id="d4d7a-176">Es besteht die Möglichkeit, dass durch transparenten Code schädliche Vorgänge ausgeführt werden, wenn er mit voller Vertrauenswürdigkeit ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-176">The potential exists for transparent code to do harmful things when run in full trust.</span></span>

[<span data-ttu-id="d4d7a-177">Zurück nach oben</span><span class="sxs-lookup"><span data-stu-id="d4d7a-177">Back to top</span></span>](#top)

<a name="enforcement"></a>

## <a name="transparency-enforcement"></a><span data-ttu-id="d4d7a-178">Transparenzerzwingung</span><span class="sxs-lookup"><span data-stu-id="d4d7a-178">Transparency Enforcement</span></span>

<span data-ttu-id="d4d7a-179">Transparenzregeln werden erst erzwungen, wenn Transparenz berechnet wird.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-179">Transparency rules are not enforced until transparency is calculated.</span></span> <span data-ttu-id="d4d7a-180">Zu diesem Zeitpunkt wird eine <xref:System.InvalidOperationException> ausgelöst, wenn gegen eine Transparenzregel verstoßen wird.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-180">At that time, an <xref:System.InvalidOperationException> is thrown if a transparency rule is violated.</span></span> <span data-ttu-id="d4d7a-181">Die Zeit zur Berechnung der Transparenz hängt von mehreren Faktoren ab und kann nicht vorhergesagt werden.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-181">The time that transparency is calculated depends on multiple factors and cannot be predicted.</span></span> <span data-ttu-id="d4d7a-182">Sie wird so spät wie möglich berechnet.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-182">It is calculated as late as possible.</span></span> <span data-ttu-id="d4d7a-183">In .NET Framework 4 tritt ein, auf Assemblyebene transparenzberechnung schneller als in .NET Framework 2.0.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-183">In the .NET Framework 4, assembly-level transparency calculation occurs sooner than it does in the .NET Framework 2.0.</span></span> <span data-ttu-id="d4d7a-184">Es ist nur garantiert, dass die Transparenzberechnung ausgeführt wird, wenn sie benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-184">The only guarantee is that transparency calculation will occur by the time it is needed.</span></span> <span data-ttu-id="d4d7a-185">Dies ist vergleichbar mit der Änderung des Punkts durch den Just-In-Time-Compiler, an dem eine Methode kompiliert wird und Fehler in dieser Methode erkannt werden.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-185">This is similar to how the just-in-time (JIT) compiler can change the point when a method is compiled and any errors in that method are detected.</span></span> <span data-ttu-id="d4d7a-186">Die Transparenzberechnung ist unsichtbar, wenn der Code keine Transparenzfehler enthält.</span><span class="sxs-lookup"><span data-stu-id="d4d7a-186">Transparency calculation is invisible if your code does not have any transparency errors.</span></span>

## <a name="see-also"></a><span data-ttu-id="d4d7a-187">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="d4d7a-187">See also</span></span>

- [<span data-ttu-id="d4d7a-188">Sicherheitstransparenter Code, Ebene 1</span><span class="sxs-lookup"><span data-stu-id="d4d7a-188">Security-Transparent Code, Level 1</span></span>](../../../docs/framework/misc/security-transparent-code-level-1.md)
- [<span data-ttu-id="d4d7a-189">Sicherheitstransparenter Code, Ebene 2</span><span class="sxs-lookup"><span data-stu-id="d4d7a-189">Security-Transparent Code, Level 2</span></span>](../../../docs/framework/misc/security-transparent-code-level-2.md)
