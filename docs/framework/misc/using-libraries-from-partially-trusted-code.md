---
title: Verwenden von Bibliotheken aus teilweise vertrauenswürdigem Code
ms.date: 03/30/2017
helpviewer_keywords:
- security [.NET Framework], partially trusted code
- partially trusted code
- partial trust
- AllowPartiallyTrustedCallersAttribute attribute
- code access security, partially trusted code
- APTCA
ms.assetid: dd66cd4c-b087-415f-9c3e-94e3a1835f74
author: mairaw
ms.author: mairaw
ms.openlocfilehash: 8500abe590d4c85dcb5ecda54212a1ba9cc7950d
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/28/2019
ms.locfileid: "64586984"
---
# <a name="using-libraries-from-partially-trusted-code"></a><span data-ttu-id="c5bc5-102">Verwenden von Bibliotheken aus teilweise vertrauenswürdigem Code</span><span class="sxs-lookup"><span data-stu-id="c5bc5-102">Using Libraries from Partially Trusted Code</span></span>
[!INCLUDE[net_security_note](../../../includes/net-security-note-md.md)]  
  
> [!NOTE]
>  <span data-ttu-id="c5bc5-103">In diesem Thema behandelt das Verhalten von Assemblys mit starkem Namen und gilt nur für [auf Ebene 1](../../../docs/framework/misc/security-transparent-code-level-1.md) Assemblys.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-103">This topic addresses the behavior of strong-named assemblies and applies only to [Level 1](../../../docs/framework/misc/security-transparent-code-level-1.md) assemblies.</span></span> <span data-ttu-id="c5bc5-104">[Sicherheitstransparenter Code, Ebene 2](../../../docs/framework/misc/security-transparent-code-level-2.md) Assemblys in der [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)] oder höher sind von starken Namen nicht betroffen.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-104">[Security-Transparent Code, Level 2](../../../docs/framework/misc/security-transparent-code-level-2.md) assemblies in the [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)] or later are not affected by strong names.</span></span> <span data-ttu-id="c5bc5-105">Weitere Informationen zu Änderungen am Sicherheitssystem finden Sie unter [Sicherheitsänderungen](../../../docs/framework/security/security-changes.md).</span><span class="sxs-lookup"><span data-stu-id="c5bc5-105">For more information about changes to the security system, see [Security Changes](../../../docs/framework/security/security-changes.md).</span></span>  
  
 <span data-ttu-id="c5bc5-106">Anwendungen, die vom Host oder Sandkasten keine vollständige Vertrauenswürdigkeit erhalten, dürfen keine gemeinsam verwendeten verwalteten Bibliotheken aufrufen, es sei denn, der Entwickler der Bibliothek hat dies ausdrücklich durch Verwenden des <xref:System.Security.AllowPartiallyTrustedCallersAttribute>-Attributs zugelassen.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-106">Applications that receive less than full trust from their host or sandbox are not allowed to call shared managed libraries unless the library writer specifically allows them to through the use of the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> attribute.</span></span> <span data-ttu-id="c5bc5-107">Anwendungsentwickler müssen daher beachten, dass ihnen aus einem teilweise vertrauenswürdigen Kontext einige Bibliotheken nicht zur Verfügung stehen.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-107">Therefore, application writers must be aware that some libraries will not be available to them from a partially trusted context.</span></span> <span data-ttu-id="c5bc5-108">In der Standardeinstellung alle, die codeausführung in einer teilweise vertrauenswürdigen [Sandbox](../../../docs/framework/misc/how-to-run-partially-trusted-code-in-a-sandbox.md) und nicht in die Liste der vollständig vertrauenswürdigen Assemblys teilweise vertrauenswürdig ist.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-108">By default, all code that executes in a partial-trust [sandbox](../../../docs/framework/misc/how-to-run-partially-trusted-code-in-a-sandbox.md) and is not in the list of full-trust assemblies is partially trusted.</span></span> <span data-ttu-id="c5bc5-109">Wenn Sie nicht erwarten, dass Ihr Code aus einem teilweise vertrauenswürdigen Kontext heraus ausgeführt oder aus teilweise vertrauenswürdigem Code aufgerufen wird, müssen Sie die Informationen in diesem Abschnitt nicht beachten.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-109">If you do not expect your code to be executed from a partially trusted context or to be called by partially trusted code, you do not have to be concerned about the information in this section.</span></span> <span data-ttu-id="c5bc5-110">Wenn Sie jedoch Code schreiben, der mit teilweise vertrauenswürdigem Code zusammenwirken oder aus einem teilweise vertrauenswürdigen Kontext ausgeführt werden muss, sollten Sie folgende Faktoren berücksichtigen:</span><span class="sxs-lookup"><span data-stu-id="c5bc5-110">However, if you write code that must interact with partially trusted code or operate from a partially trusted context, you should consider the following factors:</span></span>  
  
- <span data-ttu-id="c5bc5-111">Bibliotheken müssen mit einem starken Namen signiert sein, damit sie von mehreren Anwendungen gemeinsam genutzt werden können.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-111">Libraries must be signed with a strong name in order to be shared by multiple applications.</span></span> <span data-ttu-id="c5bc5-112">Starke Namen ermöglichen, dass Ihr Code im globalen Assemblycache platziert oder zur Liste für vollständige Vertrauenswürdigkeit einer Sandkasten-<xref:System.AppDomain> hinzugefügt werden kann, und ermöglichen Kunden festzustellen, dass ein bestimmter Teil mobilen Codes tatsächlich von Ihnen stammt.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-112">Strong names allow your code to be placed in the global assembly cache or added to the full-trust list of a sandboxing <xref:System.AppDomain>, and allow consumers to verify that a particular piece of mobile code actually originates from you.</span></span>  
  
- <span data-ttu-id="c5bc5-113">In der Standardeinstellung starkem [auf Ebene 1](../../../docs/framework/misc/security-transparent-code-level-1.md) freigegebene Bibliotheken führen Sie ein implizites [LinkDemand](../../../docs/framework/misc/link-demands.md) für vollständige Vertrauenswürdigkeit automatisch, ohne Sie zu der Bibliothek hat, müssen nichts weiter tun.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-113">By default, strong-named [Level 1](../../../docs/framework/misc/security-transparent-code-level-1.md) shared libraries perform an implicit [LinkDemand](../../../docs/framework/misc/link-demands.md) for full trust automatically, without the library writer having to do anything.</span></span>  
  
- <span data-ttu-id="c5bc5-114">Wenn ein Aufrufer nicht vollständig vertrauenswürdig ist, aber trotzdem versucht, eine solche Bibliothek aufzurufen, löst die Runtime eine <xref:System.Security.SecurityException> aus, und der Aufrufer kann keine Verbindung mit der Bibliothek herstellen</span><span class="sxs-lookup"><span data-stu-id="c5bc5-114">If a caller does not have full trust but still tries to call such a library, the runtime throws a <xref:System.Security.SecurityException> and the caller is not allowed to link to the library.</span></span>  
  
- <span data-ttu-id="c5bc5-115">Zum Deaktivieren der automatischen **LinkDemand** und zu verhindern, dass die Ausnahme ausgelöst wird, können Sie platzieren die **AllowPartiallyTrustedCallersAttribute** -Attribut im assemblygültigkeitsbereich einer freigegebenen -Bibliothek.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-115">In order to disable the automatic **LinkDemand** and prevent the exception from being thrown, you can place the **AllowPartiallyTrustedCallersAttribute** attribute on the assembly scope of a shared library.</span></span> <span data-ttu-id="c5bc5-116">Dieses Attribut ermöglicht, dass Ihre Bibliotheken aus teilweise vertrauenswürdigem verwaltetem Code heraus aufgerufen werden können.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-116">This attribute allows your libraries to be called from partially trusted managed code.</span></span>  
  
- <span data-ttu-id="c5bc5-117">Teilweise vertrauenswürdiger Code, dem durch dieses Attribut Zugriff auf eine Bibliothek gewährt wird, unterliegt nach wie vor weiteren Beschränkungen, die durch die <xref:System.AppDomain> definiert sind.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-117">Partially trusted code that is granted access to a library with this attribute is still subject to further restrictions defined by the <xref:System.AppDomain>.</span></span>  
  
- <span data-ttu-id="c5bc5-118">Es gibt keine programmgesteuerte Möglichkeit für teilweise vertrauenswürdigen Code zum Aufrufen einer Bibliothek, die nicht die **AllowPartiallyTrustedCallersAttribute** Attribut.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-118">There is no programmatic way for partially trusted code to call a library that does not have the **AllowPartiallyTrustedCallersAttribute** attribute.</span></span>  
  
 <span data-ttu-id="c5bc5-119">Bibliotheken, die für eine bestimmte Anwendung privat sind, erfordern keine starken Namen oder die **AllowPartiallyTrustedCallersAttribute** Attribut, und kann nicht durch potenziell bösartigen Code außerhalb der Anwendung verwiesen werden.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-119">Libraries that are private to a specific application do not require a strong name or the **AllowPartiallyTrustedCallersAttribute** attribute and cannot be referenced by potentially malicious code outside the application.</span></span> <span data-ttu-id="c5bc5-120">Solcher Code ist gegen beabsichtigten oder unbeabsichtigten Missbrauch durch teilweise vertrauenswürdigen mobilen Code geschützt, ohne dass Entwickler zusätzlich aktiv werden müssen.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-120">Such code is protected against intentional or unintentional misuse by partially trusted mobile code without the developer having to do anything extra.</span></span>  
  
 <span data-ttu-id="c5bc5-121">Bei folgenden Codetypen sollten Sie in Betracht ziehen, die Verwendung durch teilweise vertrauenswürdigen Code explizit zuzulassen: </span><span class="sxs-lookup"><span data-stu-id="c5bc5-121">You should consider explicitly enabling use by partially trusted code for the following types of code:</span></span>  
  
- <span data-ttu-id="c5bc5-122">Code, der sorgfältig auf Sicherheitsrisiken getestet wurde und wird in Übereinstimmung mit den Richtlinien unter [Secure Coding Guidelines](../../../docs/standard/security/secure-coding-guidelines.md).</span><span class="sxs-lookup"><span data-stu-id="c5bc5-122">Code that has been diligently tested for security vulnerabilities and is in compliance with the guidelines described in [Secure Coding Guidelines](../../../docs/standard/security/secure-coding-guidelines.md).</span></span>  
  
- <span data-ttu-id="c5bc5-123">Codebibliotheken mit starkem Namen, die speziell für Szenarios geschrieben wurden, in denen teilweise Vertrauenswürdigkeit zu beachten ist.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-123">Strong-named code libraries that are specifically written for partially trusted scenarios.</span></span>  
  
- <span data-ttu-id="c5bc5-124">Alle (teilweise oder vollständig vertrauenswürdigen) Komponenten, die mit einem starken Namen signiert sind und von Code aufgerufen werden, der aus dem Internet heruntergeladen wurde.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-124">Any components (whether partially or fully trusted) signed with a strong name that will be called by code that is downloaded from the Internet.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c5bc5-125">Einige Klassen in der .NET Framework-Klassenbibliothek müssen nicht die **AllowPartiallyTrustedCallersAttribute** Attribut, und kann nicht von teilweise vertrauenswürdigem Code aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="c5bc5-125">Some classes in the .NET Framework class library do not have the **AllowPartiallyTrustedCallersAttribute** attribute and cannot be called by partially trusted code.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c5bc5-126">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="c5bc5-126">See also</span></span>

- [<span data-ttu-id="c5bc5-127">Codezugriffssicherheit</span><span class="sxs-lookup"><span data-stu-id="c5bc5-127">Code Access Security</span></span>](../../../docs/framework/misc/code-access-security.md)
