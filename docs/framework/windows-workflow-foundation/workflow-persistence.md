---
title: Workflowpersistenz
ms.date: 03/30/2017
helpviewer_keywords:
- programming [WF], persistence
ms.assetid: 39e69d1f-b771-4c16-9e18-696fa43b65b2
ms.openlocfilehash: c49e287c6132103d4bb85a8ae892a76f9b582274
ms.sourcegitcommit: a4f9b754059f0210e29ae0578363a27b9ba84b64
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/05/2019
ms.locfileid: "74837531"
---
# <a name="workflow-persistence"></a><span data-ttu-id="b9625-102">Workflowpersistenz</span><span class="sxs-lookup"><span data-stu-id="b9625-102">Workflow Persistence</span></span>
<span data-ttu-id="b9625-103">Workflowpersistenz bezeichnet die dauerhafte Erfassung des Zustands einer Workflowinstanz unabhängig von Prozess- oder Computerinformationen.</span><span class="sxs-lookup"><span data-stu-id="b9625-103">Workflow persistence is the durable capture of a workflow instance's state, independent of process or computer information.</span></span> <span data-ttu-id="b9625-104">Sie wird durchgeführt, um einen bekannten Wiederherstellungspunkt für die Workflowinstanz im Fall eines Systemfehlers bereitzustellen oder um Arbeitsspeicher beizubehalten, indem Workflowinstanzen entladen werden, die gerade nicht aktiv sind, bzw. um den Zustand der Workflowinstanz von einem Knoten zu einem anderen Knoten in einer Serverfarm zu verschieben.</span><span class="sxs-lookup"><span data-stu-id="b9625-104">This is done to provide a well-known point of recovery for the workflow instance in the event of system failure, or to preserve memory by unloading workflow instances that are not actively doing work, or to move the state of the workflow instance from one node to another node in a server farm.</span></span>  
  
 <span data-ttu-id="b9625-105">Die Persistenz aktiviert die Flexibilität, Skalierbarkeit und Wiederherstellung von Prozessen bei einem Fehler und bietet die Möglichkeit, den Arbeitsspeicher effizienter zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="b9625-105">Persistence enables process agility, scalability, recovery in the face of failure, and the ability to manage memory more efficiently.</span></span> <span data-ttu-id="b9625-106">Der Persistenzvorgang umfasst die Identifikation eines Persistenzpunkts, das Sammeln der zu speichernden Daten und schließlich die Delegierung des tatsächlichen Speichers der Daten an einen Persistenzanbieter.</span><span class="sxs-lookup"><span data-stu-id="b9625-106">The persistence process includes the identification of a persistence point, the gathering of the data to be saved, and finally the delegation of the actual storage of the data to a persistence provider.</span></span>  
  
 <span data-ttu-id="b9625-107">Um die Persistenz für einen Workflow zu aktivieren, müssen Sie der **WorkflowApplication** oder Workflow **Service Host** einen Instanzspeicher zuordnen, wie unter Gewusst [wie: Aktivieren der Persistenz für Workflows und Workflow Dienste](how-to-enable-persistence-for-workflows-and-workflow-services.md)beschrieben.</span><span class="sxs-lookup"><span data-stu-id="b9625-107">To enable persistence for a workflow, you need to associate an instance store with the **WorkflowApplication** or **WorkflowServiceHost** as mentioned in [How to: Enable Persistence for Workflows and Workflow Services](how-to-enable-persistence-for-workflows-and-workflow-services.md).</span></span> <span data-ttu-id="b9625-108">Die Workflow **Application** und Workflow **Service Host** verwenden den Instanzspeicher, der Ihnen zugeordnet ist, um das Beibehalten von Workflow Instanzen in einen Persistenzspeicher und das Laden von Workflow Instanzen in den Arbeitsspeicher auf Grundlage der im Beibehaltungs Speicher gespeicherten Workflowinstanzdaten zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="b9625-108">The **WorkflowApplication** and **WorkflowServiceHost** use the instance store associated with them to enable persisting workflow instances into a persistence store and loading workflow instances into memory based on the workflow instance data stored in the persistence store.</span></span>  
  
 <span data-ttu-id="b9625-109">Der [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] wird mit der **SqlWorkflowInstanceStore** -Klasse ausgeliefert, die die Persistenz von Daten und Metadaten zu Workflow Instanzen in eine SQL Server 2005-oder SQL Server 2008-Datenbank ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="b9625-109">The [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] ships with the **SqlWorkflowInstanceStore** class, which allows persistence of data and metadata about workflow instances into a SQL Server 2005 or SQL Server 2008 database.</span></span> <span data-ttu-id="b9625-110">Weitere Informationen finden Sie unter [SQL-workflowinstanzspeicher](sql-workflow-instance-store.md) .</span><span class="sxs-lookup"><span data-stu-id="b9625-110">See [SQL Workflow Instance Store](sql-workflow-instance-store.md) for more details.</span></span>  
  
 <span data-ttu-id="b9625-111">Zum Speichern und Laden Ihrer anwendungsspezifischen Daten zusammen mit den Informationen zur Workflowinstanz können Sie Persistenzteilnehmer erstellen, die die <xref:System.Activities.Persistence.PersistenceParticipant>-Klasse erweitern.</span><span class="sxs-lookup"><span data-stu-id="b9625-111">To store and load your application-specific data along with the workflow instance-related information, you can create persistence participants that extend the <xref:System.Activities.Persistence.PersistenceParticipant> class.</span></span> <span data-ttu-id="b9625-112">Ein Persistenzteilnehmer nimmt am Persistenzvorgang teil, um benutzerdefinierte serialisierbare Daten in den persistenten Speicher zu speichern, die Daten aus dem Instanzspeicher in den Arbeitsspeicher zu laden und ggf. die zusätzliche Logik einer Persistenztransaktion auszuführen.</span><span class="sxs-lookup"><span data-stu-id="b9625-112">A persistence participant participates in the persistence process to save custom serializable data into the persistence store, to load the data from the instance store into memory, and to perform any additional logic under a persistence transaction.</span></span> <span data-ttu-id="b9625-113">Weitere Informationen finden Sie unter [persistenzteilnehmer](persistence-participants.md).</span><span class="sxs-lookup"><span data-stu-id="b9625-113">For more information, see [Persistence Participants](persistence-participants.md).</span></span>  
  
 <span data-ttu-id="b9625-114">Windows Server AppFabric vereinfacht die Konfiguration von Persistenz.</span><span class="sxs-lookup"><span data-stu-id="b9625-114">Windows Server App Fabric simplifies the process of configuring persistence.</span></span> <span data-ttu-id="b9625-115">Weitere Informationen finden Sie unter [Persistenzkonzepte mit Windows Server-App-Fabric](https://docs.microsoft.com/previous-versions/appfabric/ee677272(v=azure.10)) .</span><span class="sxs-lookup"><span data-stu-id="b9625-115">For more information, see [Persistence Concepts with Windows Server App Fabric](https://docs.microsoft.com/previous-versions/appfabric/ee677272(v=azure.10))</span></span>  
  
## <a name="implicit-persistence-points"></a><span data-ttu-id="b9625-116">Implizite Persistenzpunkte</span><span class="sxs-lookup"><span data-stu-id="b9625-116">Implicit Persistence Points</span></span>  
 <span data-ttu-id="b9625-117">Die folgende Liste enthält Beispiele der Bedingungen, zu denen ein Workflow beibehalten wird, wenn ein Instanzspeicher einem Workflow zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="b9625-117">The following list contains examples of the conditions upon which a workflow is persisted when an instance store is associated with a workflow.</span></span>  
  
- <span data-ttu-id="b9625-118">Wenn eine **transaktionscope** -Aktivität abgeschlossen ist oder eine **transactedreceivescope** -Aktivität abgeschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="b9625-118">When a **TransactionScope** activity completes or a **TransactedReceiveScope** activity completes.</span></span>  
  
- <span data-ttu-id="b9625-119">Wenn eine Workflow Instanz in den Leerlauf wechselt und **workflowidlebehavior** auf dem Workflow Host festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="b9625-119">When a workflow instance becomes idle and the **WorkflowIdleBehavior** is set on workflow host.</span></span> <span data-ttu-id="b9625-120">Dies tritt z. b. auf, wenn Sie Messaging Aktivitäten oder eine **Verzögerungs** Aktivität verwenden.</span><span class="sxs-lookup"><span data-stu-id="b9625-120">This occurs, for example, when you use messaging activities or a **Delay** activity.</span></span>  
  
- <span data-ttu-id="b9625-121">Wenn eine WorkflowApplication in den Leerlauf wechselt und die **PersistableIdle** -Eigenschaft der Anwendung auf **persistableidleaction. persistent**festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="b9625-121">When a WorkflowApplication becomes idle and the **PersistableIdle** property of the application is set to **PersistableIdleAction.Persist**.</span></span>  
  
- <span data-ttu-id="b9625-122">Wenn eine Hostanwendung angewiesen ist, eine Workflowinstanz beizubehalten oder zu entladen.</span><span class="sxs-lookup"><span data-stu-id="b9625-122">When a host application is instructed to persist or unload a workflow instance.</span></span>  
  
- <span data-ttu-id="b9625-123">Wenn eine Workflowinstanz beendet oder fertig gestellt wird.</span><span class="sxs-lookup"><span data-stu-id="b9625-123">When a workflow instance is terminated or finishes.</span></span>  
  
- <span data-ttu-id="b9625-124">Wenn eine **persistenzaktivität** ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="b9625-124">When a **Persist** activity executes.</span></span>  
  
- <span data-ttu-id="b9625-125">Wenn eine Instanz eines Workflows, die mit einer früheren Version von Windows Workflow Foundation entwickelt wurde, während einer interoperablen Ausführung auf einen Persistenzpunkt trifft.</span><span class="sxs-lookup"><span data-stu-id="b9625-125">When an instance of a workflow developed using a previous version of Windows Workflow Foundation encounters a persistence point during interoperable execution.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="b9625-126">In diesem Abschnitt</span><span class="sxs-lookup"><span data-stu-id="b9625-126">In This Section</span></span>  
  
- [<span data-ttu-id="b9625-127">SQL-Workflowinstanzspeicher</span><span class="sxs-lookup"><span data-stu-id="b9625-127">SQL Workflow Instance Store</span></span>](sql-workflow-instance-store.md)  
  
- [<span data-ttu-id="b9625-128">Instanzspeicher</span><span class="sxs-lookup"><span data-stu-id="b9625-128">Instance Stores</span></span>](instance-stores.md)  
  
- [<span data-ttu-id="b9625-129">Persistenzteilnehmer</span><span class="sxs-lookup"><span data-stu-id="b9625-129">Persistence Participants</span></span>](persistence-participants.md)  
  
- [<span data-ttu-id="b9625-130">Empfohlene Vorgehensweisen für die Persistenz</span><span class="sxs-lookup"><span data-stu-id="b9625-130">Persistence Best Practices</span></span>](persistence-best-practices.md)  
  
- [<span data-ttu-id="b9625-131">Nicht beibehaltene Workflowinstanzen</span><span class="sxs-lookup"><span data-stu-id="b9625-131">Non-Persisted Workflow Instances</span></span>](non-persisted-workflow-instances.md)  
  
- [<span data-ttu-id="b9625-132">Anhalten und Fortsetzen eines Workflows</span><span class="sxs-lookup"><span data-stu-id="b9625-132">Pausing and Resuming a Workflow</span></span>](pausing-and-resuming-a-workflow.md)
