---
title: Übersicht über das WPF-Grafikrendering
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- graphics [WPF], rendering
- rendering graphics [WPF]
ms.assetid: 6dec9657-4d8c-4e46-8c54-40fb80008265
ms.openlocfilehash: 6ec6d9fc4cff01c020f2e100b8371b1ff744b076
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/28/2019
ms.locfileid: "64614492"
---
# <a name="wpf-graphics-rendering-overview"></a><span data-ttu-id="a3dd9-102">Übersicht über das WPF-Grafikrendering</span><span class="sxs-lookup"><span data-stu-id="a3dd9-102">WPF Graphics Rendering Overview</span></span>
<span data-ttu-id="a3dd9-103">Das Thema bietet einen Überblick über die visuelle [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Schicht.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-103">This topic provides an overview of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] visual layer.</span></span> <span data-ttu-id="a3dd9-104">Es konzentriert sich auf die Rolle der <xref:System.Windows.Media.Visual> Klasse zum Rendern der Unterstützung in der [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Modell.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-104">It focuses on the role of the <xref:System.Windows.Media.Visual> class for rendering support in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] model.</span></span>  

<a name="role_of_visual_object"></a>   
## <a name="role-of-the-visual-object"></a><span data-ttu-id="a3dd9-105">Rolle des visuellen Objekts</span><span class="sxs-lookup"><span data-stu-id="a3dd9-105">Role of the Visual Object</span></span>  
 <span data-ttu-id="a3dd9-106">Die <xref:System.Windows.Media.Visual> Klasse ist die grundlegende Abstraktion, von dem alle <xref:System.Windows.FrameworkElement> Objekt abgeleitet wurde.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-106">The <xref:System.Windows.Media.Visual> class is the basic abstraction from which every <xref:System.Windows.FrameworkElement> object derives.</span></span> <span data-ttu-id="a3dd9-107">Sie dient auch als Einstiegspunkt zum Schreiben neuer Steuerelemente [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] und kann in vielerlei Hinsicht als Fensterhandle (HWND) im Win32-Anwendungsmodell betrachtet werden.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-107">It also serves as the entry point for writing new controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], and in many ways can be thought of as the window handle (HWND) in the Win32 application model.</span></span>  
  
 <span data-ttu-id="a3dd9-108">Die <xref:System.Windows.Media.Visual> Objekt ist ein zentrales [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Objekt, dessen primäre Rolle Unterstützung des Rendering ist.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-108">The <xref:System.Windows.Media.Visual> object is a core [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] object, whose primary role is to provide rendering support.</span></span> <span data-ttu-id="a3dd9-109">Steuerelemente der Benutzeroberfläche, z. B. <xref:System.Windows.Controls.Button> und <xref:System.Windows.Controls.TextBox>, leiten Sie von der <xref:System.Windows.Media.Visual> Klasse, und verwenden sie zum Speichern ihrer Rendering-Daten.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-109">User interface controls, such as <xref:System.Windows.Controls.Button> and <xref:System.Windows.Controls.TextBox>, derive from the <xref:System.Windows.Media.Visual> class, and use it for persisting their rendering data.</span></span> <span data-ttu-id="a3dd9-110">Die <xref:System.Windows.Media.Visual> -Objekt bietet Unterstützung für:</span><span class="sxs-lookup"><span data-stu-id="a3dd9-110">The <xref:System.Windows.Media.Visual> object provides support for:</span></span>  
  
- <span data-ttu-id="a3dd9-111">Ausgabeanzeige: Rendering der persistenten, serialisierten Zeichnungsinhalts eines visuellen Objekts.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-111">Output display: Rendering the persisted, serialized drawing content of a visual.</span></span>  
  
- <span data-ttu-id="a3dd9-112">Transformationen: Ausführen von Transformationen auf ein visuelles Element.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-112">Transformations: Performing transformations on a visual.</span></span>  
  
- <span data-ttu-id="a3dd9-113">Clipping: Bereitstellen der clippingbereichsunterstützung für ein Visual.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-113">Clipping: Providing clipping region support for a visual.</span></span>  
  
- <span data-ttu-id="a3dd9-114">Treffertests: Bestimmen, ob eine Koordinate oder eine Geometrie innerhalb der Grenzen eines visuellen Objekts enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-114">Hit testing: Determining whether a coordinate or geometry is contained within the bounds of a visual.</span></span>  
  
- <span data-ttu-id="a3dd9-115">Berechnungen für umgebende Felder: Bestimmen das umschließende Rechteck eines visuellen Objekts.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-115">Bounding box calculations: Determining the bounding rectangle of a visual.</span></span>  
  
 <span data-ttu-id="a3dd9-116">Allerdings die <xref:System.Windows.Media.Visual> Objekt bietet keine Unterstützung für Features außerhalb des Renderings, z.B.:</span><span class="sxs-lookup"><span data-stu-id="a3dd9-116">However, the <xref:System.Windows.Media.Visual> object does not include support for non-rendering features, such as:</span></span>  
  
- <span data-ttu-id="a3dd9-117">Ereignisbehandlung</span><span class="sxs-lookup"><span data-stu-id="a3dd9-117">Event handling</span></span>  
  
- <span data-ttu-id="a3dd9-118">Layout</span><span class="sxs-lookup"><span data-stu-id="a3dd9-118">Layout</span></span>  
  
- <span data-ttu-id="a3dd9-119">Stile</span><span class="sxs-lookup"><span data-stu-id="a3dd9-119">Styles</span></span>  
  
- <span data-ttu-id="a3dd9-120">Datenbindung</span><span class="sxs-lookup"><span data-stu-id="a3dd9-120">Data binding</span></span>  
  
- <span data-ttu-id="a3dd9-121">Globalisierung</span><span class="sxs-lookup"><span data-stu-id="a3dd9-121">Globalization</span></span>  
  
 <span data-ttu-id="a3dd9-122"><xref:System.Windows.Media.Visual> wird als öffentliche abstrakte Klasse verfügbar gemacht werden von der untergeordnete Klassen abgeleitet werden müssen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-122"><xref:System.Windows.Media.Visual> is exposed as a public abstract class from which child classes must be derived.</span></span> <span data-ttu-id="a3dd9-123">Die folgende Abbildung zeigt die Hierarchie der visuellen Objekte, die in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] verfügbar gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-123">The following illustration shows the hierarchy of the visual objects that are exposed in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
 ![Diagramm der vom Visual-Objekt abgeleiteten Klassen](./media/wpf-graphics-rendering-overview/classes-derived-visual-object.png)    
  
### <a name="drawingvisual-class"></a><span data-ttu-id="a3dd9-125">DrawingVisual-Klasse</span><span class="sxs-lookup"><span data-stu-id="a3dd9-125">DrawingVisual Class</span></span>  
 <span data-ttu-id="a3dd9-126">Die <xref:System.Windows.Media.DrawingVisual> ist eine einfache Klasse, die zum Rendern von Formen, Bildern oder Text verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-126">The <xref:System.Windows.Media.DrawingVisual> is a lightweight drawing class that is used to render shapes, images, or text.</span></span> <span data-ttu-id="a3dd9-127">Diese Klasse wird als einfach angesehen, da sie keine Layout- oder Ereignisbehandlung bereitstellt, was die Laufzeitleistung verbessert.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-127">This class is considered lightweight because it does not provide layout or event handling, which improves its runtime performance.</span></span> <span data-ttu-id="a3dd9-128">Aus diesem Grund sind Zeichnungen für Hintergründe und ClipArt ideal.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-128">For this reason, drawings are ideal for backgrounds and clip art.</span></span> <span data-ttu-id="a3dd9-129">Die <xref:System.Windows.Media.DrawingVisual> können verwendet werden, um ein benutzerdefiniertes visuelles Objekt erstellen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-129">The <xref:System.Windows.Media.DrawingVisual> can be used to create a custom visual object.</span></span> <span data-ttu-id="a3dd9-130">Weitere Informationen finden Sie unter [Verwenden von DrawingVisual-Objekten](using-drawingvisual-objects.md).</span><span class="sxs-lookup"><span data-stu-id="a3dd9-130">For more information, see [Using DrawingVisual Objects](using-drawingvisual-objects.md).</span></span>  
  
### <a name="viewport3dvisual-class"></a><span data-ttu-id="a3dd9-131">Viewport3DVisual-Klasse</span><span class="sxs-lookup"><span data-stu-id="a3dd9-131">Viewport3DVisual Class</span></span>  
 <span data-ttu-id="a3dd9-132">Die <xref:System.Windows.Media.Media3D.Viewport3DVisual> stellt eine Brücke zwischen 2D <xref:System.Windows.Media.Visual> und <xref:System.Windows.Media.Media3D.Visual3D> Objekte.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-132">The <xref:System.Windows.Media.Media3D.Viewport3DVisual> provides a bridge between 2D <xref:System.Windows.Media.Visual> and <xref:System.Windows.Media.Media3D.Visual3D> objects.</span></span> <span data-ttu-id="a3dd9-133">Die <xref:System.Windows.Media.Media3D.Visual3D> -Klasse ist die Basisklasse für alle visuellen 3D-Elemente.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-133">The <xref:System.Windows.Media.Media3D.Visual3D> class is the base class for all 3D visual elements.</span></span> <span data-ttu-id="a3dd9-134">Die <xref:System.Windows.Media.Media3D.Viewport3DVisual> erfordert, dass Sie definieren eine <xref:System.Windows.Media.Media3D.Viewport3DVisual.Camera%2A> Wert und einem <xref:System.Windows.Media.Media3D.Viewport3DVisual.Viewport%2A> Wert.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-134">The <xref:System.Windows.Media.Media3D.Viewport3DVisual> requires that you define a <xref:System.Windows.Media.Media3D.Viewport3DVisual.Camera%2A> value and a <xref:System.Windows.Media.Media3D.Viewport3DVisual.Viewport%2A> value.</span></span> <span data-ttu-id="a3dd9-135">Die Kamera ermöglicht die Anzeige der Szene.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-135">The camera allows you to view the scene.</span></span> <span data-ttu-id="a3dd9-136">Der Anzeigebereich legt fest, wo die Projektion auf der 2D-Fläche zuordnet.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-136">The viewport establishes where the projection maps onto the 2D surface.</span></span> <span data-ttu-id="a3dd9-137">Weitere Informationen über 3D in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] finden Sie unter [Übersicht über 3D-Grafiken](3-d-graphics-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a3dd9-137">For more information on 3D in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [3-D Graphics Overview](3-d-graphics-overview.md).</span></span>  
  
### <a name="containervisual-class"></a><span data-ttu-id="a3dd9-138">ContainerVisual-Klasse</span><span class="sxs-lookup"><span data-stu-id="a3dd9-138">ContainerVisual Class</span></span>  
 <span data-ttu-id="a3dd9-139">Die <xref:System.Windows.Media.ContainerVisual> Klasse dient als Container für eine Auflistung von <xref:System.Windows.Media.Visual> Objekte.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-139">The <xref:System.Windows.Media.ContainerVisual> class is used as a container for a collection of <xref:System.Windows.Media.Visual> objects.</span></span> <span data-ttu-id="a3dd9-140">Die <xref:System.Windows.Media.DrawingVisual> Klasse leitet sich von der <xref:System.Windows.Media.ContainerVisual> -Klasse, sodass sie eine Sammlung von visuellen Objekten enthalten.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-140">The <xref:System.Windows.Media.DrawingVisual> class derives from the <xref:System.Windows.Media.ContainerVisual> class, allowing it to contain a collection of visual objects.</span></span>  
  
### <a name="drawing-content-in-visual-objects"></a><span data-ttu-id="a3dd9-141">Zeichnungsinhalt in visuellen Objekten</span><span class="sxs-lookup"><span data-stu-id="a3dd9-141">Drawing Content in Visual Objects</span></span>  
 <span data-ttu-id="a3dd9-142">Ein <xref:System.Windows.Media.Visual> -Objekt speichert seine Renderingdaten als eine **Anweisungsliste für Vektorgrafiken**.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-142">A <xref:System.Windows.Media.Visual> object stores its render data as a **vector graphics instruction list**.</span></span> <span data-ttu-id="a3dd9-143">Jedes Element in der Anweisungsliste stellt einen Satz von Grafikdaten einer niedrigeren Ebene und dazugehörige Ressourcen in einem serialisierten Format dar.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-143">Each item in the instruction list represents a low-level set of graphics data and associated resources in a serialized format.</span></span> <span data-ttu-id="a3dd9-144">Es gibt vier verschiedene Typen von Renderingdaten, die Zeichnungsinhalt enthalten können.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-144">There are four different types of render data that can contain drawing content.</span></span>  
  
|<span data-ttu-id="a3dd9-145">Zeichnungsinhaltstyp</span><span class="sxs-lookup"><span data-stu-id="a3dd9-145">Drawing content type</span></span>|<span data-ttu-id="a3dd9-146">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="a3dd9-146">Description</span></span>|  
|--------------------------|-----------------|  
|<span data-ttu-id="a3dd9-147">Vektorgrafik</span><span class="sxs-lookup"><span data-stu-id="a3dd9-147">Vector graphics</span></span>|<span data-ttu-id="a3dd9-148">Stellt vector Graphics-Daten und alle zugehörigen <xref:System.Windows.Media.Brush> und <xref:System.Windows.Media.Pen> Informationen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-148">Represents vector graphics data, and any associated <xref:System.Windows.Media.Brush> and <xref:System.Windows.Media.Pen> information.</span></span>|  
|<span data-ttu-id="a3dd9-149">Bild</span><span class="sxs-lookup"><span data-stu-id="a3dd9-149">Image</span></span>|<span data-ttu-id="a3dd9-150">Stellt ein Bild innerhalb einer Region, definiert durch eine <xref:System.Windows.Rect>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-150">Represents an image within a region defined by a <xref:System.Windows.Rect>.</span></span>|  
|<span data-ttu-id="a3dd9-151">Glyphe</span><span class="sxs-lookup"><span data-stu-id="a3dd9-151">Glyph</span></span>|<span data-ttu-id="a3dd9-152">Stellt eine Zeichnung, die rendert eine <xref:System.Windows.Media.GlyphRun>, dies ist eine Sequenz von Symbolen aus einer angegebenen schriftartenressource.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-152">Represents a drawing that renders a <xref:System.Windows.Media.GlyphRun>, which is a sequence of glyphs from a specified font resource.</span></span> <span data-ttu-id="a3dd9-153">So wird Text dargestellt.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-153">This is how text is represented.</span></span>|  
|<span data-ttu-id="a3dd9-154">Video</span><span class="sxs-lookup"><span data-stu-id="a3dd9-154">Video</span></span>|<span data-ttu-id="a3dd9-155">Stellt eine Zeichnung dar, die Video rendert.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-155">Represents a drawing that renders video.</span></span>|  
  
 <span data-ttu-id="a3dd9-156">Die <xref:System.Windows.Media.DrawingContext> können Sie zum Auffüllen einer <xref:System.Windows.Media.Visual> mit visuellem Inhalt.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-156">The <xref:System.Windows.Media.DrawingContext> allows you to populate a <xref:System.Windows.Media.Visual> with visual content.</span></span> <span data-ttu-id="a3dd9-157">Bei Verwendung einer <xref:System.Windows.Media.DrawingContext> des Objekts zeichnen-Befehle, speichern Sie einen Satz von Renderingdaten, die später vom Grafiksystem verwendet werden; Sie zeichnen nicht in Echtzeit auf dem Bildschirm.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-157">When you use a <xref:System.Windows.Media.DrawingContext> object's draw commands, you are actually storing a set of render data that will later be used by the graphics system; you are not drawing to the screen in real-time.</span></span>  
  
 <span data-ttu-id="a3dd9-158">Bei der Erstellung einer [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] zu steuern, wie z. B. eine <xref:System.Windows.Controls.Button>, generiert das Steuerelement implizit Renderdaten für sich selbst zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-158">When you create a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] control, such as a <xref:System.Windows.Controls.Button>, the control implicitly generates render data for drawing itself.</span></span> <span data-ttu-id="a3dd9-159">Z. B. die <xref:System.Windows.Controls.ContentControl.Content%2A> Eigenschaft der <xref:System.Windows.Controls.Button> bewirkt, dass das Steuerelement eine Renderingdarstellung einer Glyphe zu speichern.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-159">For example, setting the <xref:System.Windows.Controls.ContentControl.Content%2A> property of the <xref:System.Windows.Controls.Button> causes the control to store a rendering representation of a glyph.</span></span>  
  
 <span data-ttu-id="a3dd9-160">Ein <xref:System.Windows.Media.Visual> beschreibt den eigenen Inhalt als ein oder mehrere <xref:System.Windows.Media.Drawing> darin enthaltenen Objekte einen <xref:System.Windows.Media.DrawingGroup>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-160">A <xref:System.Windows.Media.Visual> describes its content as one or more <xref:System.Windows.Media.Drawing> objects contained within a <xref:System.Windows.Media.DrawingGroup>.</span></span> <span data-ttu-id="a3dd9-161">Ein <xref:System.Windows.Media.DrawingGroup> beschreibt außerdem Durchlässigkeitsmasken, Transformationen, Bitmapeffekte und andere Vorgänge, die auf ihre Inhalte angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-161">A <xref:System.Windows.Media.DrawingGroup> also describes opacity masks, transforms, bitmap effects, and other operations that are applied to its contents.</span></span> <span data-ttu-id="a3dd9-162"><xref:System.Windows.Media.DrawingGroup> Vorgänge werden in der folgenden Reihenfolge angewendet, wenn der Inhalt gerendert wird: <xref:System.Windows.Media.DrawingGroup.OpacityMask%2A>, <xref:System.Windows.Media.DrawingGroup.Opacity%2A>, <xref:System.Windows.Media.DrawingGroup.BitmapEffect%2A>, <xref:System.Windows.Media.DrawingGroup.ClipGeometry%2A>, <xref:System.Windows.Media.DrawingGroup.GuidelineSet%2A>, und klicken Sie dann <xref:System.Windows.Media.DrawingGroup.Transform%2A>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-162"><xref:System.Windows.Media.DrawingGroup> operations are applied in the following order when content is rendered: <xref:System.Windows.Media.DrawingGroup.OpacityMask%2A>, <xref:System.Windows.Media.DrawingGroup.Opacity%2A>, <xref:System.Windows.Media.DrawingGroup.BitmapEffect%2A>, <xref:System.Windows.Media.DrawingGroup.ClipGeometry%2A>, <xref:System.Windows.Media.DrawingGroup.GuidelineSet%2A>, and then <xref:System.Windows.Media.DrawingGroup.Transform%2A>.</span></span>  
  
 <span data-ttu-id="a3dd9-163">Die folgende Abbildung zeigt die Reihenfolge, in dem <xref:System.Windows.Media.DrawingGroup> Vorgänge während der Renderingsequenz angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-163">The following illustration shows the order in which <xref:System.Windows.Media.DrawingGroup> operations are applied during the rendering sequence.</span></span>  
  
 <span data-ttu-id="a3dd9-164">![DrawingGroup-Reihenfolge der Vorgänge](./media/graphcismm-drawinggroup-order.png "Graphcismm_drawinggroup_order")</span><span class="sxs-lookup"><span data-stu-id="a3dd9-164">![DrawingGroup order of operations](./media/graphcismm-drawinggroup-order.png "graphcismm_drawinggroup_order")</span></span>  
<span data-ttu-id="a3dd9-165">Reihenfolge der DrawingGroup-Vorgänge</span><span class="sxs-lookup"><span data-stu-id="a3dd9-165">Order of DrawingGroup operations</span></span>  
  
 <span data-ttu-id="a3dd9-166">Weitere Informationen finden Sie unter [Übersicht über Zeichnungsobjekte](drawing-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a3dd9-166">For more information, see [Drawing Objects Overview](drawing-objects-overview.md).</span></span>  
  
#### <a name="drawing-content-at-the-visual-layer"></a><span data-ttu-id="a3dd9-167">Zeichnungsinhalt auf Ebene des visuellen Objekts</span><span class="sxs-lookup"><span data-stu-id="a3dd9-167">Drawing Content at the Visual Layer</span></span>  
 <span data-ttu-id="a3dd9-168">Instanziieren Sie nie direkt eine <xref:System.Windows.Media.DrawingContext>; Sie können jedoch einen Zeichnungskontext mit bestimmten Methoden, abrufen, wie z. B. <xref:System.Windows.Media.DrawingGroup.Open%2A?displayProperty=nameWithType> und <xref:System.Windows.Media.DrawingVisual.RenderOpen%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-168">You never directly instantiate a <xref:System.Windows.Media.DrawingContext>; you can, however, acquire a drawing context from certain methods, such as <xref:System.Windows.Media.DrawingGroup.Open%2A?displayProperty=nameWithType> and <xref:System.Windows.Media.DrawingVisual.RenderOpen%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="a3dd9-169">Das folgende Beispiel ruft eine <xref:System.Windows.Media.DrawingContext> aus einem <xref:System.Windows.Media.DrawingVisual> und wird verwendet, um ein Rechteck zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-169">The following example retrieves a <xref:System.Windows.Media.DrawingContext> from a <xref:System.Windows.Media.DrawingVisual> and uses it to draw a rectangle.</span></span>  
  
 [!code-csharp[drawingvisualsample#101](~/samples/snippets/csharp/VS_Snippets_Wpf/DrawingVisualSample/CSharp/Window1.xaml.cs#101)]
 [!code-vb[drawingvisualsample#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DrawingVisualSample/visualbasic/window1.xaml.vb#101)]  
  
#### <a name="enumerating-drawing-content-at-the-visual-layer"></a><span data-ttu-id="a3dd9-170">Auflisten des Zeichnungsinhalts auf der Ebene eines visuellen Objekts</span><span class="sxs-lookup"><span data-stu-id="a3dd9-170">Enumerating Drawing Content at the Visual Layer</span></span>  
 <span data-ttu-id="a3dd9-171">Neben ihren anderen Verwendungszwecken <xref:System.Windows.Media.Drawing> Objekte stellen auch ein Objektmodell für das Auflisten des Inhalts einer <xref:System.Windows.Media.Visual>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-171">In addition to their other uses, <xref:System.Windows.Media.Drawing> objects also provide an object model for enumerating the contents of a <xref:System.Windows.Media.Visual>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a3dd9-172">Wenn Sie den Inhalt des visuellen Objekts auflisten, rufen Sie <xref:System.Windows.Media.Drawing> Objekte und nicht die zugrunde liegende Darstellung der Renderingdaten als Anweisungsliste für Vektorgrafiken.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-172">When you are enumerating the contents of the visual, you are retrieving <xref:System.Windows.Media.Drawing> objects, and not the underlying representation of the render data as a vector graphics instruction list.</span></span>  
  
 <span data-ttu-id="a3dd9-173">Im folgenden Beispiel wird die <xref:System.Windows.Media.VisualTreeHelper.GetDrawing%2A> Methode zum Abrufen der <xref:System.Windows.Media.DrawingGroup> Wert eine <xref:System.Windows.Media.Visual> zählt Sie ihn.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-173">The following example uses the <xref:System.Windows.Media.VisualTreeHelper.GetDrawing%2A> method to retrieve the <xref:System.Windows.Media.DrawingGroup> value of a <xref:System.Windows.Media.Visual> and enumerate it.</span></span>  
  
 [!code-csharp[DrawingMiscSnippets_snip#GraphicsMMRetrieveDrawings](~/samples/snippets/csharp/VS_Snippets_Wpf/DrawingMiscSnippets_snip/CSharp/EnumerateDrawingsExample.xaml.cs#graphicsmmretrievedrawings)]  
  
<a name="how_visual_objects_are_used_to_build_controls"></a>   
## <a name="how-visual-objects-are-used-to-build-controls"></a><span data-ttu-id="a3dd9-174">Verwenden von visuellen Objekten zum Erstellen von Steuerelementen</span><span class="sxs-lookup"><span data-stu-id="a3dd9-174">How Visual Objects are Used to Build Controls</span></span>  
 <span data-ttu-id="a3dd9-175">Viele der Objekte in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] bestehen aus anderen visuellen Objekten, d.h., sie können unterschiedliche Hierarchien von untergeordneten Objekten enthalten.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-175">Many of the objects in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] are composed of other visual objects, meaning they can contain varying hierarchies of descendant objects.</span></span> <span data-ttu-id="a3dd9-176">Viele Benutzeroberflächenelemente in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], z.B. Steuerelemente, bestehen aus mehreren visuellen Objekten, die unterschiedliche Typen von Renderingelementen darstellen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-176">Many of the user interface elements in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], such as controls, are composed of multiple visual objects, representing different types of rendering elements.</span></span> <span data-ttu-id="a3dd9-177">Z. B. die <xref:System.Windows.Controls.Button> Steuerelement kann eine Reihe anderer Objekte, einschließlich enthalten <xref:Microsoft.Windows.Themes.ClassicBorderDecorator>, <xref:System.Windows.Controls.ContentPresenter>, und <xref:System.Windows.Controls.TextBlock>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-177">For example, the <xref:System.Windows.Controls.Button> control can contain a number of other objects, including <xref:Microsoft.Windows.Themes.ClassicBorderDecorator>, <xref:System.Windows.Controls.ContentPresenter>, and <xref:System.Windows.Controls.TextBlock>.</span></span>  
  
 <span data-ttu-id="a3dd9-178">Der folgende code zeigt eine <xref:System.Windows.Controls.Button> im Markup definiertes Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-178">The following code shows a <xref:System.Windows.Controls.Button> control defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet1](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet1)]  
  
 <span data-ttu-id="a3dd9-179">Würden Sie die visuellen Objekte auflisten, die standardmäßig umfassen <xref:System.Windows.Controls.Button> -Steuerelement, sehen Sie, dass die Hierarchie von visuellen Objekten, die unten dargestellt:</span><span class="sxs-lookup"><span data-stu-id="a3dd9-179">If you were to enumerate the visual objects that comprise the default <xref:System.Windows.Controls.Button> control, you would find the hierarchy of visual objects illustrated below:</span></span>  
  
 ![Diagramm der visuellen Strukturhierarchie](./media/wpf-graphics-rendering-overview/visual-object-diagram.gif) 
  
 <span data-ttu-id="a3dd9-181">Die <xref:System.Windows.Controls.Button> Steuerelement enthält eine <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> -Element, das wiederum enthält ein <xref:System.Windows.Controls.ContentPresenter> Element.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-181">The <xref:System.Windows.Controls.Button> control contains a <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element, which in turn, contains a <xref:System.Windows.Controls.ContentPresenter> element.</span></span> <span data-ttu-id="a3dd9-182">Die <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> -Element ist dafür verantwortlich, für das Zeichnen eines Rahmens und eines Hintergrunds für die <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-182">The <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element is responsible for drawing a border and a background for the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="a3dd9-183">Die <xref:System.Windows.Controls.ContentPresenter> Element ist dafür verantwortlich, den Inhalt der <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-183">The <xref:System.Windows.Controls.ContentPresenter> element is responsible for displaying the contents of the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="a3dd9-184">In diesem Fall, da Sie Text anzeigen, die <xref:System.Windows.Controls.ContentPresenter> Element enthält eine <xref:System.Windows.Controls.TextBlock> Element.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-184">In this case, since you are displaying text, the <xref:System.Windows.Controls.ContentPresenter> element contains a <xref:System.Windows.Controls.TextBlock> element.</span></span> <span data-ttu-id="a3dd9-185">Die Tatsache, die die <xref:System.Windows.Controls.Button> -Steuerelement verwendet eine <xref:System.Windows.Controls.ContentPresenter> bedeutet, die der Inhalt von anderen Elementen wie z. B. dargestellt werden könnte ein <xref:System.Windows.Controls.Image> oder eine Geometrie, wie z. B. eine <xref:System.Windows.Media.EllipseGeometry>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-185">The fact that the <xref:System.Windows.Controls.Button> control uses a <xref:System.Windows.Controls.ContentPresenter> means that the content could be represented by other elements, such as an <xref:System.Windows.Controls.Image> or a geometry, such as an <xref:System.Windows.Media.EllipseGeometry>.</span></span>  
  
### <a name="control-templates"></a><span data-ttu-id="a3dd9-186">Steuerelementvorlagen</span><span class="sxs-lookup"><span data-stu-id="a3dd9-186">Control Templates</span></span>  
 <span data-ttu-id="a3dd9-187">Der Schlüssel zur Erweiterung eines Steuerelements in eine Hierarchie von Steuerelementen ist die <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-187">The key to the expansion of a control into a hierarchy of controls is the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="a3dd9-188">Eine Steuerelementvorlage gibt die visuelle Standardhierarchie für ein Steuerelement an.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-188">A control template specifies the default visual hierarchy for a control.</span></span> <span data-ttu-id="a3dd9-189">Wenn Sie explizit auf ein Steuerelement verweisen, verweisen Sie implizit auf dessen visuelle Hierarchie.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-189">When you explicitly reference a control, you implicitly reference its visual hierarchy.</span></span> <span data-ttu-id="a3dd9-190">Sie können die Standardwerte für eine Steuerelementvorlage überschreiben, um eine angepasste visuelle Darstellung für ein Steuerelement zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-190">You can override the default values for a control template to create a customized visual appearance for a control.</span></span> <span data-ttu-id="a3dd9-191">Beispielsweise könnten Sie Wert für die Hintergrundfarbe des Ändern der <xref:System.Windows.Controls.Button> Steuerelement, sodass er einen linearen Farbverlauf Wert anstatt eines volltonfarbwerts verwendet.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-191">For example, you could modify the background color value of the <xref:System.Windows.Controls.Button> control so that it uses a linear gradient color value instead of a solid color value.</span></span> <span data-ttu-id="a3dd9-192">Weitere Informationen finden Sie unter [Button-Stile und Vorlagen](../controls/button-styles-and-templates.md).</span><span class="sxs-lookup"><span data-stu-id="a3dd9-192">For more information, see [Button Styles and Templates](../controls/button-styles-and-templates.md).</span></span>  
  
 <span data-ttu-id="a3dd9-193">Ein Element der Benutzeroberfläche, z. B. eine <xref:System.Windows.Controls.Button> Steuerelement, enthält mehrere Anweisungslisten für Vektorgrafiken, die die gesamte Renderingdefinition eines Steuerelements beschreiben.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-193">A user interface element, such as a <xref:System.Windows.Controls.Button> control, contains several vector graphics instruction lists that describe the entire rendering definition of a control.</span></span> <span data-ttu-id="a3dd9-194">Der folgende code zeigt eine <xref:System.Windows.Controls.Button> im Markup definiertes Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-194">The following code shows a <xref:System.Windows.Controls.Button> control defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet2](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet2)]  
  
 <span data-ttu-id="a3dd9-195">Wenn Sie die visuellen Objekte auflisten und vektorgrafikanweisungslisten, aus denen besteht die <xref:System.Windows.Controls.Button> -Steuerelement, sehen Sie, dass die Hierarchie der Objekte, die unten dargestellt:</span><span class="sxs-lookup"><span data-stu-id="a3dd9-195">If you were to enumerate the visual objects and vector graphics instruction lists that comprise the <xref:System.Windows.Controls.Button> control, you would find the hierarchy of objects illustrated below:</span></span>  
  
 ![Diagramm der visuellen Struktur und des Renderings von Daten](./media/wpf-graphics-rendering-overview/visual-tree-rendering-data.png)  
  
 <span data-ttu-id="a3dd9-197">Die <xref:System.Windows.Controls.Button> Steuerelement enthält eine <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> -Element, das wiederum enthält ein <xref:System.Windows.Controls.ContentPresenter> Element.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-197">The <xref:System.Windows.Controls.Button> control contains a <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element, which in turn, contains a <xref:System.Windows.Controls.ContentPresenter> element.</span></span> <span data-ttu-id="a3dd9-198">Die <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> Element ist dafür verantwortlich, alle diskreten Grafikelemente, aus denen der Rahmen und Hintergrund einer Schaltfläche zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-198">The <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element is responsible for drawing all the discrete graphic elements that make up the border and background of a button.</span></span> <span data-ttu-id="a3dd9-199">Die <xref:System.Windows.Controls.ContentPresenter> Element ist dafür verantwortlich, den Inhalt der <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-199">The <xref:System.Windows.Controls.ContentPresenter> element is responsible for displaying the contents of the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="a3dd9-200">In diesem Fall sind da Sie ein Bild anzeigen. dem <xref:System.Windows.Controls.ContentPresenter> Element enthält eine <xref:System.Windows.Controls.Image> Element.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-200">In this case, since you are displaying an image, the <xref:System.Windows.Controls.ContentPresenter> element contains a <xref:System.Windows.Controls.Image> element.</span></span>  
  
 <span data-ttu-id="a3dd9-201">Es gibt mehrere Dinge im Zusammenhang mit der Hierarchie von visuellen Objekten und Anweisungslisten für Vektorgrafiken zu beachten:</span><span class="sxs-lookup"><span data-stu-id="a3dd9-201">There are a number of points to note about the hierarchy of visual objects and vector graphics instruction lists:</span></span>  
  
- <span data-ttu-id="a3dd9-202">Die Reihenfolge in der Hierarchie stellt die Renderingreihenfolge der Zeichnungsinformationen dar.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-202">The ordering in the hierarchy represents the rendering order of the drawing information.</span></span> <span data-ttu-id="a3dd9-203">Aus dem visuellen Stammelement werden untergeordnete Elemente von links nach rechts und von oben nach unten durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-203">From the root visual element, child elements are traversed, left to right, top to bottom.</span></span> <span data-ttu-id="a3dd9-204">Wenn ein Element über visuelle untergeordnete Elemente verfügt, werden diese vor den gleichgeordneten Elementen des Elements durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-204">If an element has visual child elements, they are traversed before the element’s siblings.</span></span>  
  
- <span data-ttu-id="a3dd9-205">Blattknoten Elemente in der Hierarchie, z. B. <xref:System.Windows.Controls.ContentPresenter>, werden verwendet, um untergeordnete Elemente enthalten — sie enthalten keine Anweisungslisten.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-205">Non-leaf node elements in the hierarchy, such as <xref:System.Windows.Controls.ContentPresenter>, are used to contain child elements—they do not contain instruction lists.</span></span>  
  
- <span data-ttu-id="a3dd9-206">Wenn ein visuelles Element eine Anweisungsliste für Vektorgrafiken und visuelle untergeordnete Elemente enthält, wird die Anweisungsliste im übergeordneten visuellen Element vor Zeichnungen in einem der untergeordneten visuellen Objekte gerendert.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-206">If a visual element contains both a vector graphics instruction list and visual children, the instruction list in the parent visual element is rendered before drawings in any of the visual child objects.</span></span>  
  
- <span data-ttu-id="a3dd9-207">Die Elemente in der Anweisungsliste für Vektorgrafiken werden von links nach rechts gerendert.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-207">The items in the vector graphics instruction list are rendered left to right.</span></span>  
  
<a name="visual_tree"></a>   
## <a name="visual-tree"></a><span data-ttu-id="a3dd9-208">Visuelle Struktur</span><span class="sxs-lookup"><span data-stu-id="a3dd9-208">Visual Tree</span></span>  
 <span data-ttu-id="a3dd9-209">Die visuelle Struktur enthält alle visuellen Elemente, die in der Benutzeroberfläche einer Anwendung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-209">The visual tree contains all visual elements used in an application's user interface.</span></span> <span data-ttu-id="a3dd9-210">Da ein visuelles Element persistent gespeicherte Zeichnungsinformationen enthält, können Sie sich die visuelle Struktur als Szenengraph vorstellen, der alle Renderinginformationen enthält, die erforderlich sind, um die Ausgabe auf dem Anzeigegerät zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-210">Since a visual element contains persisted drawing information, you can think of the visual tree as a scene graph, containing all the rendering information needed to compose the output to the display device.</span></span> <span data-ttu-id="a3dd9-211">Diese Struktur ist die Ansammlung aller visuellen Elemente, die direkt von der Anwendung im Code oder im Markup erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-211">This tree is the accumulation of all visual elements created directly by the application, whether in code or in markup.</span></span> <span data-ttu-id="a3dd9-212">Die visuelle Struktur enthält auch alle visuellen Elemente, die von der Vorlagenerweiterung der Elemente, wie z.B. Steuerelemente und Datenobjekte, erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-212">The visual tree also contains all visual elements created by the template expansion of elements such as controls and data objects.</span></span>  
  
 <span data-ttu-id="a3dd9-213">Der folgende code zeigt eine <xref:System.Windows.Controls.StackPanel> im Markup definierten Elemente.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-213">The following code shows a <xref:System.Windows.Controls.StackPanel> element defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet3](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet3)]  
  
 <span data-ttu-id="a3dd9-214">Würden Sie die visuellen Objekte auflisten, standardmäßig umfassen, die <xref:System.Windows.Controls.StackPanel> Element im Markupbeispiel sehen Sie, dass die Hierarchie von visuellen Objekten, die unten dargestellt:</span><span class="sxs-lookup"><span data-stu-id="a3dd9-214">If you were to enumerate the visual objects that comprise the <xref:System.Windows.Controls.StackPanel> element in the markup example, you would find the hierarchy of visual objects illustrated below:</span></span>  
  
 ![Diagramm der visuellen Strukturhierarchie](./media/wpf-graphics-rendering-overview/visual-tree-hierarchy.gif)  
  
### <a name="rendering-order"></a><span data-ttu-id="a3dd9-216">Renderingreihenfolge</span><span class="sxs-lookup"><span data-stu-id="a3dd9-216">Rendering Order</span></span>  
 <span data-ttu-id="a3dd9-217">Die visuelle Struktur bestimmt die Renderingreihenfolge der visuellen [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] und Zeichnungsobjekte.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-217">The visual tree determines the rendering order of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] visual and drawing objects.</span></span> <span data-ttu-id="a3dd9-218">Die Reihenfolge des Durchlaufs beginnt mit dem visuellen Stammelement, das der oberste Knoten in der visuellen Struktur ist.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-218">The order of traversal starts with the root visual, which is the top-most node in the visual tree.</span></span> <span data-ttu-id="a3dd9-219">Die untergeordnete Elemente des visuellen Stammelements werden von links nach rechts durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-219">The root visual’s children are then traversed, left to right.</span></span> <span data-ttu-id="a3dd9-220">Wenn ein visuelles Objekt über untergeordnete Elemente verfügt, werden seine untergeordneten Elemente vor den gleichgeordneten visuellen Elementen durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-220">If a visual has children, its children are traversed before the visual’s siblings.</span></span> <span data-ttu-id="a3dd9-221">Dies bedeutet, dass der Inhalt eines untergeordneten visuellen Objekts vor dem Inhalt des visuellen Objekts selbst gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-221">This means that the content of a child visual is rendered in front of the visual's own content.</span></span>  
  
 ![Diagramm der visuellen Struktur-Rendering-Reihenfolge](./media/wpf-graphics-rendering-overview/visual-tree-rendering-order.gif) 
  
### <a name="root-visual"></a><span data-ttu-id="a3dd9-223">Visuelles Stammobjekt</span><span class="sxs-lookup"><span data-stu-id="a3dd9-223">Root Visual</span></span>  
 <span data-ttu-id="a3dd9-224">Das **visuelle Stammobjekt** ist das oberste Element in der Hierarchie einer visuellen Struktur.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-224">The **root visual** is the top-most element in a visual tree hierarchy.</span></span> <span data-ttu-id="a3dd9-225">In den meisten Anwendungen ist die Basisklasse für das visuelle Stammobjekt entweder <xref:System.Windows.Window> oder <xref:System.Windows.Navigation.NavigationWindow>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-225">In most applications, the base class of the root visual is either <xref:System.Windows.Window> or <xref:System.Windows.Navigation.NavigationWindow>.</span></span> <span data-ttu-id="a3dd9-226">Wenn Sie jedoch visuelle Objekte in einer Win32-Anwendung hosten, ist das visuelle Stammobjekt das oberste visuelle Objekt, das Sie im Win32-Fenster hosten.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-226">However, if you were hosting visual objects in a Win32 application, the root visual would be the top-most visual you were hosting in the Win32 window.</span></span> <span data-ttu-id="a3dd9-227">Weitere Informationen finden Sie unter [Tutorial: Hosten von visuellen Objekten in einer Win32-Anwendung](tutorial-hosting-visual-objects-in-a-win32-application.md).</span><span class="sxs-lookup"><span data-stu-id="a3dd9-227">For more information, see [Tutorial: Hosting Visual Objects in a Win32 Application](tutorial-hosting-visual-objects-in-a-win32-application.md).</span></span>  
  
### <a name="relationship-to-the-logical-tree"></a><span data-ttu-id="a3dd9-228">Beziehung zur logischen Struktur</span><span class="sxs-lookup"><span data-stu-id="a3dd9-228">Relationship to the Logical Tree</span></span>  
 <span data-ttu-id="a3dd9-229">Die logische Struktur in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] stellt die Elemente einer Anwendung zur Laufzeit dar.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-229">The logical tree in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] represents the elements of an application at run time.</span></span> <span data-ttu-id="a3dd9-230">Obwohl Sie die Struktur nicht direkt bearbeiten, ist diese Ansicht der Anwendung nützlich, um die Vererbung von Eigenschaften und das Ereignisrouting nachzuvollziehen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-230">Although you do not manipulate this tree directly, this view of the application is useful for understanding property inheritance and event routing.</span></span> <span data-ttu-id="a3dd9-231">Im Gegensatz zur visuellen Struktur die logische Struktur kann darstellen nicht visuelle Datenobjekte, z. B. <xref:System.Windows.Documents.ListItem>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-231">Unlike the visual tree, the logical tree can represent non-visual data objects, such as <xref:System.Windows.Documents.ListItem>.</span></span> <span data-ttu-id="a3dd9-232">In vielen Fällen ist die logische Struktur eng an die Markupdefinitionen einer Anwendung angelehnt.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-232">In many cases, the logical tree maps very closely to an application's markup definitions.</span></span> <span data-ttu-id="a3dd9-233">Der folgende code zeigt eine <xref:System.Windows.Controls.DockPanel> im Markup definierten Elemente.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-233">The following code shows a <xref:System.Windows.Controls.DockPanel> element defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet5](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet5)]  
  
 <span data-ttu-id="a3dd9-234">Würden Sie die logischen Objekte auflisten, standardmäßig umfassen, die <xref:System.Windows.Controls.DockPanel> Element im Markupbeispiel sehen Sie, dass die Hierarchie der logischen Objekte, die unten dargestellt:</span><span class="sxs-lookup"><span data-stu-id="a3dd9-234">If you were to enumerate the logical objects that comprise the <xref:System.Windows.Controls.DockPanel> element in the markup example, you would find the hierarchy of logical objects illustrated below:</span></span>  
  
 <span data-ttu-id="a3dd9-235">![Strukturdiagramm](./media/tree1-wcp.gif "Tree1_wcp")</span><span class="sxs-lookup"><span data-stu-id="a3dd9-235">![Tree diagram](./media/tree1-wcp.gif "Tree1_wcp")</span></span>  
<span data-ttu-id="a3dd9-236">Diagramm der logischen Struktur</span><span class="sxs-lookup"><span data-stu-id="a3dd9-236">Diagram of logical tree</span></span>  
  
 <span data-ttu-id="a3dd9-237">Die visuelle Struktur und die logische Struktur werden mit dem aktuellen Satz von Anwendungselementen synchronisiert und spiegeln dabei alle Hinzufügungen, Löschungen oder Änderungen von Elementen wider.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-237">Both the visual tree and logical tree are synchronized with the current set of application elements, reflecting any addition, deletion, or modification of elements.</span></span> <span data-ttu-id="a3dd9-238">Die Strukturen liefern jedoch verschiedene Ansichten der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-238">However, the trees present different views of the application.</span></span> <span data-ttu-id="a3dd9-239">Im Gegensatz zur visuellen Struktur erweitert die logische Struktur nicht des Steuerelements <xref:System.Windows.Controls.ContentPresenter> Element.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-239">Unlike the visual tree, the logical tree does not expand a control's <xref:System.Windows.Controls.ContentPresenter> element.</span></span> <span data-ttu-id="a3dd9-240">Dies bedeutet, dass keine direkte 1:1-Entsprechung zwischen einer logischen Struktur und einer visuellen Struktur für den gleichen Satz von Objekten vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-240">This means there is not a direct one-to-one correspondence between a logical tree and a visual tree for the same set of objects.</span></span> <span data-ttu-id="a3dd9-241">In der Tat Aufrufen der **LogicalTreeHelper** des Objekts <xref:System.Windows.LogicalTreeHelper.GetChildren%2A> Methode und die **VisualTreeHelper** des Objekts <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A> Methode, die mit dem gleichen Element aus, wie ein Parameter unterschiedliche Ergebnisse erzielt. .</span><span class="sxs-lookup"><span data-stu-id="a3dd9-241">In fact, invoking the **LogicalTreeHelper** object's <xref:System.Windows.LogicalTreeHelper.GetChildren%2A> method and the **VisualTreeHelper** object's <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A> method using the same element as a parameter yields differing results.</span></span>  
  
 <span data-ttu-id="a3dd9-242">Weitere Informationen über die logische Struktur finden Sie unter [Strukturen in WPF](../advanced/trees-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="a3dd9-242">For more information on the logical tree, see [Trees in WPF](../advanced/trees-in-wpf.md).</span></span>  
  
### <a name="viewing-the-visual-tree-with-xamlpad"></a><span data-ttu-id="a3dd9-243">Anzeigen der visuellen Struktur mit XamlPad</span><span class="sxs-lookup"><span data-stu-id="a3dd9-243">Viewing the Visual Tree with XamlPad</span></span>  
 <span data-ttu-id="a3dd9-244">Das [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Tool XamlPad bietet eine Option zum Anzeigen und Durchsuchen der visuellen Struktur, die dem aktuell definierten [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)]-Inhalt entspricht.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-244">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] tool, XamlPad, provides an option for viewing and exploring the visual tree that corresponds to the currently defined [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] content.</span></span> <span data-ttu-id="a3dd9-245">Klicken Sie auf die Schaltfläche **Visuelle Struktur anzeigen** der Menüleiste, um die visuelle Struktur anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-245">Click the **Show Visual Tree** button on the menu bar to display the visual tree.</span></span> <span data-ttu-id="a3dd9-246">Im Folgenden wird die Erweiterung des [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)]-Inhalts in Knoten in der visuellen Struktur im Panel **Visueller Struktur-Explorer**-Bereich in XamlPad veranschaulicht:</span><span class="sxs-lookup"><span data-stu-id="a3dd9-246">The following illustrates the expansion of [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] content into visual tree nodes in the **Visual Tree Explorer** panel of XamlPad:</span></span>  
  
 ![Visueller Struktur-Explorer-Bereich in XamlPad](./media/wpf-graphics-rendering-overview/visual-tree-explorer.png)  

 <span data-ttu-id="a3dd9-248">Beachten Sie, dass die <xref:System.Windows.Controls.Label>, <xref:System.Windows.Controls.TextBox>, und <xref:System.Windows.Controls.Button> Steuerelemente jeder anzeigen, eine separate visuelle Objekthierarchie in die **visueller Struktur-Explorer** -Bereich von XamlPad.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-248">Notice how the <xref:System.Windows.Controls.Label>, <xref:System.Windows.Controls.TextBox>, and <xref:System.Windows.Controls.Button> controls each display a separate visual object hierarchy in the **Visual Tree Explorer** panel of XamlPad.</span></span> <span data-ttu-id="a3dd9-249">Grund hierfür ist, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Steuerelemente verfügen über eine <xref:System.Windows.Controls.ControlTemplate> , die die visuelle Struktur des Steuerelements enthält.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-249">This is because [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls have a <xref:System.Windows.Controls.ControlTemplate> that contains the visual tree of that control.</span></span> <span data-ttu-id="a3dd9-250">Wenn Sie explizit auf ein Steuerelement verweisen, verweisen Sie implizit auf dessen visuelle Hierarchie.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-250">When you explicitly reference a control, you implicitly reference its visual hierarchy.</span></span>  
  
### <a name="profiling-visual-performance"></a><span data-ttu-id="a3dd9-251">Erstellung von visuellen Leistungsprofilen</span><span class="sxs-lookup"><span data-stu-id="a3dd9-251">Profiling Visual Performance</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="a3dd9-252">stellt eine Suite von Leistungsprofilerstellungstools bereit, mit deren Hilfe Sie das Laufzeitverhalten der Anwendung analysieren und die Typen der anwendbaren Leistungsoptimierungen bestimmen können.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-252">provides a suite of performance profiling tools that allow you to analyze the run-time behavior of your application and determine the types of performance optimizations you can apply.</span></span> <span data-ttu-id="a3dd9-253">Das Visual Profiler-Tool bietet eine umfassende grafische Sicht der Leistungsdaten, indem diese direkt der visuellen Struktur der Anwendung zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-253">The Visual Profiler tool provides a rich, graphical view of performance data by mapping directly to the application's visual tree.</span></span> <span data-ttu-id="a3dd9-254">In diesem Screenshot verschafft Ihnen der Abschnitt **CPU-Auslastung** von Visual Profiler eine genaue Aufschlüsselung der Nutzung von [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Diensten eines Objekts, z.B. Rendering und Layout.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-254">In this screenshot, the **CPU Usage** section of the Visual Profiler gives you a precise breakdown of an object's use of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] services, such as rendering and layout.</span></span>  
  
 <span data-ttu-id="a3dd9-255">![Visual Profiler zeigt Ausgabe](./media/wpfperf-visualprofiler-04.png "WPFPerf_VisualProfiler_04")</span><span class="sxs-lookup"><span data-stu-id="a3dd9-255">![Visual Profiler display output](./media/wpfperf-visualprofiler-04.png "WPFPerf_VisualProfiler_04")</span></span>  
<span data-ttu-id="a3dd9-256">Visual Profiler-Anzeigeausgabe</span><span class="sxs-lookup"><span data-stu-id="a3dd9-256">Visual Profiler display output</span></span>  
  
<a name="visual_rendering_behavior"></a>   
## <a name="visual-rendering-behavior"></a><span data-ttu-id="a3dd9-257">Verhalten des visuellen Renderings</span><span class="sxs-lookup"><span data-stu-id="a3dd9-257">Visual Rendering Behavior</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="a3dd9-258">verfügt über Funktionen, die das Renderingverhalten visueller Objekte beeinflussen: Retained Mode-Grafiken, Vektorgrafiken und geräteunabhängige Grafiken.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-258">introduces several features that affect the rendering behavior of visual objects: retained mode graphics, vector graphics, and device independent graphics.</span></span>  
  
### <a name="retained-mode-graphics"></a><span data-ttu-id="a3dd9-259">Retained Mode-Grafiken</span><span class="sxs-lookup"><span data-stu-id="a3dd9-259">Retained Mode Graphics</span></span>  
 <span data-ttu-id="a3dd9-260">Einer der Schlüssel zum Verständnis der Rolle des visuellen Objekts ist der Unterschied zwischen Grafiksystemen mit **Direktmodus** und **Retained Mode**.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-260">One of the keys to understanding the role of the Visual object is to understand the difference between **immediate mode** and **retained mode** graphics systems.</span></span> <span data-ttu-id="a3dd9-261">Eine standardmäßige Win32-Anwendung, die auf GDI oder GDI+ basiert, verwendet ein Grafiksystem mit unmittelbaren Modus.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-261">A standard Win32 application based on GDI or GDI+ uses an immediate mode graphics system.</span></span> <span data-ttu-id="a3dd9-262">Das heißt, dass die Anwendung für das Neuzeichnen des Teils des Clientbereichs verantwortlich ist, der aufgrund einer Aktion, z.B. Änderung der Größe eines Fensters, oder eines Objekts, dessen visuelle Darstellung geändert wird, ungültig ist.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-262">This means that the application is responsible for repainting the portion of the client area that is invalidated, due to an action such as a window being resized, or an object changing its visual appearance.</span></span>  
  
 ![Diagramm der Win32-Renderingsequenz](./media/wpf-graphics-rendering-overview/win32-rendering-squence.png)  
  
 <span data-ttu-id="a3dd9-264">Im Gegensatz dazu verwendet [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ein System mit Retained Mode.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-264">In contrast, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses a retained mode system.</span></span> <span data-ttu-id="a3dd9-265">Dies bedeutet, dass Objekte, die eine visuelle Darstellung haben, einen Satz serialisierter Zeichnungsdaten definieren.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-265">This means application objects that have a visual appearance define a set of serialized drawing data.</span></span> <span data-ttu-id="a3dd9-266">Nachdem die Zeichnungsdaten definiert wurden, ist das System für alle Repaint-Anforderungen zum Rendern der Anwendungsobjekte verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-266">Once the drawing data is defined, the system is responsible thereafter for responding to all repaint requests for rendering the application objects.</span></span> <span data-ttu-id="a3dd9-267">Auch zur Laufzeit können Sie Anwendungsobjekte ändern oder erstellen und das System weiterhin auf Zeichnungsanforderungen reagieren lassen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-267">Even at run time, you can modify or create application objects, and still rely on the system for responding to paint requests.</span></span> <span data-ttu-id="a3dd9-268">Die Leistungsstärke eines Grafiksystems mit Retained Mode ist darauf zurückzuführen, dass Zeichnungsinformationen stets in einem serialisierten Zustand von der Anwendung gespeichert werden, die Verantwortung für das Rendering aber dem System überlassen wird.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-268">The power in a retained mode graphics system is that drawing information is always persisted in a serialized state by the application, but rendering responsibility left to the system.</span></span> <span data-ttu-id="a3dd9-269">Das folgende Diagramm zeigt, wie die Anwendung [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] auf Zeichnungsanforderungen reagieren lässt.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-269">The following diagram shows how the application relies on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] for responding to paint requests.</span></span>  
  
 ![Diagramm der WPF-Renderingsequenz](./media/wpf-graphics-rendering-overview/wpf-rendering-sequence.png)  

#### <a name="intelligent-redrawing"></a><span data-ttu-id="a3dd9-271">Intelligentes Neuzeichnen</span><span class="sxs-lookup"><span data-stu-id="a3dd9-271">Intelligent Redrawing</span></span>  
 <span data-ttu-id="a3dd9-272">Einer der größten Vorteile bei der Verwendung von Grafiken mit dem Retained Mode besteht darin, dass [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] effizient optimieren kann, was in der Anwendung neu gezeichnet werden muss.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-272">One of the biggest benefits in using retained mode graphics is that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] can efficiently optimize what needs to be redrawn in the application.</span></span> <span data-ttu-id="a3dd9-273">Auch wenn Sie über eine komplexe Szene mit unterschiedlicher Deckkraft verfügen, müssen Sie im Allgemeinen nicht für besondere Zwecke Code zum Neuzeichnen optimieren.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-273">Even if you have a complex scene with varying levels of opacity, you generally do not need to write special-purpose code to optimize redrawing.</span></span> <span data-ttu-id="a3dd9-274">Vergleichen Sie dies mit der Win32-Programmierung, bei der Sie viele Ressourcen in die Optimierung Ihrer Anwendung durch Minimierung des Neuzeichnungaufwands im Aktualisierungsbereich investieren können.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-274">Compare this with Win32 programming in which you can spend a great deal of effort in optimizing your application by minimizing the amount of redrawing in the update region.</span></span> <span data-ttu-id="a3dd9-275">Ein Beispiel für den Typ der Komplexität in Verbindung mit der Optimierung der Neuzeichnung in Win32-Anwendungen finden Sie unter [Neuzeichnen im Aktualisierungsbereich](/windows/desktop/gdi/redrawing-in-the-update-region).</span><span class="sxs-lookup"><span data-stu-id="a3dd9-275">See [Redrawing in the Update Region](/windows/desktop/gdi/redrawing-in-the-update-region) for an example of the type of complexity involved in optimizing redrawing in Win32 applications.</span></span>  
  
### <a name="vector-graphics"></a><span data-ttu-id="a3dd9-276">Vektorgrafiken</span><span class="sxs-lookup"><span data-stu-id="a3dd9-276">Vector Graphics</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="a3dd9-277">verwendet **Vektorgrafiken** als Renderingdatenformat.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-277">uses **vector graphics** as its rendering data format.</span></span> <span data-ttu-id="a3dd9-278">Vektorgrafiken – darunter Scalable Vector Graphics (SVG), Windows-Metadateien (WMF) und TrueType-Schriftarten – speichern Renderingdaten und übertragen sie als Liste von Anweisungen, die beschreiben, wie ein Bild mit Grafikprimitiven neu erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-278">Vector graphics—which include Scalable Vector Graphics (SVG), Windows metafiles (.wmf), and TrueType fonts—store rendering data and transmit it as a list of instructions that describe how to recreate an image using graphics primitives.</span></span> <span data-ttu-id="a3dd9-279">TrueType-Schriftarten beispielsweise sind Umrissschriftarten, die einen Satz von Linien, Kurven und Befehlen anstelle eines Arrays von Pixeln beschreiben.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-279">For example, TrueType fonts are outline fonts that describe a set of lines, curves, and commands, rather than an array of pixels.</span></span> <span data-ttu-id="a3dd9-280">Einer der wichtigsten Vorteile von Vektorgrafiken ist die Möglichkeit, auf eine beliebige Größe und Auflösung zu skalieren.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-280">One of the key benefits of vector graphics is the ability to scale to any size and resolution.</span></span>  
  
 <span data-ttu-id="a3dd9-281">Im Gegensatz zu Vektorgrafiken speichern Bitmapgrafiken Renderingdaten als pixelweise Darstellung eines Bilds, die bereits für eine bestimmte Auflösung gerendert ist.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-281">Unlike vector graphics, bitmap graphics store rendering data as a pixel-by-pixel representation of an image, pre-rendered for a specific resolution.</span></span> <span data-ttu-id="a3dd9-282">Einer der wichtigsten Unterschiede zwischen Bitmap- und Vektorgrafikformaten ist die Originaltreue in Bezug auf das ursprüngliche Bild.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-282">One of the key differences between bitmap and vector graphic formats is fidelity to the original source image.</span></span> <span data-ttu-id="a3dd9-283">Wenn beispielsweise die Größe eines Quellbilds geändert wird, strecken Bitmapgrafiksysteme das Bild, während Vektorgrafiksysteme das Bild skalieren und dabei die Bildtreue beibehalten.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-283">For example, when the size of a source image is modified, bitmap graphics systems stretch the image, whereas vector graphics systems scale the image, preserving the image fidelity.</span></span>  
  
 <span data-ttu-id="a3dd9-284">Die folgende Abbildung zeigt ein Quellbild, dessen Größe um 300 % geändert wurde.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-284">The following illustration shows a source image that has been resized by 300%.</span></span> <span data-ttu-id="a3dd9-285">Beachten Sie die Verzerrungen, die angezeigt werden, wenn das Quellbild als Bitmap-Grafik gestreckt und nicht als Vektorgrafikbild skaliert wird.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-285">Notice the distortions that appear when the source image is stretched as a bitmap graphics image rather than scaled as a vector graphics image.</span></span>  
  
 ![Unterschiede zwischen Raster- und Vektorgrafiken](./media/wpf-graphics-rendering-overview/raster-vector-differences.png)  
  
 <span data-ttu-id="a3dd9-287">Das folgende Markup zeigt zwei <xref:System.Windows.Shapes.Path> definierten Elemente.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-287">The following markup shows two <xref:System.Windows.Shapes.Path> elements defined.</span></span> <span data-ttu-id="a3dd9-288">Das zweite Element verwendet eine <xref:System.Windows.Media.ScaleTransform> zum Ändern der Größe der zeichnungsanweisungen des ersten Elements um 300 %.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-288">The second element uses a <xref:System.Windows.Media.ScaleTransform> to resize the drawing instructions of the first element by 300%.</span></span> <span data-ttu-id="a3dd9-289">Beachten Sie, dass die zeichnungsanweisungen in den <xref:System.Windows.Shapes.Path> Elemente bleiben unverändert.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-289">Notice that the drawing instructions in the <xref:System.Windows.Shapes.Path> elements remain unchanged.</span></span>  
  
 [!code-xaml[VectorGraphicsSnippets#VectorGraphicsSnippet1](~/samples/snippets/csharp/VS_Snippets_Wpf/VectorGraphicsSnippets/CS/PageOne.xaml#vectorgraphicssnippet1)]  
  
### <a name="about-resolution-and-device-independent-graphics"></a><span data-ttu-id="a3dd9-290">Info zu auflösungs- und geräteunabhängiger Grafik</span><span class="sxs-lookup"><span data-stu-id="a3dd9-290">About Resolution and Device-Independent Graphics</span></span>  
 <span data-ttu-id="a3dd9-291">Zwei Systemfaktoren bestimmen die Größe von Text und Grafiken auf dem Bildschirm: Auflösung und DPI.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-291">There are two system factors that determine the size of text and graphics on your screen: resolution and DPI.</span></span> <span data-ttu-id="a3dd9-292">Die Auflösung beschreibt die Anzahl der Pixel, die auf dem Bildschirm angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-292">Resolution describes the number of pixels that appear on the screen.</span></span> <span data-ttu-id="a3dd9-293">Mit höherer Auflösung werden Pixel kleiner und lassen Grafiken und Text kleiner erscheinen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-293">As the resolution gets higher, pixels get smaller, causing graphics and text to appear smaller.</span></span> <span data-ttu-id="a3dd9-294">Eine Grafik, die auf einem Monitor mit 1024 x 768 angezeigt wird, erscheint viel kleiner, wenn die Auflösung in 1600 x 1200 geändert wird.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-294">A graphic displayed on a monitor set to 1024 x 768 will appear much smaller when the resolution is changed to 1600 x 1200.</span></span>  
  
 <span data-ttu-id="a3dd9-295">Die andere Systemeinstellung, DPI, beschreibt die Größe eines Bildschirmzolls in Pixeln.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-295">The other system setting, DPI, describes the size of a screen inch in pixels.</span></span> <span data-ttu-id="a3dd9-296">Die meisten [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)]-Systeme verfügen über den DPI-Wert 96, d.h. ein Bildschirmzoll beträgt 96 Pixel.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-296">Most [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] systems have a DPI of 96, which means a screen inch is 96 pixels.</span></span> <span data-ttu-id="a3dd9-297">Durch Erhöhen der DPI-Einstellung wird der Bildschirmzoll größer, durch Verringern des DPI-Werts wird der Bildschirmzoll kleiner.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-297">Increasing the DPI setting makes the screen inch larger; decreasing the DPI makes the screen inch smaller.</span></span> <span data-ttu-id="a3dd9-298">Das bedeutet, dass ein Bildschirmzoll nicht die gleiche Größe wie ein realer Zoll hat; auf den meisten System trifft dies wahrscheinlich zu.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-298">This means that a screen inch isn't the same size as a real-world inch; on most systems, it's probably not.</span></span> <span data-ttu-id="a3dd9-299">Wenn Sie den DPI-Wert erhöhen, werden mit DPI kompatible Grafiken und Text größer, da Sie den Bildschirmzoll vergrößert haben.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-299">As you increase the DPI, DPI-aware graphics and text become larger because you've increased the size of the screen inch.</span></span> <span data-ttu-id="a3dd9-300">Durch Erhöhen des DPI-Werts kann sich die Lesbarkeit von Text, besonders in hoher Auflösung, verbessern.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-300">Increasing the DPI can make text easier to read, especially at high resolutions.</span></span>  
  
 <span data-ttu-id="a3dd9-301">Nicht alle Programme sind DPI-kompatibel: Einige verwenden Hardwarepixel als primäre Maßeinheit. Eine Änderung des DPI-Systemwerts hat keine Auswirkungen auf diese Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-301">Not all applications are DPI-aware: some use hardware pixels as the primary unit of measurement; changing the system DPI has no effect on these applications.</span></span> <span data-ttu-id="a3dd9-302">Viele andere Clientanwendungen verwenden Einheiten, die mit DPI kompatibel sind, um Schriftgrade zu beschreiben, aber verwenden Pixel, um alles andere zu beschreiben.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-302">Many other applications use DPI-aware units to describe font sizes, but use pixels to describe everything else.</span></span> <span data-ttu-id="a3dd9-303">Ein zu großer oder zu kleiner DPI-Wert kann zu Layoutproblemen für diese Anwendungen führen, da der Text der Anwendungen mit der DPI-Einstellung skaliert wird, während dies bei den Anwendungen der Benutzeroberfläche nicht der Fall ist.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-303">Making the DPI too small or too large can cause layout problems for these applications, because the applications' text scales with the system's DPI setting, but the applications' UI does not.</span></span> <span data-ttu-id="a3dd9-304">Das Problem wurde für mit [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] entwickelte Anwendungen gelöst.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-304">This problem has been eliminated for applications developed using [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="a3dd9-305">unterstützt die automatische Skalierung mit geräteunabhängigen Pixeln als primärer Maßeinheit anstelle von Hardwarepixeln. Grafiken und Text skalieren ordnungsgemäß ohne zusätzlichen Eingriff seitens des Entwicklers der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-305">supports automatic scaling by using the device independent pixel as its primary unit of measurement, instead of hardware pixels; graphics and text scale properly without any extra work from the application developer.</span></span> <span data-ttu-id="a3dd9-306">Die folgende Abbildung veranschaulicht anhand eines Beispiels, wie [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Text und -Grafiken mit unterschiedlichen DPI-Einstellungen angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-306">The following illustration shows an example of how [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] text and graphics are appear at different DPI settings.</span></span>  
  
 <span data-ttu-id="a3dd9-307">![Grafiken und Text mit unterschiedlichen DPI-Einstellungen](./media/graphicsmm-dpi-setting-examples.png "Graphicsmm_dpi_setting_examples")</span><span class="sxs-lookup"><span data-stu-id="a3dd9-307">![Graphics and text at different DPI settings](./media/graphicsmm-dpi-setting-examples.png "graphicsmm_dpi_setting_examples")</span></span>  
<span data-ttu-id="a3dd9-308">Grafiken und Text mit unterschiedlichen DPI-Einstellungen</span><span class="sxs-lookup"><span data-stu-id="a3dd9-308">Graphics and text at different DPI settings</span></span>  
  
<a name="visualtreehelper_class"></a>   
## <a name="visualtreehelper-class"></a><span data-ttu-id="a3dd9-309">VisualTreeHelper-Klasse</span><span class="sxs-lookup"><span data-stu-id="a3dd9-309">VisualTreeHelper Class</span></span>  
 <span data-ttu-id="a3dd9-310">Die <xref:System.Windows.Media.VisualTreeHelper> -Klasse ist eine statische Hilfsklasse, die sehr spezifischen Szenarien, z. B. entwickeln leistungsstarke benutzerdefinierte Steuerelemente nützlich ist, für die Programmierung auf Ebene der visuellen Objekte, Low-Level-Funktionen bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-310">The <xref:System.Windows.Media.VisualTreeHelper> class is a static helper class that provides low-level functionality for programming at the visual object level, which is useful in very specific scenarios, such as developing high-performance custom controls.</span></span> <span data-ttu-id="a3dd9-311">In den meisten Fällen, die auf höherer Ebene [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Framework-Objekte, z. B. <xref:System.Windows.Controls.Canvas> und <xref:System.Windows.Controls.TextBlock>, bieten größere Flexibilität und einfache Bedienung.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-311">In most case, the higher-level [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] framework objects, such as <xref:System.Windows.Controls.Canvas> and <xref:System.Windows.Controls.TextBlock>, offer greater flexibility and ease of use.</span></span>  
  
### <a name="hit-testing"></a><span data-ttu-id="a3dd9-312">Treffertests</span><span class="sxs-lookup"><span data-stu-id="a3dd9-312">Hit Testing</span></span>  
 <span data-ttu-id="a3dd9-313">Die <xref:System.Windows.Media.VisualTreeHelper> -Klasse bietet Methoden für Treffertests für visuelle Objekte, wenn die standardmäßige Unterstützung für Treffertests nicht Ihren Anforderungen entspricht.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-313">The <xref:System.Windows.Media.VisualTreeHelper> class provides methods for hit testing on visual objects when the default hit test support does not meet your needs.</span></span> <span data-ttu-id="a3dd9-314">Können Sie die <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> Methoden in der <xref:System.Windows.Media.VisualTreeHelper> Klasse, um zu bestimmen, ob ein Geometrie- oder Punktwert Koordinatenwert innerhalb der Grenzen eines angegebenen Objekts, z. B. ein Steuerelement oder eines grafischen Elements.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-314">You can use the <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> methods in the <xref:System.Windows.Media.VisualTreeHelper> class to determine whether a geometry or point coordinate value is within the boundary of a given object, such as a control or graphic element.</span></span> <span data-ttu-id="a3dd9-315">Sie können beispielsweise mit Treffertests bestimmen, ob ein Mausklick innerhalb des umschließenden Rechtecks eines Objekts innerhalb der Geometrie eines Kreises liegt. Außerdem können Sie angeben, dass die standardmäßige Implementierung des Treffertests Ihre eigenen benutzerdefinierten Treffertestberechnungen überschreibt.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-315">For example, you could use hit testing to determine whether a mouse click within the bounding rectangle of an object falls within the geometry of a circle You can also choose to override the default implementation of hit testing to perform your own custom hit test calculations.</span></span>  
  
 <span data-ttu-id="a3dd9-316">Weitere Informationen zu Treffertests finden Sie unter [Treffertests in der visuellen Ebene](hit-testing-in-the-visual-layer.md).</span><span class="sxs-lookup"><span data-stu-id="a3dd9-316">For more information on hit testing, see [Hit Testing in the Visual Layer](hit-testing-in-the-visual-layer.md).</span></span>  
  
### <a name="enumerating-the-visual-tree"></a><span data-ttu-id="a3dd9-317">Auflisten der visuellen Struktur</span><span class="sxs-lookup"><span data-stu-id="a3dd9-317">Enumerating the Visual Tree</span></span>  
 <span data-ttu-id="a3dd9-318">Die <xref:System.Windows.Media.VisualTreeHelper> -Klasse enthält Funktionen zum Auflisten der Elemente einer visuellen Struktur.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-318">The <xref:System.Windows.Media.VisualTreeHelper> class provides functionality for enumerating the members of a visual tree.</span></span> <span data-ttu-id="a3dd9-319">Um ein übergeordnetes Element abzurufen, rufen die <xref:System.Windows.Media.VisualTreeHelper.GetParent%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-319">To retrieve a parent, call the <xref:System.Windows.Media.VisualTreeHelper.GetParent%2A> method.</span></span> <span data-ttu-id="a3dd9-320">Rufen Sie zum Abrufen einer untergeordneten oder unmittelbaren Nachfolgerelements eines visuellen Objekts, das <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-320">To retrieve a child, or direct descendant, of a visual object, call the <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A> method.</span></span> <span data-ttu-id="a3dd9-321">Diese Methode gibt ein untergeordnetes Element <xref:System.Windows.Media.Visual> des übergeordneten Elements am angegebenen Index.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-321">This method returns a child <xref:System.Windows.Media.Visual> of the parent at the specified index.</span></span>  
  
 <span data-ttu-id="a3dd9-322">Im folgenden Beispiel wird veranschaulicht, wie Sie alle Nachfolgerelemente eines visuellen Objekts auflisten. Diese Methode können Sie verwenden, wenn Sie alle Renderinginformationen einer Hierarchie von visuellen Objekten serialisieren möchten.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-322">The following example shows how to enumerate all the descendants of a visual object, which is a technique you might want to use if you were interested in serializing all the rendering information of a visual object hierarchy.</span></span>  
  
 [!code-csharp[VisualsOverview#101](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml.cs#101)]
 [!code-vb[VisualsOverview#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/VisualsOverview/visualbasic/window1.xaml.vb#101)]  
  
 <span data-ttu-id="a3dd9-323">In den meisten Fällen ist die logische Struktur eine sinnvollere Darstellung der Elemente in einer [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-323">In most cases, the logical tree is a more useful representation of the elements in a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application.</span></span> <span data-ttu-id="a3dd9-324">Obwohl Sie die logische Struktur nicht ändern, ist diese Ansicht der Anwendung nützlich, um die Vererbung von Eigenschaften und das Ereignisrouting nachzuvollziehen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-324">Although you do not modify the logical tree directly, this view of the application is useful for understanding property inheritance and event routing.</span></span> <span data-ttu-id="a3dd9-325">Im Gegensatz zur visuellen Struktur die logische Struktur kann darstellen nicht visuelle Datenobjekte, z. B. <xref:System.Windows.Documents.ListItem>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-325">Unlike the visual tree, the logical tree can represent non-visual data objects, such as <xref:System.Windows.Documents.ListItem>.</span></span> <span data-ttu-id="a3dd9-326">Weitere Informationen über die logische Struktur finden Sie unter [Strukturen in WPF](../advanced/trees-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="a3dd9-326">For more information on the logical tree, see [Trees in WPF](../advanced/trees-in-wpf.md).</span></span>  
  
 <span data-ttu-id="a3dd9-327">Die <xref:System.Windows.Media.VisualTreeHelper> -Klasse stellt Methoden zum Zurückgeben des umschließenden Rechtecks visueller Objekte.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-327">The <xref:System.Windows.Media.VisualTreeHelper> class provides methods for returning the bounding rectangle of visual objects.</span></span> <span data-ttu-id="a3dd9-328">Sie können das umschließende Rechteck eines visuellen Objekts zurückgeben, durch den Aufruf <xref:System.Windows.Media.VisualTreeHelper.GetContentBounds%2A>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-328">You can return the bounding rectangle of a visual object by calling <xref:System.Windows.Media.VisualTreeHelper.GetContentBounds%2A>.</span></span> <span data-ttu-id="a3dd9-329">Sie können das umschließende Rechteck aller Nachfolgerelemente eines visuellen Objekts, einschließlich der durch den Aufruf des visuellen Objekts selbst, zurückgeben <xref:System.Windows.Media.VisualTreeHelper.GetDescendantBounds%2A>.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-329">You can return the bounding rectangle of all the descendants of a visual object, including the visual object itself, by calling <xref:System.Windows.Media.VisualTreeHelper.GetDescendantBounds%2A>.</span></span> <span data-ttu-id="a3dd9-330">Der folgende Code zeigt, wie Sie das umschließende Rechteck des visuellen Objekts und aller Nachfolgerknoten berechnen.</span><span class="sxs-lookup"><span data-stu-id="a3dd9-330">The following code shows how you would calculate the bounding rectangle of a visual object and all its descendants.</span></span>  
  
 [!code-csharp[VisualsOverview#102](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml.cs#102)]
 [!code-vb[VisualsOverview#102](~/samples/snippets/visualbasic/VS_Snippets_Wpf/VisualsOverview/visualbasic/window1.xaml.vb#102)]  
  
## <a name="see-also"></a><span data-ttu-id="a3dd9-331">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="a3dd9-331">See also</span></span>

- <xref:System.Windows.Media.Visual>
- <xref:System.Windows.Media.VisualTreeHelper>
- <xref:System.Windows.Media.DrawingVisual>
- [<span data-ttu-id="a3dd9-332">2D-Grafiken und Bildverarbeitung</span><span class="sxs-lookup"><span data-stu-id="a3dd9-332">2D Graphics and Imaging</span></span>](../advanced/optimizing-performance-2d-graphics-and-imaging.md)
- [<span data-ttu-id="a3dd9-333">Treffertests in der visuellen Ebene</span><span class="sxs-lookup"><span data-stu-id="a3dd9-333">Hit Testing in the Visual Layer</span></span>](hit-testing-in-the-visual-layer.md)
- [<span data-ttu-id="a3dd9-334">Verwenden von DrawingVisual-Objekten</span><span class="sxs-lookup"><span data-stu-id="a3dd9-334">Using DrawingVisual Objects</span></span>](using-drawingvisual-objects.md)
- [<span data-ttu-id="a3dd9-335">Tutorial: Hosten von visuellen Objekten in einer Win32-Anwendung</span><span class="sxs-lookup"><span data-stu-id="a3dd9-335">Tutorial: Hosting Visual Objects in a Win32 Application</span></span>](tutorial-hosting-visual-objects-in-a-win32-application.md)
- [<span data-ttu-id="a3dd9-336">Optimieren der WPF-Anwendungsleistung</span><span class="sxs-lookup"><span data-stu-id="a3dd9-336">Optimizing WPF Application Performance</span></span>](../advanced/optimizing-wpf-application-performance.md)
