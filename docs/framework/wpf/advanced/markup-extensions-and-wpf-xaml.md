---
title: Markuperweiterungen und WPF-XAML
ms.date: 03/30/2017
helpviewer_keywords:
- brace character [WPF]
- Binding markup extensions [WPF]
- RelativeSource markup extensions [WPF]
- XAML [WPF], markup extensions
- markup extensions [WPF]
- nesting extension syntax [WPF]
- curly brace characters ({})
- TemplateBinding markup extensions [WPF]
- StaticResource markup extensions [WPF]
- literal curly brace characters ({})
- characters [WPF], curly brace
- DynamicResource markup extensions [WPF]
ms.assetid: 618dc745-8b14-4886-833f-486d2254bb78
ms.openlocfilehash: a9e0657aa9f9dd4de0ff3f8788c686bf1535b1ad
ms.sourcegitcommit: f8c36054eab877de4d40a705aacafa2552ce70e9
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/31/2019
ms.locfileid: "75559793"
---
# <a name="markup-extensions-and-wpf-xaml"></a><span data-ttu-id="16c01-102">Markuperweiterungen und WPF-XAML</span><span class="sxs-lookup"><span data-stu-id="16c01-102">Markup Extensions and WPF XAML</span></span>
<span data-ttu-id="16c01-103">Dieses Thema bietet eine Einführung das Konzept der Markuperweiterungen für XAML und enthält eine Erläuterung der Syntaxregeln, des Zweck und des zugrunde liegenden Klassenobjektmodels.</span><span class="sxs-lookup"><span data-stu-id="16c01-103">This topic introduces the concept of markup extensions for XAML, including their syntax rules, purpose, and the class object model that underlies them.</span></span> <span data-ttu-id="16c01-104">Markuperweiterungen sind eine allgemeine Funktion der XAML-Sprache und der .NET-Implementierung von XAML-Diensten.</span><span class="sxs-lookup"><span data-stu-id="16c01-104">Markup extensions are a general feature of the XAML language and of the .NET implementation of XAML services.</span></span> <span data-ttu-id="16c01-105">In diesem Thema werden speziell Markuperweiterungen zur Verwendung in WPF XAML beschrieben.</span><span class="sxs-lookup"><span data-stu-id="16c01-105">This topic specifically details markup extensions for use in WPF XAML.</span></span>  

<a name="XAML_Processors_and_Markup_Extensions"></a>   
## <a name="xaml-processors-and-markup-extensions"></a><span data-ttu-id="16c01-106">XAML-Prozessoren und Markuperweiterungen</span><span class="sxs-lookup"><span data-stu-id="16c01-106">XAML Processors and Markup Extensions</span></span>  
 <span data-ttu-id="16c01-107">Im Allgemeinen kann ein XAML-Parser einen Attributwert entweder als Literalzeichenfolge interpretieren, die in eine Primitive konvertiert werden kann, oder auf bestimmte Weise in ein Objekt konvertieren.</span><span class="sxs-lookup"><span data-stu-id="16c01-107">Generally speaking, a XAML parser can either interpret an attribute value as a literal string that can be converted to a primitive, or convert it to an object by some means.</span></span> <span data-ttu-id="16c01-108">Eine Möglichkeit ist das Verweisen auf einen Typkonverter; dies wird im Thema [TypeConverter und XAML](typeconverters-and-xaml.md) dokumentiert.</span><span class="sxs-lookup"><span data-stu-id="16c01-108">One such means is by referencing a type converter; this is documented in the topic [TypeConverters and XAML](typeconverters-and-xaml.md).</span></span> <span data-ttu-id="16c01-109">Bestimmte Szenarios erfordern jedoch ein anderes Verhalten.</span><span class="sxs-lookup"><span data-stu-id="16c01-109">However, there are scenarios where different behavior is required.</span></span> <span data-ttu-id="16c01-110">Ein XAML-Prozessor kann z.B. angewiesen werden, dass der Wert eines Attributs nicht zu einem neuen Objekt im Objektdiagramm führen soll.</span><span class="sxs-lookup"><span data-stu-id="16c01-110">For example, a XAML processor can be instructed that a value of an attribute should not result in a new object in the object graph.</span></span> <span data-ttu-id="16c01-111">Stattdessen soll das Attribut ein Objektdiagramm ergeben, das auf ein bereits erstelltes Objekt in einem anderen Teil des Diagramms oder auf ein statisches Objekt verweist.</span><span class="sxs-lookup"><span data-stu-id="16c01-111">Instead, the attribute should result in an object graph that makes a reference to an already constructed object in another part of the graph, or a static object.</span></span> <span data-ttu-id="16c01-112">Ein anderes Szenario ist, dass ein XAML-Prozessor angewiesen werden kann, Syntax zu verwenden, die für den Konstruktor eines Objekts nicht standardmäßige Argumente bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="16c01-112">Another scenario is that a XAML processor can be instructed to use a syntax that provides non-default arguments to the constructor of an object.</span></span> <span data-ttu-id="16c01-113">Bei derartigen Szenarios eine Markuperweiterung die Lösung sein.</span><span class="sxs-lookup"><span data-stu-id="16c01-113">These are the types of scenarios where a markup extension can provide the solution.</span></span>  
  
<a name="Basic_Markup_Extension_Syntax"></a>   
## <a name="basic-markup-extension-syntax"></a><span data-ttu-id="16c01-114">Grundlegende Markuperweiterungssyntax</span><span class="sxs-lookup"><span data-stu-id="16c01-114">Basic Markup Extension Syntax</span></span>  
 <span data-ttu-id="16c01-115">Eine Markuperweiterung kann zur Bereitstellung von Werten für Eigenschaften zur Verwendung von Attributen, für Eigenschaften zur Verwendung von Eigenschaftenelementen oder für beides implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="16c01-115">A markup extension can be implemented to provide values for properties in an attribute usage, properties in a property element usage, or both.</span></span>  
  
 <span data-ttu-id="16c01-116">Wenn die Markuperweiterungssequenz zum Bereitstellen eines Attributwerts verwendet wird, wird dies durch die Verwendung von öffnenden und schließenden geschweiften Klammern ({ und }) in der Syntax für den XAML-Prozessor kenntlich gemacht.</span><span class="sxs-lookup"><span data-stu-id="16c01-116">When used to provide an attribute value, the syntax that distinguishes a markup extension sequence to a XAML processor is the presence of the opening and closing curly braces ({ and }).</span></span> <span data-ttu-id="16c01-117">Das Zeichenfolgentoken, das unmittelbar auf die öffnende geschweifte Klammer folgt, bestimmt den Typ der Markuperweiterung.</span><span class="sxs-lookup"><span data-stu-id="16c01-117">The type of markup extension is then identified by the string token immediately following the opening curly brace.</span></span>  
  
 <span data-ttu-id="16c01-118">Bei Verwendung in der Eigenschaftenelementsyntax entspricht das Erscheinungsbild der Markuperweiterung einem Element, das zum Bereitstellen eines Eigenschaftenelementwerts verwendet wird: eine XAML-Elementdeklaration, die auf die Markuperweiterungsklasse als Element verweist und von spitzen Klammern (<>) umschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="16c01-118">When used in property element syntax, a markup extension is visually the same as any other element used to provide a property element value: a XAML element declaration that references the markup extension class as an element, enclosed within angle brackets (<>).</span></span>  
  
<a name="XAML_Defined_Markup_Extensions"></a>   
## <a name="xaml-defined-markup-extensions"></a><span data-ttu-id="16c01-119">XAML-definierte Markuperweiterungen</span><span class="sxs-lookup"><span data-stu-id="16c01-119">XAML-Defined Markup Extensions</span></span>  
 <span data-ttu-id="16c01-120">Es gibt mehrere Markuperweiterungen, die nicht spezifisch für die WPF-Implementierung von XAML gelten, sondern Implementierungen für Interna oder Funktionen von XAML als Sprache sind.</span><span class="sxs-lookup"><span data-stu-id="16c01-120">Several markup extensions exist that are not specific to the WPF implementation of XAML, but are instead implementations of intrinsics or features of XAML as a language.</span></span> <span data-ttu-id="16c01-121">Diese Markuperweiterungen werden als Teil der allgemeinen .NET Framework-XAML-Dienste in der System.Xaml-Assembly implementiert und sind im XAML-Sprachnamespace enthalten.</span><span class="sxs-lookup"><span data-stu-id="16c01-121">These markup extensions are implemented in the System.Xaml assembly as part of the general .NET Framework XAML services, and are within the XAML language XAML namespace.</span></span> <span data-ttu-id="16c01-122">Im Hinblick auf die allgemeine Markupverwendung sind diese Markuperweiterungen in der Regel durch das `x:`-Präfix in der Verwendung identifizierbar.</span><span class="sxs-lookup"><span data-stu-id="16c01-122">In terms of common markup usage, these markup extensions are typically identifiable by the `x:` prefix in the usage.</span></span> <span data-ttu-id="16c01-123">Die <xref:System.Windows.Markup.MarkupExtension>-Basisklasse (auch in System. XAML definiert) stellt das Muster bereit, das von allen Markup Erweiterungen verwendet werden soll, um in XAML-Readern und XAML-Writern unterstützt zu werden, einschließlich in WPF-XAML.</span><span class="sxs-lookup"><span data-stu-id="16c01-123">The <xref:System.Windows.Markup.MarkupExtension> base class (also defined in System.Xaml) provides the pattern that all markup extensions should use in order to be supported in XAML readers and XAML writers, including in WPF XAML.</span></span>  
  
- <span data-ttu-id="16c01-124">`x:Type` stellt das <xref:System.Type> -Objekt für den benannten Typ bereit.</span><span class="sxs-lookup"><span data-stu-id="16c01-124">`x:Type` supplies the <xref:System.Type> object for the named type.</span></span> <span data-ttu-id="16c01-125">Diese Funktion wird am häufigsten in Stilen und Vorlagen verwendet.</span><span class="sxs-lookup"><span data-stu-id="16c01-125">This facility is used most frequently in styles and templates.</span></span> <span data-ttu-id="16c01-126">Weitere Informationen finden Sie unter [x:Type-Markuperweiterung](../../../desktop-wpf/xaml-services/xtype-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="16c01-126">For details, see [x:Type Markup Extension](../../../desktop-wpf/xaml-services/xtype-markup-extension.md).</span></span>  
  
- <span data-ttu-id="16c01-127">`x:Static` erzeugt statische Werte.</span><span class="sxs-lookup"><span data-stu-id="16c01-127">`x:Static` produces static values.</span></span> <span data-ttu-id="16c01-128">Die Werte stammen aus Wert-Typ-Codeentitäten, die nicht direkt dem Typ eines Zieleigenschaftswerts entsprechen, jedoch diesem Typ entsprechend ausgewertet werden können.</span><span class="sxs-lookup"><span data-stu-id="16c01-128">The values come from value-type code entities that are not directly the type of a target property's value, but can be evaluated to that type.</span></span> <span data-ttu-id="16c01-129">Weitere Informationen finden Sie unter [x:Statische Markuperweiterung](../../../desktop-wpf/xaml-services/xstatic-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="16c01-129">For details, see [x:Static Markup Extension](../../../desktop-wpf/xaml-services/xstatic-markup-extension.md).</span></span>  
  
- <span data-ttu-id="16c01-130">`x:Null` gibt `null` als Wert für eine Eigenschaft an und kann für Attribute oder Eigenschaftenelementwerte verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="16c01-130">`x:Null` specifies `null` as a value for a property and can be used either for attributes or property element values.</span></span> <span data-ttu-id="16c01-131">Weitere Informationen finden Sie unter [x:Null-Markuperweiterung](../../../desktop-wpf/xaml-services/xnull-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="16c01-131">For details, see [x:Null Markup Extension](../../../desktop-wpf/xaml-services/xnull-markup-extension.md).</span></span>  
  
- <span data-ttu-id="16c01-132">`x:Array` bietet Unterstützung für die Erstellung von allgemeinen Arrays in XAML-Syntax, wenn die Auflistungsunterstützung von WPF-Basiselementen und Steuerelementmodellen bewusst nicht verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="16c01-132">`x:Array` provides support for creation of general arrays in XAML syntax, for cases where the collection support provided by WPF base elements and control models is deliberately not used.</span></span> <span data-ttu-id="16c01-133">Weitere Informationen finden Sie unter [x:Array-Markuperweiterung](../../../desktop-wpf/xaml-services/xarray-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="16c01-133">For details, see [x:Array Markup Extension](../../../desktop-wpf/xaml-services/xarray-markup-extension.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="16c01-134">Das `x:`-Präfix wird für die typische XAML-Namespacezuordnung der systeminternen XAML-Sprache im Stammelement einer XAML-Datei oder Produktion verwendet.</span><span class="sxs-lookup"><span data-stu-id="16c01-134">The `x:` prefix is used for the typical XAML namespace mapping of the XAML language intrinsics, in the root element of a XAML file or production.</span></span> <span data-ttu-id="16c01-135">Beispielsweise initiieren die Visual Studio-Vorlagen für WPF-Anwendungen eine XAML-Datei, die diese `x:` Zuordnung verwendet.</span><span class="sxs-lookup"><span data-stu-id="16c01-135">For example, the Visual Studio templates for WPF applications initiate a XAML file using this `x:` mapping.</span></span> <span data-ttu-id="16c01-136">Sie können ein anderes Präfixtoken in Ihrer eigenen XAML-Namespacezuordnung auswählen, dieser Dokumentation wird jedoch die `x:`-Standardzuordnung für die Identifizierung der Entitäten zugrunde gelegt, die als Teil des XAML-Sprachnamespace definiert sind (im Gegensatz zu einem standardmäßigen WPF-Namespace oder anderen XAML-Namespaces, die keinem bestimmten Framework zugeordnet sind).</span><span class="sxs-lookup"><span data-stu-id="16c01-136">You could choose a different prefix token in your own XAML namespace mapping, but this documentation will assume the default `x:` mapping as a means of identifying those entities that are a defined part of the XAML namespace for the XAML language, as opposed to the WPF default namespace or other XAML namespaces not related to a specific framework.</span></span>  
  
<a name="WPF_Specific_Markup_Extensions"></a>   
## <a name="wpf-specific-markup-extensions"></a><span data-ttu-id="16c01-137">WPF-spezifische Markuperweiterungen</span><span class="sxs-lookup"><span data-stu-id="16c01-137">WPF-Specific Markup Extensions</span></span>  
 <span data-ttu-id="16c01-138">Bei der WPF-Programmierung werden am häufigsten die Markuperweiterungen mit Unterstützung für Ressourcenverweise (`StaticResource` und `DynamicResource`), und mit Unterstützung für Datenbindung verwendet (`Binding`).</span><span class="sxs-lookup"><span data-stu-id="16c01-138">The most common markup extensions used in WPF programming are those that support resource references (`StaticResource` and `DynamicResource`), and those that support data binding (`Binding`).</span></span>  
  
- <span data-ttu-id="16c01-139">`StaticResource` stellt einen Wert für eine Eigenschaft bereit, indem der Wert einer bereits definierten Ressource ersetzt wird.</span><span class="sxs-lookup"><span data-stu-id="16c01-139">`StaticResource` provides a value for a property by substituting the value of an already defined resource.</span></span> <span data-ttu-id="16c01-140">Schließlich wird eine `StaticResource`-Auswertung zur der XAML-Ladezeit vorgenommen, die während der tatsächlichen Laufzeit keinen Zugriff auf das Objektdiagramm hat.</span><span class="sxs-lookup"><span data-stu-id="16c01-140">A `StaticResource` evaluation is ultimately made at XAML load time and does not have access to the object graph at run time.</span></span> <span data-ttu-id="16c01-141">Weitere Informationen finden Sie unter [StaticResource-Markuperweiterung](staticresource-markup-extension.md)</span><span class="sxs-lookup"><span data-stu-id="16c01-141">For details, see [StaticResource Markup Extension](staticresource-markup-extension.md).</span></span>  
  
- <span data-ttu-id="16c01-142">`DynamicResource` stellt einen Wert für eine Eigenschaft bereit, indem dieser Wert als Laufzeitverweis auf eine Ressource verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="16c01-142">`DynamicResource` provides a value for a property by deferring that value to be a run-time reference to a resource.</span></span> <span data-ttu-id="16c01-143">Ein dynamischer Ressourcenverweis erzwingt jedes Mal eine neue Suche, wenn auf eine solche Ressource zugegriffen wird und diese zur Laufzeit Zugriff auf das Objektdiagramm hat.</span><span class="sxs-lookup"><span data-stu-id="16c01-143">A dynamic resource reference forces a new lookup each time that such a resource is accessed and has access to the object graph at run time.</span></span> <span data-ttu-id="16c01-144">Um diesen Zugriff abzurufen, wird das `DynamicResource` Konzept von Abhängigkeitseigenschaften im WPF-Eigenschaftensystem und ausgewerteten Ausdrücken unterstützt.</span><span class="sxs-lookup"><span data-stu-id="16c01-144">In order to get this access, `DynamicResource` concept is supported by dependency properties in the WPF property system, and evaluated expressions.</span></span> <span data-ttu-id="16c01-145">Daher kann `DynamicResource` nur für ein Abhängigkeitseigenschaftsziel verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="16c01-145">Therefore you can only use `DynamicResource` for a dependency property target.</span></span> <span data-ttu-id="16c01-146">Weitere Informationen finden Sie unter [DynamicResource-Markuperweiterung](dynamicresource-markup-extension.md)</span><span class="sxs-lookup"><span data-stu-id="16c01-146">For details, see [DynamicResource Markup Extension](dynamicresource-markup-extension.md).</span></span>  
  
- <span data-ttu-id="16c01-147">`Binding` stellt einen datengebundenen Wert für eine Eigenschaft bereit, indem der Datenkontext verwendet wird, der zur Laufzeit für das übergeordnete Objekt gilt.</span><span class="sxs-lookup"><span data-stu-id="16c01-147">`Binding` provides a data bound value for a property, using the data context that applies to the parent object at run time.</span></span> <span data-ttu-id="16c01-148">Diese Markuperweiterung ist relativ komplex, da eine komplexe Inlinesyntax für die Angabe einer Datenbindung aktiviert wird.</span><span class="sxs-lookup"><span data-stu-id="16c01-148">This markup extension is relatively complex, because it enables a substantial inline syntax for specifying a data binding.</span></span> <span data-ttu-id="16c01-149">Weitere Informationen finden Sie unter [Binding als Markuperweiterung](binding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="16c01-149">For details, see [Binding Markup Extension](binding-markup-extension.md).</span></span>  
  
- <span data-ttu-id="16c01-150">`RelativeSource` stellt Quell Informationen für eine <xref:System.Windows.Data.Binding> bereit, die mehrere mögliche Beziehungen in der Laufzeitobjekt Struktur navigieren können.</span><span class="sxs-lookup"><span data-stu-id="16c01-150">`RelativeSource` provides source information for a <xref:System.Windows.Data.Binding> that can navigate several possible relationships in the run-time object tree.</span></span> <span data-ttu-id="16c01-151">Hierdurch werden spezielle Quellbezüge für Bindungen bereitgestellt, die ohne vollständige Kenntnis der umgebenden Objektstruktur in Mehrzweckvorlagen oder in Code erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="16c01-151">This provides specialized sourcing for bindings that are created in multi-use templates or created in code without full knowledge of the surrounding object tree.</span></span> <span data-ttu-id="16c01-152">Weitere Informationen finden Sie unter [RelativeSource-Markuperweiterungen](relativesource-markupextension.md).</span><span class="sxs-lookup"><span data-stu-id="16c01-152">For details, see [RelativeSource MarkupExtension](relativesource-markupextension.md).</span></span>  
  
- <span data-ttu-id="16c01-153">`TemplateBinding` ermöglicht die Verwendung von Vorlage-Eigenschaftswerten in Steuerelementvorlagen, die von den durch das Objektmodell definierten Eigenschaften der Klasse stammen, die die Vorlage verwenden werden.</span><span class="sxs-lookup"><span data-stu-id="16c01-153">`TemplateBinding` enables a control template to use values for templated properties that come from object-model-defined properties of the class that will use the template.</span></span> <span data-ttu-id="16c01-154">Dies bedeutet, dass die Eigenschaft in der Vorlagendefinition auf einen Kontext zugreifen kann, der erst vorhanden ist, wenn die Vorlage angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="16c01-154">In other words, the property within the template definition can access a context that only exists once the template is applied.</span></span> <span data-ttu-id="16c01-155">Weitere Informationen finden Sie unter [TemplateBinding Markuperweiterung](templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="16c01-155">For details, see [TemplateBinding Markup Extension](templatebinding-markup-extension.md).</span></span> <span data-ttu-id="16c01-156">Weitere Informationen über die praktische Verwendung von `TemplateBinding`, finden Sie unter [Beispiel zum Formatieren mit ControlTemplates](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span><span class="sxs-lookup"><span data-stu-id="16c01-156">For more information on the practical use of `TemplateBinding`, see [Styling with ControlTemplates Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span></span>  
  
- <span data-ttu-id="16c01-157">`ColorConvertedBitmap` unterstützt ein relativ komplexes Bildverarbeitungsszenario.</span><span class="sxs-lookup"><span data-stu-id="16c01-157">`ColorConvertedBitmap` supports a relatively advanced imaging scenario.</span></span> <span data-ttu-id="16c01-158">Weitere Informationen finden Sie unter [ColorConvertedBitmap-Markuperweiterung](colorconvertedbitmap-markup-extension.md)</span><span class="sxs-lookup"><span data-stu-id="16c01-158">For details, see [ColorConvertedBitmap Markup Extension](colorconvertedbitmap-markup-extension.md).</span></span>  
  
- <span data-ttu-id="16c01-159">`ComponentResourceKey` und `ThemeDictionary` unterstützen Aspekte der Ressourcensuche, insbesondere für Ressourcen und Designs, mit benutzerdefinierten Steuerelementen enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="16c01-159">`ComponentResourceKey` and `ThemeDictionary` support aspects of resource lookup, particularly for resources and themes that are packaged with custom controls.</span></span> <span data-ttu-id="16c01-160">Weitere Informationen finden Sie unter [ComponentResourceKey-Markuperweiterung](componentresourcekey-markup-extension.md), [ThemeDictionary-Markuperweiterung](themedictionary-markup-extension.md), oder [Übersicht über das Erstellen von Steuerelementen](../controls/control-authoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="16c01-160">For more information, see [ComponentResourceKey Markup Extension](componentresourcekey-markup-extension.md), [ThemeDictionary Markup Extension](themedictionary-markup-extension.md), or [Control Authoring Overview](../controls/control-authoring-overview.md).</span></span>  
  
<a name="StarExtension"></a>   
## <a name="extension-classes"></a><span data-ttu-id="16c01-161">Erweiterungs Klassen \*</span><span class="sxs-lookup"><span data-stu-id="16c01-161">\*Extension Classes</span></span>  
 <span data-ttu-id="16c01-162">Sowohl für die allgemeine XAML-Sprache als auch für WPF-spezifische Markup Erweiterungen wird das Verhalten der einzelnen Markup Erweiterungen durch eine `*Extension` Klasse, die von <xref:System.Windows.Markup.MarkupExtension>abgeleitet ist, auf einen XAML-Prozessor festgelegt, und es wird eine Implementierung der <xref:System.Windows.Markup.StaticExtension.ProvideValue%2A>-Methode bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="16c01-162">For both the general XAML language and WPF-specific markup extensions, the behavior of each markup extension is identified to a XAML processor through a `*Extension` class that derives from <xref:System.Windows.Markup.MarkupExtension>, and provides an implementation of the <xref:System.Windows.Markup.StaticExtension.ProvideValue%2A> method.</span></span> <span data-ttu-id="16c01-163">Diese für jede Erweiterung verwendete Methode stellt das Objekt bereit, das bei der Auswertung der Markuperweiterung zurückgegeben wird</span><span class="sxs-lookup"><span data-stu-id="16c01-163">This method on each extension provides the object that is returned when the markup extension is evaluated.</span></span> <span data-ttu-id="16c01-164">Das zurückgegebene Objekt wird normalerweise auf Grundlage der verschiedenen Zeichenfolgentoken ausgewertet, die an die Markuperweiterung übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="16c01-164">The returned object is typically evaluated based on the various string tokens that are passed to the markup extension.</span></span>  
  
 <span data-ttu-id="16c01-165">Beispielsweise stellt die <xref:System.Windows.StaticResourceExtension>-Klasse die Oberflächen Implementierung der tatsächlichen Ressourcen Suche bereit, sodass die <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> Implementierung das angeforderte Objekt zurückgibt, wobei die Eingabe dieser speziellen Implementierung eine Zeichenfolge ist, die verwendet wird, um die Ressource nach ihrer `x:Key`zu suchen.</span><span class="sxs-lookup"><span data-stu-id="16c01-165">For example, the <xref:System.Windows.StaticResourceExtension> class provides the surface implementation of actual resource lookup so that its <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> implementation returns the object that is requested, with the input of that particular implementation being a string that is used to look up the resource by its `x:Key`.</span></span> <span data-ttu-id="16c01-166">Ein großer Teil dieser Implementierungsdetails ist nicht von Bedeutung, wenn Sie eine bestehende Markuperweiterung verwenden.</span><span class="sxs-lookup"><span data-stu-id="16c01-166">Much of this implementation detail is unimportant if you are using an existing markup extension.</span></span>  
  
 <span data-ttu-id="16c01-167">Einige Markuperweiterungen verwenden keine Zeichenfolgentokenargumente.</span><span class="sxs-lookup"><span data-stu-id="16c01-167">Some markup extensions do not use string token arguments.</span></span> <span data-ttu-id="16c01-168">Dies ist darauf zurückzuführen, dass sie einen statischen oder konsistenten Wert zurückgeben, oder darauf, dass der Kontext zum Bestimmen des zurückzugebenden Werts mit einem der durch den `serviceProvider`-Parameter übergebenen Dienste verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="16c01-168">This is either because they return a static or consistent value, or because context for what value should be returned is available through one of the services passed through the `serviceProvider` parameter.</span></span>  
  
 <span data-ttu-id="16c01-169">Das `*Extension`-Namensmuster dient der besseren Übersichtlichkeit und Konsistenz.</span><span class="sxs-lookup"><span data-stu-id="16c01-169">The `*Extension` naming pattern is for convenience and consistency.</span></span> <span data-ttu-id="16c01-170">Es ist nicht erforderlich, damit ein XAML-Prozessor diese Klasse als Unterstützung für eine Markuperweiterung identifiziert.</span><span class="sxs-lookup"><span data-stu-id="16c01-170">It is not necessary in order for a XAML processor to identify that class as support for a markup extension.</span></span> <span data-ttu-id="16c01-171">Solange Ihre Codebasis "System. XAML" enthält und .NET Framework XAML-Dienst Implementierungen verwendet, muss als XAML-Markup Erweiterung lediglich eine Ableitung von <xref:System.Windows.Markup.MarkupExtension> und die Unterstützung einer Konstruktions Syntax durchzuführen sein.</span><span class="sxs-lookup"><span data-stu-id="16c01-171">So long as your codebase includes System.Xaml and uses .NET Framework XAML Services implementations, all that is necessary to be recognized as a XAML markup extension is to derive from <xref:System.Windows.Markup.MarkupExtension> and to support a construction syntax.</span></span> <span data-ttu-id="16c01-172">WPF definiert Markup Erweiterungs fähige Klassen, die nicht dem `*Extension` Benennungs Muster folgen, z. b. <xref:System.Windows.Data.Binding>.</span><span class="sxs-lookup"><span data-stu-id="16c01-172">WPF defines markup extension-enabling classes that do not follow the `*Extension` naming pattern, for example <xref:System.Windows.Data.Binding>.</span></span> <span data-ttu-id="16c01-173">Der Grund hierfür ist normalerweise, dass die Klasse Szenarios unterstützt, die über die reine Unterstützung von Markuperweiterungen hinausgehen.</span><span class="sxs-lookup"><span data-stu-id="16c01-173">Typically the reason for this is that the class supports scenarios beyond pure markup extension support.</span></span> <span data-ttu-id="16c01-174">Im Fall von <xref:System.Windows.Data.Binding>unterstützt diese Klasse den Lauf Zeit Zugriff auf Methoden und Eigenschaften des Objekts für Szenarien, die nichts mit XAML zu tun haben.</span><span class="sxs-lookup"><span data-stu-id="16c01-174">In the case of <xref:System.Windows.Data.Binding>, that class supports run-time access to methods and properties of the object for scenarios that have nothing to do with XAML.</span></span>  
  
### <a name="extension-class-interpretation-of-initialization-text"></a><span data-ttu-id="16c01-175">Erweiterungsklasse – Interpretation der Initialisierungstext</span><span class="sxs-lookup"><span data-stu-id="16c01-175">Extension Class Interpretation of Initialization Text</span></span>  
 <span data-ttu-id="16c01-176">Die Zeichenfolgentoken, die auf den Namen der Markuperweiterung folgen und sich innerhalb der Klammern befinden, werden von einem XAML-Prozessor auf eine der folgenden Arten interpretiert:</span><span class="sxs-lookup"><span data-stu-id="16c01-176">The string tokens following the markup extension name and still within the braces are interpreted by a XAML processor in one of the following ways:</span></span>  
  
- <span data-ttu-id="16c01-177">Ein Komma fungiert immer als Trennzeichen einzelner Token.</span><span class="sxs-lookup"><span data-stu-id="16c01-177">A comma always represents the separator or delimiter of individual tokens.</span></span>  
  
- <span data-ttu-id="16c01-178">Wenn die einzelnen getrennten Token keine Gleichheitszeichen enthalten, wird jedes Token als Konstruktorargument behandelt.</span><span class="sxs-lookup"><span data-stu-id="16c01-178">If the individual separated tokens do not contain any equals signs, each token is treated as a constructor argument.</span></span> <span data-ttu-id="16c01-179">Jeder Konstruktorparameter muss als Typ angegeben werden, der von der Signatur erwartet wird, und die Angabe muss in der von der Signatur erwarteten Reihenfolge erfolgen.</span><span class="sxs-lookup"><span data-stu-id="16c01-179">Each constructor parameter must be given as the type expected by that signature, and in the proper order expected by that signature.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="16c01-180">Ein XAML-Prozessor muss den Konstruktor aufrufen, der der Argumentanzahl der Anzahl von Paaren entspricht.</span><span class="sxs-lookup"><span data-stu-id="16c01-180">A XAML processor must call the constructor that matches the argument count of the number of pairs.</span></span> <span data-ttu-id="16c01-181">Wenn Sie eine benutzerdefinierte Markup Erweiterung implementieren, stellen Sie daher nicht mehrere Konstruktoren mit der gleichen Argument Anzahl bereit.</span><span class="sxs-lookup"><span data-stu-id="16c01-181">For this reason, if you are implementing a custom markup extension, do not provide multiple constructors with the same argument count.</span></span> <span data-ttu-id="16c01-182">Das Verhalten eines XAML-Prozessors, wenn mehrere Konstruktorpfade der Markuperweiterung mit derselben Parameteranzahl vorhanden sind, ist nicht definiert. Sie sollten jedoch davon ausgehen, dass ein XAML-Prozessor eine Ausnahme auslösen kann, wenn diese Situation in den Typdefinitionen der Markuperweiterung vorliegt.</span><span class="sxs-lookup"><span data-stu-id="16c01-182">The behavior for how a XAML processor behaves if more than one markup extension constructor path with the same parameter count exists is not defined, but you should anticipate that a XAML processor is permitted to throw an exception on usage if this situation exists in the markup extension type definitions.</span></span>  
  
- <span data-ttu-id="16c01-183">Wenn die einzelnen getrennten Token Gleichheitszeichen enthalten, Ruft ein XAML-Prozessor zuerst den Parameter losen Konstruktor für die Markup Erweiterung auf.</span><span class="sxs-lookup"><span data-stu-id="16c01-183">If the individual separated tokens contain equals signs, then a XAML processor first calls the parameterless constructor for the markup extension.</span></span> <span data-ttu-id="16c01-184">Dann wird jedes Name=Wert-Paar als in der Markuperweiterung vorhandener Eigenschaftenname und als Wert interpretiert, der der Eigenschaft zuzuweisen ist.</span><span class="sxs-lookup"><span data-stu-id="16c01-184">Then, each name=value pair is interpreted as a property name that exists on the markup extension, and a value to assign to that property.</span></span>  
  
- <span data-ttu-id="16c01-185">Wenn in einer Markuperweiterung ein paralleles Ergebnis zwischen dem Konstruktorverhalten und dem Verhalten der Eigenschafteneinstellung vorliegt, können Sie zwischen den Verhalten wählen.</span><span class="sxs-lookup"><span data-stu-id="16c01-185">If there is a parallel result between the constructor behavior and the property setting behavior in a markup extension, it does not matter which behavior you use.</span></span> <span data-ttu-id="16c01-186">Wenn in einer Markuperweiterung ein paralleles Ergebnis zwischen dem Konstruktorverhalten und dem Verhalten der Eigenschafteneinstellung vorliegt, können Sie zwischen den Verhalten wählen. Die Verwendung von *Eigenschaft*`=`*Wert*-Paaren mit mehreren festlegbaren Eigenschaften für Markuperweiterungen ist gängiger, da hierbei ein geringeres Risiko besteht, Konstruktorparameter versehentlich zu vertauschen.</span><span class="sxs-lookup"><span data-stu-id="16c01-186">It is more common usage to use the *property*`=`*value* pairs for markup extensions that have more than one settable property, if only because it makes your markup more intentional and you are less likely to accidentally transpose constructor parameters.</span></span> <span data-ttu-id="16c01-187">(Wenn Sie Eigenschaft = Wert-Paare angeben, können diese Eigenschaften in beliebiger Reihenfolge angegeben werden.) Außerdem gibt es keine Garantie dafür, dass eine Markup Erweiterung einen Konstruktorparameter bereitstellt, der jede der festleg baren Eigenschaften festlegt.</span><span class="sxs-lookup"><span data-stu-id="16c01-187">(When you specify property=value pairs, those properties may be in any order.) Also, there is no guarantee that a markup extension supplies a constructor parameter that sets every one of its settable properties.</span></span> <span data-ttu-id="16c01-188"><xref:System.Windows.Data.Binding> ist beispielsweise eine Markup Erweiterung mit vielen Eigenschaften, die über die Erweiterung in der *Eigenschaft*`=`*wertformular* festgelegt werden können. <xref:System.Windows.Data.Binding> unterstützt jedoch nur zwei Konstruktoren: einen Parameter losen Konstruktor und einen, der einen Anfangs Pfad festlegt.</span><span class="sxs-lookup"><span data-stu-id="16c01-188">For example, <xref:System.Windows.Data.Binding> is a markup extension, with many properties that are settable through the extension in *property*`=`*value* form, but <xref:System.Windows.Data.Binding> only supports two constructors: a parameterless constructor, and one that sets an initial path.</span></span>  
  
- <span data-ttu-id="16c01-189">Ein Komma kann nicht ohne Vorschub als Literalzeichen an eine Markuperweiterung übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="16c01-189">A literal comma cannot be passed to a markup extension without escapement.</span></span>  
  
<a name="EscapeSequences"></a>   
## <a name="escape-sequences-and-markup-extensions"></a><span data-ttu-id="16c01-190">Escapesequenzen und Markuperweiterungen</span><span class="sxs-lookup"><span data-stu-id="16c01-190">Escape Sequences and Markup Extensions</span></span>  
 <span data-ttu-id="16c01-191">Bei der Attributbehandlung in einem XAML-Prozessor werden geschweifte Klammern als Bezeichner für Markuperweiterungssequenzen verwendet.</span><span class="sxs-lookup"><span data-stu-id="16c01-191">Attribute handling in a XAML processor uses the curly braces as indicators of a markup extension sequence.</span></span> <span data-ttu-id="16c01-192">Falls erforderlich, können Sie geschweifte Klammern als Literalzeichen angeben, indem Sie eine Escapesequenz in Form eines leeren Paars geschweifter Klammern gefolgt von der literalen geschweiften Klammer angeben.</span><span class="sxs-lookup"><span data-stu-id="16c01-192">It is also possible to produce a literal curly brace character attribute value if necessary, by entering an escape sequence using an empty curly brace pair followed by the literal curly brace.</span></span> <span data-ttu-id="16c01-193">Siehe [{} Escapesequenz: Markup Erweiterung](../../../desktop-wpf/xaml-services/escape-sequence-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="16c01-193">See [{} Escape Sequence - Markup Extension](../../../desktop-wpf/xaml-services/escape-sequence-markup-extension.md).</span></span>  
  
<a name="Nesting"></a>   
## <a name="nesting-markup-extensions-in-xaml-usage"></a><span data-ttu-id="16c01-194">Schachtelung von Markuperweiterungen in der XAML-Verwendung</span><span class="sxs-lookup"><span data-stu-id="16c01-194">Nesting Markup Extensions in XAML Usage</span></span>  
 <span data-ttu-id="16c01-195">Schachtelung mehrerer Markuperweiterungen wird unterstützt, und jeder Markuperweiterung wird tiefsten zuerst ausgewertet.</span><span class="sxs-lookup"><span data-stu-id="16c01-195">Nesting of multiple markup extensions is supported, and each markup extension will be evaluated deepest first.</span></span> <span data-ttu-id="16c01-196">Betrachten Sie z.B. die folgende Syntax:</span><span class="sxs-lookup"><span data-stu-id="16c01-196">For example, consider the following usage:</span></span>  
  
```xaml  
<Setter Property="Background"  
  Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}" />  
```  
  
 <span data-ttu-id="16c01-197">Die `x:Static`-Anweisung wird hier zuerst ausgewertet und gibt eine Zeichenfolge zurück.</span><span class="sxs-lookup"><span data-stu-id="16c01-197">In this usage, the `x:Static` statement is evaluated first and returns a string.</span></span> <span data-ttu-id="16c01-198">Diese Zeichenfolge wird dann als Argument für `DynamicResource` verwendet.</span><span class="sxs-lookup"><span data-stu-id="16c01-198">That string is then used as the argument for `DynamicResource`.</span></span>  
  
## <a name="markup-extensions-and-property-element-syntax"></a><span data-ttu-id="16c01-199">Markuperweiterungen und Eigenschaftenelementsyntax</span><span class="sxs-lookup"><span data-stu-id="16c01-199">Markup Extensions and Property Element Syntax</span></span>  
 <span data-ttu-id="16c01-200">Bei Verwendung als Objektelement, das in einen Eigenschaftenelementwert geladen wird, ist eine Markuperweiterungsklasse visuell nicht von regulären typgestützten Objekten zu unterscheiden, die in XAML verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="16c01-200">When used as an object element that fills a property element value, a markup extension class is visually indistinguishable from a typical type-backed object element that can be used in XAML.</span></span> <span data-ttu-id="16c01-201">In diesem Fall besteht der praktische Unterschied zwischen einem typischen Objektelement und einer Markuperweiterung darin, dass die Markuperweiterung entweder als typisierter Wert ausgewertet oder als Ausdruck verzögert wird.</span><span class="sxs-lookup"><span data-stu-id="16c01-201">The practical difference between a typical object element and a markup extension is that the markup extension is either evaluated to a typed value or deferred as an expression.</span></span> <span data-ttu-id="16c01-202">Aus diesem Grund unterscheiden sich die Mechanismen für mögliche Typfehler bei Eigenschaftswerten für die Markuperweiterung. Dies ist mit der Behandlung einer Eigenschaft mit später Bindung in anderen Programmiermodellen vergleichbar.</span><span class="sxs-lookup"><span data-stu-id="16c01-202">Therefore the mechanisms for any possible type errors of property values for the markup extension will be different, similar to how a late-bound property is treated in other programming models.</span></span> <span data-ttu-id="16c01-203">Ein normales Objektelement wird beim Analysieren des XAML hinsichtlich der Typübereinstimmung mit der von ihm festgelegten Zieleigenschaft ausgewertet.</span><span class="sxs-lookup"><span data-stu-id="16c01-203">An ordinary object element will be evaluated for type match against the target property it is setting when the XAML is parsed.</span></span>  
  
 <span data-ttu-id="16c01-204">Die meisten Markuperweiterungen würden keinen Inhalt oder weitere Eigenschaftenelementsyntax aufweisen, wenn sie in der Objektelementsyntax in ein Eigenschaftenelement geladen werden.</span><span class="sxs-lookup"><span data-stu-id="16c01-204">Most markup extensions, when used in object element syntax to fill a property element, would not have content or any further property element syntax within.</span></span> <span data-ttu-id="16c01-205">Deshalb würden Sie das Objektelementtag schließen und keine untergeordneten Elemente bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="16c01-205">Thus you would close the object element tag, and provide no child elements.</span></span> <span data-ttu-id="16c01-206">Wenn ein Objektelement von einem XAML-Prozessor erkannt wird, wird der Konstruktor für diese Klasse aufgerufen, die das aus dem analysierten Element erstellte Objekt instanziiert.</span><span class="sxs-lookup"><span data-stu-id="16c01-206">Whenever any object element is encountered by a XAML processor, the constructor for that class is called, which instantiates the object created from the parsed element.</span></span> <span data-ttu-id="16c01-207">Eine Markup Erweiterungs Klasse unterscheidet sich nicht: Wenn Sie möchten, dass die Markup Erweiterung in der Objekt Element Syntax verwendet werden kann, müssen Sie einen Parameter losen Konstruktor bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="16c01-207">A markup extension class is no different: if you want your markup extension to be usable in object element syntax, you must provide a parameterless constructor.</span></span> <span data-ttu-id="16c01-208">Einige vorhandene Markuperweiterungen verfügen über mindestens einen erforderlichen Eigenschaftswert, der für die effektive Initialisierung angegeben werden muss.</span><span class="sxs-lookup"><span data-stu-id="16c01-208">Some existing markup extensions have at least one required property value that must be specified for effective initialization.</span></span> <span data-ttu-id="16c01-209">Wenn dies der Fall ist, wird dieser Eigenschaftswert in der Regel als Eigenschaftenattribut für das Objektelement angegeben.</span><span class="sxs-lookup"><span data-stu-id="16c01-209">If so, that property value is typically given as a property attribute on the object element.</span></span> <span data-ttu-id="16c01-210">Markuperweiterungen mit erforderlichen Eigenschaften (sowie die Namen dieser Eigenschaften) werden auf den Referenzseiten [XAML-Namespace (x:) Sprachfeatures](../../../desktop-wpf/xaml-services/namespace-language-features.md) und [WPF-XAML-Erweiterungen](wpf-xaml-extensions.md) aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="16c01-210">In the [XAML Namespace (x:) Language Features](../../../desktop-wpf/xaml-services/namespace-language-features.md) and [WPF XAML Extensions](wpf-xaml-extensions.md) reference pages, markup extensions that have required properties (and the names of required properties) will be noted.</span></span> <span data-ttu-id="16c01-211">Des Weiteren wird auf den Referenzseiten darauf hingewiesen, wenn Objektelementsyntax oder Attributsyntax von einer Markuperweiterung nicht unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="16c01-211">Reference pages will also note if either object element syntax or attribute syntax is disallowed for particular markup extensions.</span></span> <span data-ttu-id="16c01-212">Ein wichtiger Fall ist [X: Array-Markuperweiterung](../../../desktop-wpf/xaml-services/xarray-markup-extension.md), die Attributsyntax nicht unterstützt, da der Inhalt des Arrays innerhalb der Tags als Inhalt angegeben werden muss.</span><span class="sxs-lookup"><span data-stu-id="16c01-212">A notable case is [x:Array Markup Extension](../../../desktop-wpf/xaml-services/xarray-markup-extension.md), which cannot support attribute syntax because the contents of that array must be specified within the tagging as content.</span></span> <span data-ttu-id="16c01-213">Die Arrayinhalte werden als allgemeine Objekte behandelt, sodass kein Standardtypkonverter für das Attribut zulässig ist.</span><span class="sxs-lookup"><span data-stu-id="16c01-213">The array contents are handled as general objects, therefore no default type converter for the attribute is feasible.</span></span> <span data-ttu-id="16c01-214">Außerdem erfordert [X: Array-Markuperweiterung](../../../desktop-wpf/xaml-services/xarray-markup-extension.md) einen `type`-Parameter.</span><span class="sxs-lookup"><span data-stu-id="16c01-214">Also, [x:Array Markup Extension](../../../desktop-wpf/xaml-services/xarray-markup-extension.md) requires a `type` parameter.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="16c01-215">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="16c01-215">See also</span></span>

- [<span data-ttu-id="16c01-216">Übersicht über XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="16c01-216">XAML Overview (WPF)</span></span>](../../../desktop-wpf/fundamentals/xaml.md)
- [<span data-ttu-id="16c01-217">Sprachfunktionen des XAML-Namespace (x:)</span><span class="sxs-lookup"><span data-stu-id="16c01-217">XAML Namespace (x:) Language Features</span></span>](../../../desktop-wpf/xaml-services/namespace-language-features.md)
- [<span data-ttu-id="16c01-218">WPF-XAML-Erweiterungen</span><span class="sxs-lookup"><span data-stu-id="16c01-218">WPF XAML Extensions</span></span>](wpf-xaml-extensions.md)
- [<span data-ttu-id="16c01-219">StaticResource-Markuperweiterung</span><span class="sxs-lookup"><span data-stu-id="16c01-219">StaticResource Markup Extension</span></span>](staticresource-markup-extension.md)
- [<span data-ttu-id="16c01-220">Bindung als Markuperweiterung</span><span class="sxs-lookup"><span data-stu-id="16c01-220">Binding Markup Extension</span></span>](binding-markup-extension.md)
- [<span data-ttu-id="16c01-221">DynamicResource-Markuperweiterung</span><span class="sxs-lookup"><span data-stu-id="16c01-221">DynamicResource Markup Extension</span></span>](dynamicresource-markup-extension.md)
- [<span data-ttu-id="16c01-222">x:Type-Markuperweiterung</span><span class="sxs-lookup"><span data-stu-id="16c01-222">x:Type Markup Extension</span></span>](../../../desktop-wpf/xaml-services/xtype-markup-extension.md)
