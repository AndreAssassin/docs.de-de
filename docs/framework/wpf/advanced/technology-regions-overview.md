---
title: Übersicht über die Technologieregionen
ms.date: 03/30/2017
helpviewer_keywords:
- window regions [WPF]
- Win32 code [WPF], WPF interoperation
- Win32 code [WPF], airspace
- airspace [WPF]
- interoperability [WPF], airspace
- Win32 code [WPF], window regions
ms.assetid: b7cc350f-b9e2-48b1-be14-60f3d853222e
ms.openlocfilehash: a169064052a567694b1cbd1e2f8ac2f00b047a68
ms.sourcegitcommit: 3eeea78f52ca771087a6736c23f74600cc662658
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 07/31/2019
ms.locfileid: "68671834"
---
# <a name="technology-regions-overview"></a><span data-ttu-id="e42b0-102">Übersicht über die Technologieregionen</span><span class="sxs-lookup"><span data-stu-id="e42b0-102">Technology Regions Overview</span></span>
<span data-ttu-id="e42b0-103">Wenn mehrere Präsentationstechnologien in einer Anwendung verwendet werden, wie z.B. WPF, Win32 oder DirectX, müssen diese die Renderingbereiche in einem gemeinsamen Fenster auf der obersten Ebene gemeinsam verwenden.</span><span class="sxs-lookup"><span data-stu-id="e42b0-103">If multiple presentation technologies are used in an application, such as WPF, Win32, or DirectX, they must share the rendering areas within a common top-level window.</span></span> <span data-ttu-id="e42b0-104">In diesem Thema werden die Probleme beschrieben, welche die Präsentation und Eingabe für Ihre WPF-Interoperationsanwendung beeinflussen können.</span><span class="sxs-lookup"><span data-stu-id="e42b0-104">This topic describes issues that might influence the presentation and input for your WPF interoperation application.</span></span>  
  
## <a name="regions"></a><span data-ttu-id="e42b0-105">Bereiche</span><span class="sxs-lookup"><span data-stu-id="e42b0-105">Regions</span></span>  
 <span data-ttu-id="e42b0-106">In einem obersten Fenster können Sie sich jedes HWND, das eine der Technologien einer Interoperationsanwendung umfasst, so vorstellen, als verfüge es über einen eigenen Bereich (auch als „Airspace“ bezeichnet).</span><span class="sxs-lookup"><span data-stu-id="e42b0-106">Within a top-level window, you can conceptualize that each HWND that comprises one of the technologies of an interoperation application has its own region (also called "airspace").</span></span> <span data-ttu-id="e42b0-107">Jedes Pixel im Fenster gehört zu genau einem HWND, das den Bereich dieses HWND bildet.</span><span class="sxs-lookup"><span data-stu-id="e42b0-107">Each pixel within the window belongs to exactly one HWND, which constitutes the region of that HWND.</span></span> <span data-ttu-id="e42b0-108">(Genau genommen ist mehr als ein [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Bereich vorhanden, wenn mehrere [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-HWNDs vorhanden sind. Für diese Diskussion wird jedoch davon ausgegangen, dass nur ein HWND vorhanden ist).</span><span class="sxs-lookup"><span data-stu-id="e42b0-108">(Strictly speaking, there is more than one [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] region if there is more than one [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] HWND, but for purposes of this discussion, you can assume there is only one).</span></span> <span data-ttu-id="e42b0-109">Der Bereich impliziert, dass alle Ebenen oder anderen Fenster, die versuchen, während der Anwendungslebensdauer oberhalb dieses Pixels ein Rendering durchzuführen, Teil der gleichen Renderebenentechnologie sein müssen.</span><span class="sxs-lookup"><span data-stu-id="e42b0-109">The region implies that all layers or other windows that attempt to render above that pixel during application lifetime must be part of the same render-level technology.</span></span> <span data-ttu-id="e42b0-110">Der Versuch, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] Pixel zu Rendering, führt zu unerwünschten Ergebnissen und ist durch die Interoperation-APIs so weit wie möglich nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="e42b0-110">Attempting to render [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] pixels over [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] leads to undesirable results, and is disallowed as much as possible through the interoperation APIs.</span></span>  
  
### <a name="region-examples"></a><span data-ttu-id="e42b0-111">Beispiele für Bereiche</span><span class="sxs-lookup"><span data-stu-id="e42b0-111">Region Examples</span></span>  
 <span data-ttu-id="e42b0-112">Die folgende Abbildung zeigt eine Anwendung, die [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)], DirectX und [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]kombiniert.</span><span class="sxs-lookup"><span data-stu-id="e42b0-112">The following illustration shows an application that mixes [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)], DirectX, and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="e42b0-113">Jede Technologie verwendet einen eigenen, nicht überlappenden Satz von Pixeln, und es gibt keine Probleme mit dem Bereich.</span><span class="sxs-lookup"><span data-stu-id="e42b0-113">Each technology uses its own separate, non-overlapping set of pixels, and there are no region issues.</span></span>  
  
 ![Ein Beispiel für eine Anwendung, die Win32, DirectX und WPF vermischt.](./media/technology-regions-overview/win32-directx-windows-presentation-foundation-application.png)  
  
 <span data-ttu-id="e42b0-115">Nehmen wir an, diese Anwendung verwendet die Position des Mauszeigers, um eine Animation zu erstellen, die versucht, in einem dieser drei Bereiche ein Rendering durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="e42b0-115">Suppose that this application uses the mouse pointer position to create an animation that attempts to render over any of these three regions.</span></span> <span data-ttu-id="e42b0-116">Unabhängig davon, welche Technologie für die Animation selbst verantwortlich ist, würde diese Technologie den Bereich der beiden anderen verletzen.</span><span class="sxs-lookup"><span data-stu-id="e42b0-116">No matter which technology was responsible for the animation itself, that technology would violate the region of the other two.</span></span> <span data-ttu-id="e42b0-117">Die folgende Abbildung zeigt einen Versuch, einen WPF-Kreis in einem Win32-Bereich zu rendern.</span><span class="sxs-lookup"><span data-stu-id="e42b0-117">The following illustration shows an attempt to render a WPF circle over a Win32 region.</span></span>  
  
 ![Es wurde versucht, einen WPF-Kreis über einen Win32-Bereich zu erzeugen.](./media/technology-regions-overview/render-windows-presentation-foundation-circle-over-win32-region.png)  
  
 <span data-ttu-id="e42b0-119">Auch der Versuch, Transparenz/Alphablending zwischen unterschiedlichen Technologien zu verwenden, stellt eine Verletzung dar.</span><span class="sxs-lookup"><span data-stu-id="e42b0-119">Another violation is if you try to use transparency/alpha blending between different technologies.</span></span>  <span data-ttu-id="e42b0-120">In der folgenden Abbildung verstößt das [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Feld gegen die [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] DirectX-Bereiche und.</span><span class="sxs-lookup"><span data-stu-id="e42b0-120">In the following illustration, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] box violates the [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] and DirectX regions.</span></span> <span data-ttu-id="e42b0-121">Da Pixel in diesem [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Feld halbtransparent sind, müssten Sie sowohl durch DirectX als auch [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]durch eine gemeinsame, was nicht möglich ist.</span><span class="sxs-lookup"><span data-stu-id="e42b0-121">Because pixels in that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] box are semi-transparent, they would have to be owned jointly by both DirectX and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], which is not possible.</span></span>  <span data-ttu-id="e42b0-122">Dies ist eine weitere Verletzung und kann daher nicht erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="e42b0-122">So this is another violation and cannot be built.</span></span>  
  
 ![Das Diagramm zeigt ein WPF-Feld, das die Win32-und DirectX-Regionen verletzt.](./media/technology-regions-overview/windows-foundation-presentation-box-violate-win32-directx-region.png)  
  
 <span data-ttu-id="e42b0-124">In den drei vorhergehenden Beispielen wurden rechteckige Bereiche verwendet, andere Formen sind jedoch auch möglich.</span><span class="sxs-lookup"><span data-stu-id="e42b0-124">The previous three examples used rectangular regions, but different shapes are possible.</span></span>  <span data-ttu-id="e42b0-125">Ein Bereich kann z.B. ein Loch aufweisen.</span><span class="sxs-lookup"><span data-stu-id="e42b0-125">For example, a region can have a hole.</span></span> <span data-ttu-id="e42b0-126">In der folgenden Abbildung wird [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] ein Bereich mit einem rechteckigen Loch dargestellt. Hierbei handelt [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] es sich um die kombinierte Größe der-und DirectX-Regionen.</span><span class="sxs-lookup"><span data-stu-id="e42b0-126">The following illustration shows a [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] region with a rectangular hole this is the size of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and DirectX regions combined.</span></span>  
  
 ![Diagramm, das einen Win32-Bereich mit einem rechteckigen Loch zeigt.](./media/technology-regions-overview/win32-region-rectangular-hole.png)  
  
 <span data-ttu-id="e42b0-128">Bereiche müssen nicht rechteckig sein, und können jede Form aufweisen, die von einem [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)]-HRGN (Bereich) definiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="e42b0-128">Regions can also be completely nonrectangular, or any shape describable by a [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] HRGN (region).</span></span>  
  
 ![Diagramm, das einen nicht rechteckigen Bereich anzeigt.](./media/technology-regions-overview/nonrectangular-win32-region.png)  
  
## <a name="transparency-and-top-level-windows"></a><span data-ttu-id="e42b0-130">Transparenz und Fenster der obersten Ebene</span><span class="sxs-lookup"><span data-stu-id="e42b0-130">Transparency and Top-Level Windows</span></span>  
 <span data-ttu-id="e42b0-131">Der Fenster-Manager in Windows verarbeitet tatsächlich nur [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)]-HWNDs.</span><span class="sxs-lookup"><span data-stu-id="e42b0-131">The window manager in Windows only really processes [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] HWNDs.</span></span> <span data-ttu-id="e42b0-132">Daher handelt es [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sich bei jedem <xref:System.Windows.Window> um ein HWND.</span><span class="sxs-lookup"><span data-stu-id="e42b0-132">Therefore, every [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <xref:System.Windows.Window> is an HWND.</span></span> <span data-ttu-id="e42b0-133">Das <xref:System.Windows.Window> HWND muss die allgemeinen Regeln für jedes HWND einhalten.</span><span class="sxs-lookup"><span data-stu-id="e42b0-133">The <xref:System.Windows.Window> HWND must abide by the general rules for any HWND.</span></span> <span data-ttu-id="e42b0-134">Innerhalb dieses HWND [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] kann Code alle allgemeinen [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] APIs unterstützen.</span><span class="sxs-lookup"><span data-stu-id="e42b0-134">Within that HWND, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] code can do whatever the overall [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] APIs support.</span></span> <span data-ttu-id="e42b0-135">Bei Interaktionen mit anderen HWNDs auf dem Desktop muss [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] jedoch die Verarbeitungs- und Renderingregeln von [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] beachten.</span><span class="sxs-lookup"><span data-stu-id="e42b0-135">But for interactions with other HWNDs on the desktop, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] must abide by [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] processing and rendering rules.</span></span>  [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="e42b0-136">unterstützt nicht rechteckige Fenster mithilfe [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] von APIs – HRGNs für nicht rechteckige Fenster und überlappende Fenster für ein pro-Pixel-Alpha.</span><span class="sxs-lookup"><span data-stu-id="e42b0-136">supports non-rectangular windows by using [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] APIs—HRGNs for non-rectangular windows, and layered windows for a per-pixel alpha.</span></span>  
  
 <span data-ttu-id="e42b0-137">Konstante Alpha-Schlüssel und Farbhintergründe werden nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="e42b0-137">Constant alpha and color keys are not supported.</span></span>  <span data-ttu-id="e42b0-138">Die [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)]-Funktionen für überlappende Fenster variieren je nach Plattform.</span><span class="sxs-lookup"><span data-stu-id="e42b0-138">[!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] layered window capabilities vary by platform.</span></span>  
  
 <span data-ttu-id="e42b0-139">Überlappende Fenster können dazu führen, dass das gesamte Fenster transparent (semitransparent) wird, indem ein auf jedes Pixel im Fenster anzuwendender Alphawert festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="e42b0-139">Layered windows can make the entire window translucent (semi-transparent) by specifying an alpha value to apply to every pixel in the window.</span></span>  <span data-ttu-id="e42b0-140">([!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] unterstützt Alphablending pro Pixel, dessen Verwendung in praktischen Programmen allerdings sehr schwierig ist, da Sie in diesem Modus jedes untergeordnete HWND selbst zeichnen müssen, einschließlich der Dialogfelder und Dropdownmenüs).</span><span class="sxs-lookup"><span data-stu-id="e42b0-140">([!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] in fact supports per-pixel alpha, but this is very difficult to use in practical programs because in this mode you would need to draw any child HWND yourself, including dialogs and dropdowns).</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="e42b0-141">unterstützt HRGNs; für diese Funktionalität gibt es jedoch keine verwalteten APIs.</span><span class="sxs-lookup"><span data-stu-id="e42b0-141">supports HRGNs; however, there are no managed APIs for this functionality.</span></span> <span data-ttu-id="e42b0-142">Sie können den Platt Form Aufruf <xref:System.Windows.Interop.HwndSource> und zum Aufrufen der [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] relevanten APIs verwenden.</span><span class="sxs-lookup"><span data-stu-id="e42b0-142">You can use platform invoke and <xref:System.Windows.Interop.HwndSource> to call the relevant [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] APIs.</span></span> <span data-ttu-id="e42b0-143">Weitere Informationen finden Sie unter [Aufrufen nativer Funktionen aus verwaltetem Code](/cpp/dotnet/calling-native-functions-from-managed-code).</span><span class="sxs-lookup"><span data-stu-id="e42b0-143">For more information, see [Calling Native Functions from Managed Code](/cpp/dotnet/calling-native-functions-from-managed-code).</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="e42b0-144">überlappende Fenster haben auf verschiedenen Betriebssystemen verschiedene Funktionen.</span><span class="sxs-lookup"><span data-stu-id="e42b0-144">layered windows have different capabilities on different operating systems.</span></span> <span data-ttu-id="e42b0-145">Dies liegt daran [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] , dass DirectX zum Rendern verwendet und überlappende Fenster primär für GDI-Rendering, nicht für DirectX-Rendering entwickelt wurden.</span><span class="sxs-lookup"><span data-stu-id="e42b0-145">This is because [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses DirectX to render, and layered windows were primarily designed for GDI rendering, not DirectX rendering.</span></span>  
  
- [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="e42b0-146">unterstützt hardwarebeschleunigte überlappende Fenster unter [!INCLUDE[TLA#tla_longhorn](../../../../includes/tlasharptla-longhorn-md.md)] und höher.</span><span class="sxs-lookup"><span data-stu-id="e42b0-146">supports hardware accelerated layered windows on [!INCLUDE[TLA#tla_longhorn](../../../../includes/tlasharptla-longhorn-md.md)] and later.</span></span> <span data-ttu-id="e42b0-147">Hardware beschleunigter Windows on [!INCLUDE[TLA2#tla_winxp](../../../../includes/tla2sharptla-winxp-md.md)] erfordert Unterstützung von Microsoft DirectX, sodass die Funktionen von der Version von Microsoft DirectX auf diesem Computer abhängen.</span><span class="sxs-lookup"><span data-stu-id="e42b0-147">Hardware accelerated layered windows on [!INCLUDE[TLA2#tla_winxp](../../../../includes/tla2sharptla-winxp-md.md)] require support from Microsoft DirectX, so the capabilities will depend on the version of Microsoft DirectX on that machine.</span></span>  
  
- [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="e42b0-148">unterstützt keine Transparenz-Hintergrundfarben, da [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] nicht das Rendering der genaue Farbe, die Sie angefordert haben, nicht garantieren kann, insbesondere wenn das Rendering hardwarebeschleunigt ist.</span><span class="sxs-lookup"><span data-stu-id="e42b0-148">does not support transparency color keys, because [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] cannot guarantee to render the exact color you requested, particularly when rendering is hardware-accelerated.</span></span>  
  
- <span data-ttu-id="e42b0-149">Wenn Ihre Anwendung auf [!INCLUDE[TLA2#tla_winxp](../../../../includes/tla2sharptla-winxp-md.md)]ausgeführt wird, werden überlappende Fenster oberhalb von DirectX auf DirectX angezeigt, wenn die DirectX-Anwendung gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="e42b0-149">If your application is running on [!INCLUDE[TLA2#tla_winxp](../../../../includes/tla2sharptla-winxp-md.md)], layered windows on top of DirectX surfaces flicker when the DirectX application renders.</span></span>  <span data-ttu-id="e42b0-150">(Die tatsächliche Renderingsequenz ist, dass Microsoft Windows Graphics Device Interface (GDI) das überlappende Fenster verbirgt, dann DirectX zeichnet, und Microsoft Windows Graphics Device Interface (GDI) versetzt das überlappende Fenster wieder zurück).</span><span class="sxs-lookup"><span data-stu-id="e42b0-150">(The actual rendering sequence is that Microsoft Windows Graphics Device Interface (GDI) hides the layered window, then DirectX draws, and then Microsoft Windows Graphics Device Interface (GDI) puts the layered window back).</span></span>  <span data-ttu-id="e42b0-151">Überlappende Fenster ohne [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] besitzen diese Einschränkung ebenfalls.</span><span class="sxs-lookup"><span data-stu-id="e42b0-151">Non-[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layered windows also have this limitation.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e42b0-152">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="e42b0-152">See also</span></span>

- [<span data-ttu-id="e42b0-153">Interaktion zwischen WPF und Win32</span><span class="sxs-lookup"><span data-stu-id="e42b0-153">WPF and Win32 Interoperation</span></span>](wpf-and-win32-interoperation.md)
- [<span data-ttu-id="e42b0-154">Exemplarische Vorgehensweise: Hosting einer WPF-Uhr in Win32</span><span class="sxs-lookup"><span data-stu-id="e42b0-154">Walkthrough: Hosting a WPF Clock in Win32</span></span>](walkthrough-hosting-a-wpf-clock-in-win32.md)
- [<span data-ttu-id="e42b0-155">Hosten von Win32-Inhalt in WPF</span><span class="sxs-lookup"><span data-stu-id="e42b0-155">Hosting Win32 Content in WPF</span></span>](hosting-win32-content-in-wpf.md)
