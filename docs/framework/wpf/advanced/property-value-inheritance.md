---
title: Vererbung von Eigenschaftswerten
ms.date: 03/30/2017
helpviewer_keywords:
- inheritance [WPF], property values
- value inheritance [WPF]
- properties [WPF], value inheritance
ms.assetid: d7c338f9-f2bf-48ed-832c-7be58ac390e4
ms.openlocfilehash: b63f307d9edffd14315d383d8e06419fa141aee1
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/12/2020
ms.locfileid: "79187191"
---
# <a name="property-value-inheritance"></a><span data-ttu-id="7f9b8-102">Vererbung von Eigenschaftswerten</span><span class="sxs-lookup"><span data-stu-id="7f9b8-102">Property Value Inheritance</span></span>
<span data-ttu-id="7f9b8-103">Die Vererbung von Eigenschaftswerten ist eine Funktion des [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]-Eigenschaftssystems.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-103">Property value inheritance is a feature of the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] property system.</span></span> <span data-ttu-id="7f9b8-104">Die Vererbung von Eigenschaftswerten ermöglicht untergeordneten Elementen in einer Elementstruktur, den Wert einer bestimmten Eigenschaft von übergeordneten Elementen zu übernehmen. Dabei erben sie den Wert, der im nächsten übergeordneten Element festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-104">Property value inheritance enables child elements in a tree of elements to obtain the value of a particular property from parent elements, inheriting that value as it was set anywhere in the nearest parent element.</span></span> <span data-ttu-id="7f9b8-105">Das übergeordnete Element hat seinen Wert möglicherweise ebenfalls durch die Vererbung von Eigenschaftswerten erhalten, damit das System auf den Seitenstamm zurückgeführt werden kann.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-105">The parent element might also have obtained its value through property value inheritance, so the system potentially recurses all the way to the page root.</span></span> <span data-ttu-id="7f9b8-106">Die Vererbung von Eigenschaftswerten ist nicht das Standardverhalten eines Eigenschaftssystems. Eine Eigenschaft muss mit einer bestimmten Metadateneinstellung eingerichtet werden, damit diese die Vererbung von Eigenschaftswerten für untergeordnete Elemente veranlassen kann.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-106">Property value inheritance is not the default property system behavior; a property must be established with a particular metadata setting in order to cause that property to initiate property value inheritance on child elements.</span></span>  

<a name="Property_Value_Inheritance_is_Containment_Inheritance"></a>
## <a name="property-value-inheritance-is-containment-inheritance"></a><span data-ttu-id="7f9b8-107">Die Vererbung von Eigenschaftswerten ist eine Einschlussvererbung</span><span class="sxs-lookup"><span data-stu-id="7f9b8-107">Property Value Inheritance Is Containment Inheritance</span></span>  
 <span data-ttu-id="7f9b8-108">„Vererbung“ als ein Begriff wie hier, ist nicht ganz dasselbe Konzept wie Vererbung im Typenkontext und der allgemeinen objektorientierten Programmierung, wobei abgeleitete Klassen Memberdefinitionen von ihren Basisklassen erben.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-108">"Inheritance" as a term here is not quite the same concept as inheritance in the context of types and general object-oriented programming, where derived classes inherit member definitions from their base classes.</span></span> <span data-ttu-id="7f9b8-109">Diese Bedeutung von Vererbung ist auch aktiv in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]: Eigenschaften, die in verschiedenen Basisklassen festgelegt sind, werden als Attribute für abgeleitete [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]-Klassen verfügbar gemacht, wenn sie als Elemente verwendet werden und werden dem Code als Member verfügbar gemacht.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-109">That meaning of inheritance is also active in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]: properties defined in various base classes are exposed as attributes for derived [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] classes when used as elements, and exposed as members for code.</span></span> <span data-ttu-id="7f9b8-110">Bei der Vererbung von Eigenschaftswerten geht es insbesondere darum, wie Eigenschaftswerte von einem Element zu einem anderen, auf der Grundlage der über-und untergeordneten Elementen in einer Elementstruktur, erben können.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-110">Property value inheritance is particularly about how property values can inherit from one element to another on the basis of the parent-child relationships within a tree of elements.</span></span> <span data-ttu-id="7f9b8-111">Diese Elementstruktur ist unmittelbar sichtbar, wenn Elemente in andere Elemente geschachtelt werden, wenn Sie Anwendungen in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]-Markup festlegen.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-111">That tree of elements is most directly visible when nesting elements inside other elements as you define applications in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] markup.</span></span> <span data-ttu-id="7f9b8-112">Objektstrukturen können auch programmgesteuert durch das Hinzufügen von Objekten zu angegebenen Auflistungen von anderen Objekten erstellt werden, und die Vererbung von Eigenschaftswerten funktioniert auf dieselbe Weise zur Laufzeit in der fertigen Struktur.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-112">Trees of objects can also be created programmatically by adding objects to designated collections of other objects, and property value inheritance works the same way in the finished tree at run time.</span></span>  
  
<a name="Practical_Applications_of_Property_Value_Inheritance"></a>
## <a name="practical-applications-of-property-value-inheritance"></a><span data-ttu-id="7f9b8-113">Vererbung von Eigenschaftswerten in der praktischen Anwendung</span><span class="sxs-lookup"><span data-stu-id="7f9b8-113">Practical Applications of Property Value Inheritance</span></span>  
 <span data-ttu-id="7f9b8-114">Die [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] APIs enthalten mehrere Eigenschaften, für die die Eigenschaftenvererbung aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-114">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] APIs include several properties that have property inheritance enabled.</span></span> <span data-ttu-id="7f9b8-115">In der Regel ist das Szenario dafür, dass sie Eigenschaft einbeziehen, wenn dies angebracht ist, damit die Eigenschaft nur einmal pro Seite festgelegt wird, aber nur wenn diese Eigenschaft auch ein Member einer der Klassenbasiselement und daher auch für die meisten der untergeordneten Elemente vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-115">Typically, the scenario for these is that they involve a property where it is appropriate that the property be set only once per page, but where that property is also a member of one of the base element classes and thus would also exist on most of the child elements.</span></span> <span data-ttu-id="7f9b8-116">Die <xref:System.Windows.FrameworkElement.FlowDirection%2A> Eigenschaft steuert beispielsweise, welche Richtung fließender Inhalt auf der Seite dargestellt und angeordnet werden soll.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-116">For example, the <xref:System.Windows.FrameworkElement.FlowDirection%2A> property controls which direction flowed content should be presented and arranged on the page.</span></span> <span data-ttu-id="7f9b8-117">In der Regel möchten Sie, dass das Textflusskonzept bei allen untergeordneten Elemente einheitlich behandelt werden soll.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-117">Typically, you want the text flow concept to be handled consistently throughout all child elements.</span></span> <span data-ttu-id="7f9b8-118">Wenn die Flussrichtung aus irgendeinem Grund in einer Ebene der Elementstruktur durch Benutzer oder Umgebungsaktionen zurückgesetzt wurde, sollten sie in der Regel in der gesamten Elementstruktur zurückgesetzt werden.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-118">If flow direction were for some reason reset in some level of the element tree by user or environment action, it should typically be reset throughout.</span></span> <span data-ttu-id="7f9b8-119">Wenn <xref:System.Windows.FrameworkElement.FlowDirection%2A> die Eigenschaft zum Erben gemacht wird, muss der Wert nur einmal auf der Ebene in der Elementstruktur festgelegt oder zurückgesetzt werden, die die Präsentationsanforderungen jeder Seite in der Anwendung umfasst.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-119">When the <xref:System.Windows.FrameworkElement.FlowDirection%2A> property is made to inherit, the value need only be set or reset once at the level in the element tree that encompasses the presentation needs of each page in the application.</span></span> <span data-ttu-id="7f9b8-120">Auf diese Weise wird auch der anfängliche Standardwert erben.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-120">Even the initial default value will inherit in this way.</span></span> <span data-ttu-id="7f9b8-121">Das Eigenschaftswert-Vererbungsmodell kann weiterhin einzelne Elemente aktivieren, um den Wert in den seltenen Fällen zurückzusetzen, in denen eine Mischung aus Flussrichtungen beabsichtigt ist.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-121">The property value inheritance model still enables individual elements to reset the value for the rare cases where having a mix of flow directions is intentional.</span></span>  
  
<a name="Making_a_Custom_Property_Inheritable"></a>
## <a name="making-a-custom-property-inheritable"></a><span data-ttu-id="7f9b8-122">Erstellen einer benutzerdefinierten, vererbbaren Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="7f9b8-122">Making a Custom Property Inheritable</span></span>  
 <span data-ttu-id="7f9b8-123">Ändern Sie die Metadaten einer benutzerdefinierten Eigenschaft, können Sie auch Ihre eigenen benutzerdefinierten Eigenschaften vererbbar machen.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-123">By changing a custom property's metadata, you can also make your own custom properties inheritable.</span></span> <span data-ttu-id="7f9b8-124">Beachten Sie jedoch, dass das Festlegen einer Eigenschaft als vererbbar Überlegungen zur Leistung notwendig macht.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-124">Note, however, that designating a property as inheritable does have some performance considerations.</span></span> <span data-ttu-id="7f9b8-125">In Fällen, in denen diese Eigenschaft keinen festgelegten lokalen Wert oder einen Wert hat, der durch die Stile, Vorlagen oder Datenbindung erreicht wird, stellt eine vererbbare Eigenschaft ihre zugewiesenen Eigenschaftswerte allen untergeordneten Elemente in der logischen Struktur zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-125">In cases where that property does not have an established local value, or a value obtained through styles, templates, or data binding, an inheritable property provides its assigned property values to all child elements in the logical tree.</span></span>  
  
 <span data-ttu-id="7f9b8-126">Erstellen Sie eine benutzerdefinierte, angefügte Eigenschaft wie unter [Registrieren einer angefügten Eigenschaft](how-to-register-an-attached-property.md) beschrieben, um eine Eigenschaft an der Vererbung von Eigenschaftswerten zu beteiligen.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-126">To make a property participate in value inheritance, create a custom attached property, as described in [Register an Attached Property](how-to-register-an-attached-property.md).</span></span> <span data-ttu-id="7f9b8-127">Registrieren Sie die<xref:System.Windows.FrameworkPropertyMetadata>Eigenschaft mit Metadaten ( ), und geben Sie die Option "Vererbt" in den Optionseinstellungen innerhalb dieser Metadaten an.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-127">Register the property with metadata (<xref:System.Windows.FrameworkPropertyMetadata>) and specify the "Inherits" option in the options settings within that metadata.</span></span> <span data-ttu-id="7f9b8-128">Stellen Sie außerdem sicher, dass die Eigenschaft einen festgelegten Standardwert hat, da dieser Wert nun erbt.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-128">Also make sure that the property has an established default value, because that value will now inherit.</span></span> <span data-ttu-id="7f9b8-129">Obwohl Sie die Eigenschaft als angehängt registriert haben, empfiehlt es sich auch eine Eigenschaft „Wrapper“ für den Get/Set-Zugriff auf den Besitzertyp zu erstellen, genauso wie Sie es bei einer „nicht angefügten“ Abhängigkeitseigenschaft machen würden.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-129">Although you registered the property as attached, you might also want to create a property "wrapper" for get/set access on the owner type, just as you would for an "nonattached" dependency property.</span></span> <span data-ttu-id="7f9b8-130">Danach kann die vererbbare Eigenschaft entweder mithilfe des direkten Eigenschaftenwrappers für den Besitzertyp oder den abgeleiteten Typ <xref:System.Windows.DependencyObject>festgelegt werden, oder sie kann mithilfe der angefügten Eigenschaftssyntax für jede festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-130">After doing so, the inheritable property can either be set by using the direct property wrapper on the owner type or derived types, or it can be set by using the attached property syntax on any <xref:System.Windows.DependencyObject>.</span></span>  
  
 <span data-ttu-id="7f9b8-131">Angefügte Eigenschaften ähneln konzeptionell globalen Eigenschaften. Sie können auf jedem <xref:System.Windows.DependencyObject> Wert nach dem Wert suchen und ein gültiges Ergebnis erhalten.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-131">Attached properties are conceptually similar to global properties; you can check for the value on any <xref:System.Windows.DependencyObject> and get a valid result.</span></span> <span data-ttu-id="7f9b8-132">Das typische Szenario für angefügte Eigenschaften besteht darin, Eigenschaftswerte für untergeordnete Elemente festzulegen, und dieses Szenario ist effektiver, wenn<xref:System.Windows.DependencyObject>es sich bei der betreffenden Eigenschaft um eine angefügte Eigenschaft handelt, die immer implizit als angefügte Eigenschaft für jedes Element ( ) in der Struktur vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-132">The typical scenario for attached properties is to set property values on child elements, and that scenario is more effective if the property in question is an attached property that is always implicitly present as an attached property on each element (<xref:System.Windows.DependencyObject>) in the tree.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="7f9b8-133">Obwohl die Vererbung von Eigenschaftswerten bei nicht angefügten Abhängigkeitseigenschaften zu funktionieren scheint, ist das Vererbungsverhalten einer nicht angefügten Eigenschaft über bestimmte Elementgrenzen in der Laufzeitstruktur nicht festgelegt.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-133">Although property value inheritance might appear to work for nonattached dependency properties, the inheritance behavior for a nonattached property through certain element boundaries in the run-time tree is undefined.</span></span> <span data-ttu-id="7f9b8-134">Verwenden <xref:System.Windows.DependencyProperty.RegisterAttached%2A> Sie immer zum <xref:System.Windows.FrameworkPropertyMetadata.Inherits%2A> Registrieren von Eigenschaften, die Sie in den Metadaten angeben.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-134">Always use <xref:System.Windows.DependencyProperty.RegisterAttached%2A> to register properties where you specify <xref:System.Windows.FrameworkPropertyMetadata.Inherits%2A> in the metadata.</span></span>  
  
<a name="InheritanceContext"></a>
## <a name="inheriting-property-values-across-tree-boundaries"></a><span data-ttu-id="7f9b8-135">Vererbung von Eigenschaftswerten über Strukturgrenzen hinweg</span><span class="sxs-lookup"><span data-stu-id="7f9b8-135">Inheriting Property Values Across Tree Boundaries</span></span>  
 <span data-ttu-id="7f9b8-136">Vererbung erfolgt durch die Traversierung einer Elementstruktur.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-136">Property inheritance works by traversing a tree of elements.</span></span> <span data-ttu-id="7f9b8-137">Diese Struktur ist häufig parallel zur logischen Struktur.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-137">This tree is often parallel to the logical tree.</span></span> <span data-ttu-id="7f9b8-138">Wenn Sie jedoch ein WPF-Objekt auf Kernebene in das Markup einschließen, das eine Elementstruktur definiert, z. B. eine <xref:System.Windows.Media.Brush>, haben Sie eine diskontinuierliche logische Struktur erstellt.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-138">However, whenever you include a WPF core-level object in the markup that defines an element tree, such as a <xref:System.Windows.Media.Brush>, you have created a discontinuous logical tree.</span></span> <span data-ttu-id="7f9b8-139">Eine echte logische Struktur erstreckt sich <xref:System.Windows.Media.Brush>konzeptionell nicht über die , da die logische Struktur ein Konzept auf WPF-Frameworkebene ist.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-139">A true logical tree does not conceptually extend through the <xref:System.Windows.Media.Brush>, because the logical tree is a WPF framework-level concept.</span></span> <span data-ttu-id="7f9b8-140">Sie können dies in den Ergebnissen <xref:System.Windows.LogicalTreeHelper>sehen, wenn Sie die Methoden von verwenden.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-140">You can see this reflected in the results when using the methods of <xref:System.Windows.LogicalTreeHelper>.</span></span> <span data-ttu-id="7f9b8-141">Die Vererbung von Eigenschaftswerten kann diese Lücke in der logischen Struktur jedoch überbrücken und weiterhin geerbte Werte durchqueren, solange <xref:System.Windows.Controls.Frame>die vererbbare Eigenschaft als angefügte Eigenschaft registriert wurde und keine absichtliche Vererbungsblockierungsgrenze (z. B. a ) gefunden wird.</span><span class="sxs-lookup"><span data-stu-id="7f9b8-141">However, property value inheritance can bridge this gap in the logical tree and can still pass inherited values through, so long as the inheritable property was registered as an attached property and no deliberate inheritance-blocking boundary (such as a <xref:System.Windows.Controls.Frame>) is encountered.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7f9b8-142">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="7f9b8-142">See also</span></span>

- [<span data-ttu-id="7f9b8-143">Metadaten für Abhängigkeitseigenschaften</span><span class="sxs-lookup"><span data-stu-id="7f9b8-143">Dependency Property Metadata</span></span>](dependency-property-metadata.md)
- [<span data-ttu-id="7f9b8-144">Übersicht über angefügte Eigenschaften</span><span class="sxs-lookup"><span data-stu-id="7f9b8-144">Attached Properties Overview</span></span>](attached-properties-overview.md)
- [<span data-ttu-id="7f9b8-145">Dependency-Eigenschaftswert-Priorität</span><span class="sxs-lookup"><span data-stu-id="7f9b8-145">Dependency Property Value Precedence</span></span>](dependency-property-value-precedence.md)
