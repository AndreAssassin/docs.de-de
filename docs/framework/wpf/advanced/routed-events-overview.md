---
title: Übersicht über Routingereignisse
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- attached events [WPF]
- grouped button set [WPF]
- routed events [WPF]
- events [WPF], routed
- tunneling [WPF]
- events [WPF], attached
- routing strategies for events [WPF]
- button set [WPF], grouped
- bubbling [WPF]
ms.assetid: 1a2189ae-13b4-45b0-b12c-8de2e49c29d2
ms.openlocfilehash: a8ebb0259c1b5f73a2e0329cd1767b0431ba63a6
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 04/08/2019
ms.locfileid: "59171157"
---
# <a name="routed-events-overview"></a><span data-ttu-id="04b8a-102">Übersicht über Routingereignisse</span><span class="sxs-lookup"><span data-stu-id="04b8a-102">Routed Events Overview</span></span>
<span data-ttu-id="04b8a-103">Dieses Thema beschreibt das Konzept von Routingereignissen in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="04b8a-103">This topic describes the concept of routed events in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span></span> <span data-ttu-id="04b8a-104">Das Thema definiert die Terminologie von Routingereignissen, beschreibt, wie Routingereignisse anhand einer Struktur von Elementen weitergeleitet werden und führt Sie in das Erstellen Ihrer eigenen, benutzerdefinierten Routingereignisse ein.</span><span class="sxs-lookup"><span data-stu-id="04b8a-104">The topic defines routed events terminology, describes how routed events are routed through a tree of elements, summarizes how you handle routed events, and introduces how to create your own custom routed events.</span></span>
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="04b8a-105">Vorraussetzungen</span><span class="sxs-lookup"><span data-stu-id="04b8a-105">Prerequisites</span></span>  
 <span data-ttu-id="04b8a-106">In diesem Thema wird davon ausgegangen, dass Sie über grundlegende Kenntnisse zu [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] und objektorientiertem Programmieren sowie zur Konzeptualisierung der Beziehungen zwischen [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Elementen als Struktur verfügen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-106">This topic assumes that you have basic knowledge of the [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] and object-oriented programming, as well as the concept of how the relationships between [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements can be conceptualized as a tree.</span></span> <span data-ttu-id="04b8a-107">Um den Beispielen in diesem Thema zu folgen, sollten Sie zudem [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] verstehen und wissen, wie sehr einfache [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Anwendungen oder -Seiten geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="04b8a-107">In order to follow the examples in this topic, you should also understand [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] and know how to write very basic [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications or pages.</span></span> <span data-ttu-id="04b8a-108">Weitere Informationen finden Sie unter [Exemplarische Vorgehensweise: Meine erste WPF-Desktopanwendung](../getting-started/walkthrough-my-first-wpf-desktop-application.md) und [XAML Overview (WPF)](xaml-overview-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="04b8a-108">For more information, see [Walkthrough: My first WPF desktop application](../getting-started/walkthrough-my-first-wpf-desktop-application.md) and [XAML Overview (WPF)](xaml-overview-wpf.md).</span></span>  
  
<a name="routing"></a>   
## <a name="what-is-a-routed-event"></a><span data-ttu-id="04b8a-109">Was ist ein Routingereignis?</span><span class="sxs-lookup"><span data-stu-id="04b8a-109">What Is a Routed Event?</span></span>  
 <span data-ttu-id="04b8a-110">Stellen Sie sich Routingereignisse entweder aus Sicht der Funktion oder der Implementierung vor.</span><span class="sxs-lookup"><span data-stu-id="04b8a-110">You can think about routed events either from a functional or implementation perspective.</span></span> <span data-ttu-id="04b8a-111">Beide Definitionen werden hier vorgestellt, da Benutzer die Definitionen unterschiedlich hilfreich finden.</span><span class="sxs-lookup"><span data-stu-id="04b8a-111">Both definitions are presented here, because some people find one or the other definition more useful.</span></span>  
  
 <span data-ttu-id="04b8a-112">Funktionale Definition: Ein Routingereignis ist ein Ereignistyp, der Handler kann auf mehreren Listenern in einer Elementstruktur und nicht nur auf das Objekt, das das Ereignis ausgelöst hat.</span><span class="sxs-lookup"><span data-stu-id="04b8a-112">Functional definition: A routed event is a type of event that can invoke handlers on multiple listeners in an element tree, rather than just on the object that raised the event.</span></span>  
  
 <span data-ttu-id="04b8a-113">Implementierungsdefinition: Ein Routingereignis ist ein [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] -Ereignis, das von einer Instanz von gesichert wird die <xref:System.Windows.RoutedEvent> Klasse und wird verarbeitet, indem die [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] Ereignissystem.</span><span class="sxs-lookup"><span data-stu-id="04b8a-113">Implementation definition: A routed event is a [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] event that is backed by an instance of the <xref:System.Windows.RoutedEvent> class and is processed by the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] event system.</span></span>  
  
 <span data-ttu-id="04b8a-114">Eine typische [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Anwendung enthält viele Elemente.</span><span class="sxs-lookup"><span data-stu-id="04b8a-114">A typical [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application contains many elements.</span></span> <span data-ttu-id="04b8a-115">Egal ob im Code erstellt oder in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] deklariert, stehen diese Elemente in einer Beziehung einer Elementstruktur zueinander.</span><span class="sxs-lookup"><span data-stu-id="04b8a-115">Whether created in code or declared in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], these elements exist in an element tree relationship to each other.</span></span> <span data-ttu-id="04b8a-116">Die Ereignisroute kann sich abhängig von der Ereignisdefinition in eine von zwei Richtungen bewegen; im Allgemeinen bewegt sie sich vom Quellelement aus und „steigt“ in der Elementstruktur auf, bis sie den Stamm der Elementstruktur erreicht (normalerweise eine Seite oder ein Fenster).</span><span class="sxs-lookup"><span data-stu-id="04b8a-116">The event route can travel in one of two directions depending on the event definition, but generally the route travels from the source element and then "bubbles" upward through the element tree until it reaches the element tree root (typically a page or a window).</span></span> <span data-ttu-id="04b8a-117">Dieses Bubblingkonzept kommt Ihnen möglicherweise bekannt vor, wenn Sie schon einmal mit dem DHTML-Objektmodell gearbeitet haben.</span><span class="sxs-lookup"><span data-stu-id="04b8a-117">This bubbling concept might be familiar to you if you have worked with the DHTML object model previously.</span></span>  
  
 <span data-ttu-id="04b8a-118">Betrachten Sie die folgende einfache Elementstruktur:</span><span class="sxs-lookup"><span data-stu-id="04b8a-118">Consider the following simple element tree:</span></span>  
  
 [!code-xaml[EventOvwSupport#GroupButton](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml#groupbutton)]  
  
 <span data-ttu-id="04b8a-119">Diese Elementstruktur erzeugt in etwa Folgendes:</span><span class="sxs-lookup"><span data-stu-id="04b8a-119">This element tree produces something like the following:</span></span>  
  
 <span data-ttu-id="04b8a-120">![Die Schaltflächen „Ja“, „Nein“ und „Abbrechen“](./media/routedevent-ovw-1.gif "RoutedEvent_ovw_1")</span><span class="sxs-lookup"><span data-stu-id="04b8a-120">![Yes, No, and Cancel buttons](./media/routedevent-ovw-1.gif "RoutedEvent_ovw_1")</span></span>  
  
 <span data-ttu-id="04b8a-121">In dieser vereinfachten Elementstruktur ist die Quelle des eine <xref:System.Windows.Controls.Primitives.ButtonBase.Click> Ereignis ist eines von der <xref:System.Windows.Controls.Button> Elemente, und der <xref:System.Windows.Controls.Button> geklickt wurde ist das erste Element, das die Möglichkeit zum Behandeln des Ereignisses hat.</span><span class="sxs-lookup"><span data-stu-id="04b8a-121">In this simplified element tree, the source of a <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event is one of the <xref:System.Windows.Controls.Button> elements, and whichever <xref:System.Windows.Controls.Button> was clicked is the first element that has the opportunity to handle the event.</span></span> <span data-ttu-id="04b8a-122">Aber wenn keine Ereignishandler angefügt der <xref:System.Windows.Controls.Button> fungiert für das Ereignis, und klicken Sie dann nach oben an das Ereignis übergeben werden die <xref:System.Windows.Controls.Button> übergeordnete Element in der Elementstruktur, handelt es sich die <xref:System.Windows.Controls.StackPanel>.</span><span class="sxs-lookup"><span data-stu-id="04b8a-122">But if no handler attached to the <xref:System.Windows.Controls.Button> acts on the event, then the event will bubble upwards to the <xref:System.Windows.Controls.Button> parent in the element tree, which is the <xref:System.Windows.Controls.StackPanel>.</span></span> <span data-ttu-id="04b8a-123">Potenziell das Ereignis wird weitergeleitet, <xref:System.Windows.Controls.Border>, und dann bis zum Seitenstamm der Elementstruktur (nicht dargestellt).</span><span class="sxs-lookup"><span data-stu-id="04b8a-123">Potentially, the event bubbles to <xref:System.Windows.Controls.Border>, and then beyond to the page root of the element tree (not shown).</span></span>  
  
 <span data-ttu-id="04b8a-124">Das heißt, die Ereignisroute für dieses <xref:System.Windows.Controls.Primitives.ButtonBase.Click> Ereignis ist:</span><span class="sxs-lookup"><span data-stu-id="04b8a-124">In other words, the event route for this <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event is:</span></span>  
  
 <span data-ttu-id="04b8a-125">Button-->StackPanel-->Border-->...</span><span class="sxs-lookup"><span data-stu-id="04b8a-125">Button-->StackPanel-->Border-->...</span></span>  
  
### <a name="top-level-scenarios-for-routed-events"></a><span data-ttu-id="04b8a-126">Szenarios auf oberster Ebene für Routingereignisse</span><span class="sxs-lookup"><span data-stu-id="04b8a-126">Top-level Scenarios for Routed Events</span></span>  
 <span data-ttu-id="04b8a-127">Im folgenden wird eine kurze Zusammenfassung der Szenarios dargestellt, die das Konzept der Routingereignisse motiviert haben; außerdem wird erläutert, warum ein herkömmliches [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)]-Ereignis für die folgenden Szenarios nicht ausreichend ist:</span><span class="sxs-lookup"><span data-stu-id="04b8a-127">The following is a brief summary of the scenarios that motivated the routed event concept, and why a typical [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] event was not adequate for these scenarios:</span></span>  
  
 <span data-ttu-id="04b8a-128">**Zusammensetzung und Kapselung:** Verschiedene Steuerelemente in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] verfügen über ein umfangreiches Inhaltsmodell.</span><span class="sxs-lookup"><span data-stu-id="04b8a-128">**Control composition and encapsulation:** Various controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] have a rich content model.</span></span> <span data-ttu-id="04b8a-129">Sie können z. B. ein Bild innerhalb des Platzieren einer <xref:System.Windows.Controls.Button>, effektiv die visuelle Struktur der Schaltfläche Erweitert.</span><span class="sxs-lookup"><span data-stu-id="04b8a-129">For example, you can place an image inside of a <xref:System.Windows.Controls.Button>, which effectively extends the visual tree of the button.</span></span> <span data-ttu-id="04b8a-130">Das hinzugefügte Bild muss jedoch nicht unterbrechen die Treffertest-Verhalten, das bewirkt, eine Schaltfläche dass, um auf Antworten einer <xref:System.Windows.Controls.Primitives.ButtonBase.Click> seines Inhalts, selbst wenn der Benutzer auf Pixel klickt, die technisch Teil des Bilds sind.</span><span class="sxs-lookup"><span data-stu-id="04b8a-130">However, the added image must not break the hit-testing behavior that causes a button to respond to a <xref:System.Windows.Controls.Primitives.ButtonBase.Click> of its content, even if the user clicks on pixels that are technically part of the image.</span></span>  
  
 <span data-ttu-id="04b8a-131">**Einzelne Anfügepunkte für Handleranfügepunkte:** In [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)], Sie müssten den gleichen Handler mehrmals zur Verarbeitung der Ereignisse anfügen, die aus mehreren Elementen ausgelöst werden können.</span><span class="sxs-lookup"><span data-stu-id="04b8a-131">**Singular handler attachment points:** In [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)], you would have to attach the same handler multiple times to process events that could be raised from multiple elements.</span></span> <span data-ttu-id="04b8a-132">Routingereignisse ermöglichen es Ihnen, diesen Handler nur einmal anzufügen, wie im vorherigen Beispiel gezeigt wurde, und verwenden Handlerlogik, um ggf. zu bestimmen, woher das Ereignis stammt.</span><span class="sxs-lookup"><span data-stu-id="04b8a-132">Routed events enable you to attach that handler only once, as was shown in the previous example, and use handler logic to determine where the event came from if necessary.</span></span> <span data-ttu-id="04b8a-133">Dies kann z.B. der Handler für die zuvor gezeigte [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] sein:</span><span class="sxs-lookup"><span data-stu-id="04b8a-133">For instance, this might be the handler for the previously shown [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]:</span></span>  
  
 [!code-csharp[EventOvwSupport#GroupButtonCodeBehind](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml.cs#groupbuttoncodebehind)]
 [!code-vb[EventOvwSupport#GroupButtonCodeBehind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/EventOvwSupport/visualbasic/default.xaml.vb#groupbuttoncodebehind)]  
  
 <span data-ttu-id="04b8a-134">**Klassenbehandlung:** Routingereignisse lassen einen statischen Handler, die von der Klasse definiert ist.</span><span class="sxs-lookup"><span data-stu-id="04b8a-134">**Class handling:** Routed events permit a static handler that is defined by the class.</span></span> <span data-ttu-id="04b8a-135">Dieser Klassenhandler hat die Möglichkeit, ein Ereignis vor angefügten Instanzhandlern zu behandeln.</span><span class="sxs-lookup"><span data-stu-id="04b8a-135">This class handler has the opportunity to handle an event before any attached instance handlers can.</span></span>  
  
 <span data-ttu-id="04b8a-136">**Verweisen auf ein Ereignis ohne Reflektion:** Bestimmte Code und markuptechniken erfordern eine Möglichkeit, ein bestimmtes Ereignis zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="04b8a-136">**Referencing an event without reflection:** Certain code and markup techniques require a way to identify a specific event.</span></span> <span data-ttu-id="04b8a-137">Ein Routingereignis erstellt ein <xref:System.Windows.RoutedEvent> -Feld als Bezeichner, der eine stabile ereignisidentifikationstechnik bietet, die keine statischen oder Laufzeit Reflektion erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="04b8a-137">A routed event creates a <xref:System.Windows.RoutedEvent> field as an identifier, which provides a robust event identification technique that does not require static or run-time reflection.</span></span>  
  
### <a name="how-routed-events-are-implemented"></a><span data-ttu-id="04b8a-138">So werden Routingereignis implementiert</span><span class="sxs-lookup"><span data-stu-id="04b8a-138">How Routed Events Are Implemented</span></span>  
 <span data-ttu-id="04b8a-139">Ein Routingereignis ist ein [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] -Ereignis, das von einer Instanz von gestützt wird der <xref:System.Windows.RoutedEvent> Klasse und registriert die [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Ereignissystem.</span><span class="sxs-lookup"><span data-stu-id="04b8a-139">A routed event is a [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] event that is backed by an instance of the <xref:System.Windows.RoutedEvent> class and registered with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event system.</span></span> <span data-ttu-id="04b8a-140">Die <xref:System.Windows.RoutedEvent> Instanz abgerufen, die von der Registrierung bleibt in der Regel als eine `public` `static` `readonly` Feldmember der Klasse, die registriert und somit "besitzt" das Routingereignis.</span><span class="sxs-lookup"><span data-stu-id="04b8a-140">The <xref:System.Windows.RoutedEvent> instance obtained from registration is typically retained as a `public` `static` `readonly` field member of the class that registers and thus "owns" the routed event.</span></span> <span data-ttu-id="04b8a-141">Die Verbindung mit dem identisch benannten [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)]-Ereignis (das manchmal auch als „Wrapper“-Ereignis bezeichnet wird) erfolgt durch das Außerkraftsetzen der `add`- und `remove`-Implementierungen für das [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)]-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="04b8a-141">The connection to the identically named [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] event (which is sometimes termed the "wrapper" event) is accomplished by overriding the `add` and `remove` implementations for the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] event.</span></span> <span data-ttu-id="04b8a-142">Normalerweise bleiben `add` und `remove` als impliziter Standard bestehen, der die entsprechende sprachspezifische Ereignissyntax zum Hinzufügen und Entfernen von Handlern dieses Ereignisses verwendet.</span><span class="sxs-lookup"><span data-stu-id="04b8a-142">Ordinarily, the `add` and `remove` are left as an implicit default that uses the appropriate language-specific event syntax for adding and removing handlers of that event.</span></span> <span data-ttu-id="04b8a-143">Das Routingereignis unterstützungs- und Verbindungsmechanismus ähnelt im Prinzip wie eine Abhängigkeitseigenschaft ist eine [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] -Eigenschaft, die von unterstützt wird die <xref:System.Windows.DependencyProperty> Klasse und registriert die [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Eigenschaftensystem.</span><span class="sxs-lookup"><span data-stu-id="04b8a-143">The routed event backing and connection mechanism is conceptually similar to how a dependency property is a [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] property that is backed by the <xref:System.Windows.DependencyProperty> class and registered with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system.</span></span>  
  
 <span data-ttu-id="04b8a-144">Das folgende Beispiel zeigt die Deklaration für eine benutzerdefinierte `Tap` Routingereignis, einschließlich der Registrierung und der Offenlegung von der <xref:System.Windows.RoutedEvent> Feld "ID" und die `add` und `remove` Implementierungen für die `Tap` [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] Ereignis.</span><span class="sxs-lookup"><span data-stu-id="04b8a-144">The following example shows the declaration for a custom `Tap` routed event, including the registration and exposure of the <xref:System.Windows.RoutedEvent> identifier field and the `add` and `remove` implementations for the `Tap` [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] event.</span></span>  
  
 [!code-csharp[RoutedEventCustom#AddRemoveHandler](~/samples/snippets/csharp/VS_Snippets_Wpf/RoutedEventCustom/CSharp/SDKSampleLibrary/class1.cs#addremovehandler)]
 [!code-vb[RoutedEventCustom#AddRemoveHandler](~/samples/snippets/visualbasic/VS_Snippets_Wpf/RoutedEventCustom/VB/SDKSampleLibrary/Class1.vb#addremovehandler)]  
  
### <a name="routed-event-handlers-and-xaml"></a><span data-ttu-id="04b8a-145">Routingereignishandler und XAML</span><span class="sxs-lookup"><span data-stu-id="04b8a-145">Routed Event Handlers and XAML</span></span>  
 <span data-ttu-id="04b8a-146">Um einen Handler für ein Ereignis mit [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] hinzuzufügen, deklarieren Sie den Ereignisnamen als Attribut auf dem Element, das ein Ereignislistener ist.</span><span class="sxs-lookup"><span data-stu-id="04b8a-146">To add a handler for an event using [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you declare the event name as an attribute on the element that is an event listener.</span></span> <span data-ttu-id="04b8a-147">Der Wert des Attributs ist der Name Ihrer implementierten Handlermethode, die in der partiellen Klasse der CodeBehind-Datei vorhanden sein muss.</span><span class="sxs-lookup"><span data-stu-id="04b8a-147">The value of the attribute is the name of your implemented handler method, which must exist in the partial class of the code-behind file.</span></span>  
  
 [!code-xaml[EventOvwSupport#SimplestSyntax](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml#simplestsyntax)]  
  
 <span data-ttu-id="04b8a-148">Die [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]-Syntax zum Hinzufügen von Standard-[!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)]-Ereignishandlern ist die gleiche wie für das Hinzufügen von Routingereignishandlern, da Sie genauso Handler in den [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)]-Ereigniswrapper einfügen, dem eine Routingereignisimplementierung zu Grunde liegt .</span><span class="sxs-lookup"><span data-stu-id="04b8a-148">The [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] syntax for adding standard [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] event handlers is the same for adding routed event handlers, because you are really adding handlers to the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] event wrapper, which has a routed event implementation underneath.</span></span> <span data-ttu-id="04b8a-149">Weitere Informationen zum Hinzufügen von Ereignishandlern in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] finden Sie unter [Übersicht über XAML (WPF)](xaml-overview-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="04b8a-149">For more information about adding event handlers in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], see [XAML Overview (WPF)](xaml-overview-wpf.md).</span></span>  
  
<a name="routing_strategies"></a>   
## <a name="routing-strategies"></a><span data-ttu-id="04b8a-150">Routingstrategien</span><span class="sxs-lookup"><span data-stu-id="04b8a-150">Routing Strategies</span></span>  
 <span data-ttu-id="04b8a-151">Routingereignisse verwenden eine von drei Routingstrategien:</span><span class="sxs-lookup"><span data-stu-id="04b8a-151">Routed events use one of three routing strategies:</span></span>  
  
-   <span data-ttu-id="04b8a-152">**Bubbling:** Die Ereignisquelle Ereignishandler werden aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-152">**Bubbling:** Event handlers on the event source are invoked.</span></span> <span data-ttu-id="04b8a-153">Das Routingereignis wird dann auf nachfolgenden übergeordnete Elemente weitergeleitet, bis es den Stamm der Elementstruktur erreicht.</span><span class="sxs-lookup"><span data-stu-id="04b8a-153">The routed event then routes to successive parent elements until reaching the element tree root.</span></span> <span data-ttu-id="04b8a-154">Die meisten Routingereignisse verwenden die Bubblingroutingstrategie.</span><span class="sxs-lookup"><span data-stu-id="04b8a-154">Most routed events use the bubbling routing strategy.</span></span> <span data-ttu-id="04b8a-155">Bubblingroutingereignisse werden üblicherweise verwendet, um Eingabe- oder Zustandänderungen von unterschiedlichen Steuerelemente oder andere Elementen der Benutzeroberfläche zu melden.</span><span class="sxs-lookup"><span data-stu-id="04b8a-155">Bubbling routed events are generally used to report input or state changes from distinct controls or other UI elements.</span></span>  
  
-   <span data-ttu-id="04b8a-156">**Direkt:** Nur das Quellelement selbst erhält die Gelegenheit, Reaktion Handler aufrufen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-156">**Direct:** Only the source element itself is given the opportunity to invoke handlers in response.</span></span> <span data-ttu-id="04b8a-157">Dies entspricht dem „Routing“, das [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] für Ereignisse verwendet.</span><span class="sxs-lookup"><span data-stu-id="04b8a-157">This is analogous to the "routing" that [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] uses for events.</span></span> <span data-ttu-id="04b8a-158">Anders als bei einer Standard [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] -Ereignis unterstützen direkte Routingereignisse Klassenbehandlung (die Klassenbehandlung wird in einem späteren Abschnitt erläutert) und kann verwendet werden, indem <xref:System.Windows.EventSetter> und <xref:System.Windows.EventTrigger>.</span><span class="sxs-lookup"><span data-stu-id="04b8a-158">However, unlike a standard [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] event, direct routed events support class handling (class handling is explained in an upcoming section) and can be used by <xref:System.Windows.EventSetter> and <xref:System.Windows.EventTrigger>.</span></span>  
  
-   <span data-ttu-id="04b8a-159">**Tunneling:** Zunächst werden Ereignishandler am Stamm Elementstruktur aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-159">**Tunneling:** Initially, event handlers at the element tree root are invoked.</span></span> <span data-ttu-id="04b8a-160">Das Routingereignis bewegt sich dann über eine Route durch die nachfolgenden untergeordneten Elemente in Richtung des Knotenelements, das die Quelle des Routingereignisses ist (das Element, das das Routingereignis ausgelöst).</span><span class="sxs-lookup"><span data-stu-id="04b8a-160">The routed event then travels a route through successive child elements along the route, towards the node element that is the routed event source (the element that raised the routed event).</span></span> <span data-ttu-id="04b8a-161">Tunnelingroutingereignisse werden oft als Teil der Zusammensetzung eines Steuerelements verwendet oder behandelt, sodass Elemente der einzelnen Teile von Ereignissen, die für das vollständige Steuerelement spezifisch sind, bewusst unterdrückt oder ersetzt werden können.</span><span class="sxs-lookup"><span data-stu-id="04b8a-161">Tunneling routed events are often used or handled as part of the compositing for a control, such that events from composite parts can be deliberately suppressed or replaced by events that are specific to the complete control.</span></span> <span data-ttu-id="04b8a-162">Eingabeereignisse aus [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sind oft als Tunneling/Bubbling-Paar implementiert.</span><span class="sxs-lookup"><span data-stu-id="04b8a-162">Input events provided in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] often come implemented as a tunneling/bubbling pair.</span></span> <span data-ttu-id="04b8a-163">Tunnelingereignisse werden manchmal auch als Vorschauereignisse bezeichnet; dies liegt an einer Benennungskonvention für Paare.</span><span class="sxs-lookup"><span data-stu-id="04b8a-163">Tunneling events are also sometimes referred to as Preview events, because of a naming convention that is used for the pairs.</span></span>  
  
<a name="why_use"></a>   
## <a name="why-use-routed-events"></a><span data-ttu-id="04b8a-164">Was ist der Vorteil von Routingereignissen?</span><span class="sxs-lookup"><span data-stu-id="04b8a-164">Why Use Routed Events?</span></span>  
 <span data-ttu-id="04b8a-165">Als Anwendungsentwickler müssen Sie nicht immer wissen oder sicherstellen, dass das Ereignis, das Sie behandeln, als Routingereignis implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="04b8a-165">As an application developer, you do not always need to know or care that the event you are handling is implemented as a routed event.</span></span> <span data-ttu-id="04b8a-166">Weitergeleitete Ereignisse weisen ein besonderes Verhalten auf, aber dieses Verhalten ist weitestgehend unsichtbar, wenn Sie ein Ereignisses auf dem Element behandeln, in dem es ausgelöst wurde.</span><span class="sxs-lookup"><span data-stu-id="04b8a-166">Routed events have special behavior, but that behavior is largely invisible if you are handling an event on the element where it is raised.</span></span>  
  
 <span data-ttu-id="04b8a-167">Routingereignisse erweisen sich besonders dort als sehr nützlich, wo Sie eines der folgenden Szenarios verwenden: beim Definieren von gängigen Handlern am gängigen Stamm, beim Zusammensetzen eines eigenen Steuerelements oder beim Definieren Ihrer eigenen, benutzerdefinierten Steuerelementklasse.</span><span class="sxs-lookup"><span data-stu-id="04b8a-167">Where routed events become powerful is if you use any of the suggested scenarios: defining common handlers at a common root, compositing your own control, or defining your own custom control class.</span></span>  
  
 <span data-ttu-id="04b8a-168">Routingereignislistener und Routingereignisquellen müssen kein gemeinsames Ereignis in ihrer Hierarchie aufweisen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-168">Routed event listeners and routed event sources do not need to share a common event in their hierarchy.</span></span> <span data-ttu-id="04b8a-169">Alle <xref:System.Windows.UIElement> oder <xref:System.Windows.ContentElement> kann ein Ereignislistener für jedes beliebige Routingereignis sein.</span><span class="sxs-lookup"><span data-stu-id="04b8a-169">Any <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> can be an event listener for any routed event.</span></span> <span data-ttu-id="04b8a-170">Daher können Sie den kompletten Satz an Routingereignissen, die durch die Arbeits-[!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] zur Verfügung stehen, als konzeptionelle „Schnittstelle“ verwenden, über die unterschiedliche Elemente in der Anwendung Ereignisinformationen austauschen können.</span><span class="sxs-lookup"><span data-stu-id="04b8a-170">Therefore, you can use the full set of routed events available throughout the working [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] set as a conceptual "interface" whereby disparate elements in the application can exchange event information.</span></span> <span data-ttu-id="04b8a-171">Dieses „Schnittstellen“-Konzept für Routingereignisse kann besonders auf Eingabeereignisse angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="04b8a-171">This "interface" concept for routed events is particularly applicable for input events.</span></span>  
  
 <span data-ttu-id="04b8a-172">Routingereignisse können auch für die Kommunikation durch die Elementstruktur verwendet werden, da die Ereignisdaten für jedes Element auf der Route aufrechterhalten werden.</span><span class="sxs-lookup"><span data-stu-id="04b8a-172">Routed events can also be used to communicate through the element tree, because the event data for the event is perpetuated to each element in the route.</span></span> <span data-ttu-id="04b8a-173">Ein Element könnte die Ereignisdaten ändern, und diese Änderung wäre für das nächste Element auf der Route verfügbar.</span><span class="sxs-lookup"><span data-stu-id="04b8a-173">One element could change something in the event data, and that change would be available to the next element in the route.</span></span>  
  
 <span data-ttu-id="04b8a-174">Neben dem Routingaspekt gibt es zwei andere Gründe, aus denen ein beliebiges [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Ereignis möglicherweise als Routingereignis statt als [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)]-Standardereignis implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="04b8a-174">Other than the routing aspect, there are two other reasons that any given [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event might be implemented as a routed event instead of a standard [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] event.</span></span> <span data-ttu-id="04b8a-175">Wenn Sie Ihr eigenes Ereignis implementieren, können Sie auch folgende Prinzipien berücksichtigen:</span><span class="sxs-lookup"><span data-stu-id="04b8a-175">If you are implementing your own events, you might also consider these principles:</span></span>  
  
-   <span data-ttu-id="04b8a-176">Bestimmte [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Stile und Vorlagen Features wie z. B. <xref:System.Windows.EventSetter> und <xref:System.Windows.EventTrigger> erfordern das verwiesene Ereignis ein Routingereignis ist.</span><span class="sxs-lookup"><span data-stu-id="04b8a-176">Certain [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] styling and templating features such as <xref:System.Windows.EventSetter> and <xref:System.Windows.EventTrigger> require the referenced event to be a routed event.</span></span> <span data-ttu-id="04b8a-177">Dies ist das Szenario mit einem Ereignisbezeichner, das weiter oben erwähnt wurde.</span><span class="sxs-lookup"><span data-stu-id="04b8a-177">This is the event identifier scenario mentioned earlier.</span></span>  
  
-   <span data-ttu-id="04b8a-178">Routingereignisse unterstützen einen Mechanismus zur Klassenbehandlung, durch den die Klasse statische Methoden angeben kann, die die Möglichkeit haben, Routingereignisse zu behandeln, bevor registrierte Instanzenhandler darauf zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="04b8a-178">Routed events support a class handling mechanism whereby the class can specify static methods that have the opportunity to handle routed events before any registered instance handlers can access them.</span></span> <span data-ttu-id="04b8a-179">Dies ist beim Entwerfen von Steuerelementen hilfreich, da Ihre Klasse ereignisgesteuertes Klassenverhalten erzwingen kann, das nicht versehentlich durch das Behandeln eines Ereignisses auf einer Instanz unterdrückt werden kann.</span><span class="sxs-lookup"><span data-stu-id="04b8a-179">This is very useful in control design, because your class can enforce event-driven class behaviors that cannot be accidentally suppressed by handling an event on an instance.</span></span>  
  
 <span data-ttu-id="04b8a-180">Jeder der oben genannten Aspekte wird in einem separaten Abschnitt dieses Themas erläutert.</span><span class="sxs-lookup"><span data-stu-id="04b8a-180">Each of the above considerations is discussed in a separate section of this topic.</span></span>  
  
<a name="event_handing"></a>   
## <a name="adding-and-implementing-an-event-handler-for-a-routed-event"></a><span data-ttu-id="04b8a-181">Hinzufügen und implementieren eines Ereignishandlers für ein Routingereignis</span><span class="sxs-lookup"><span data-stu-id="04b8a-181">Adding and Implementing an Event Handler for a Routed Event</span></span>  
 <span data-ttu-id="04b8a-182">Zum Hinzufügen eines Ereignishandlers in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] müssen Sie einfach nur den Ereignisnamen als Attribut in ein Element einfügen und den Attributwert auf den Namen des Ereignishandlers festlegen, der einen angemessenen Delegaten implementiert, wie in folgendem Beispiel veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="04b8a-182">To add an event handler in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you simply add the event name to an element as an attribute and set the attribute value as the name of the event handler that implements an appropriate delegate, as in the following example.</span></span>  
  
 [!code-xaml[EventOvwSupport#SimplestSyntax](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml#simplestsyntax)]  
  
 `b1SetColor` <span data-ttu-id="04b8a-183">Der Name des implementierten Handlers, der Code enthält, die behandelt, die <xref:System.Windows.Controls.Primitives.ButtonBase.Click> Ereignis.</span><span class="sxs-lookup"><span data-stu-id="04b8a-183">is the name of the implemented handler that contains the code that handles the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span> `b1SetColor` <span data-ttu-id="04b8a-184">müssen die gleiche Signatur wie der <xref:System.Windows.RoutedEventHandler> -Delegaten, der den Ereignishandlerdelegaten ist für die <xref:System.Windows.Controls.Primitives.ButtonBase.Click> Ereignis.</span><span class="sxs-lookup"><span data-stu-id="04b8a-184">must have the same signature as the <xref:System.Windows.RoutedEventHandler> delegate, which is the event handler delegate for the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span> <span data-ttu-id="04b8a-185">Der erste Parameter aller Delegaten von Routingereignishandlern gibt das Element an, dem der Ereignishandler hinzugefügt wird, und der zweite Parameter gibt die Daten des Ereignisses an.</span><span class="sxs-lookup"><span data-stu-id="04b8a-185">The first parameter of all routed event handler delegates specifies the element to which the event handler is added, and the second parameter specifies the data for the event.</span></span>  
  
[!code-csharp[EventOvwSupport#SimpleHandlerA](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml.cs#simplehandlera)]
[!code-vb[EventOvwSupport#SimpleHandlerA](~/samples/snippets/visualbasic/VS_Snippets_Wpf/EventOvwSupport/visualbasic/default.xaml.vb#simplehandlera)]  
  
 <xref:System.Windows.RoutedEventHandler> <span data-ttu-id="04b8a-186">ist die grundlegende Delegat für Routingereignishandler.</span><span class="sxs-lookup"><span data-stu-id="04b8a-186">is the basic routed event handler delegate.</span></span> <span data-ttu-id="04b8a-187">Für Routingereignisse, die auf bestimmte Steuerelemente oder Szenarien ausgelegt sind, können die für die Routingereignishandler zu verwendenden Delegaten möglicherweise so spezialisiert werden, dass sie spezialisierte Ereignisdaten übertragen können.</span><span class="sxs-lookup"><span data-stu-id="04b8a-187">For routed events that are specialized for certain controls or scenarios, the delegates to use for the routed event handlers also might become more specialized, so that they can transmit specialized event data.</span></span> <span data-ttu-id="04b8a-188">Z. B. in einem gängigen Eingabeszenario Sie möglicherweise behandeln eine <xref:System.Windows.UIElement.DragEnter> Routingereignis.</span><span class="sxs-lookup"><span data-stu-id="04b8a-188">For instance, in a common input scenario, you might handle a <xref:System.Windows.UIElement.DragEnter> routed event.</span></span> <span data-ttu-id="04b8a-189">Der Handler implementieren sollte die <xref:System.Windows.DragEventHandler> delegieren.</span><span class="sxs-lookup"><span data-stu-id="04b8a-189">Your handler should implement the <xref:System.Windows.DragEventHandler> delegate.</span></span> <span data-ttu-id="04b8a-190">Mithilfe des spezifischsten Delegaten können Sie verarbeiten die <xref:System.Windows.DragEventArgs> im Handler und lesen die <xref:System.Windows.DragEventArgs.Data%2A> Eigenschaft, die die zwischenablagenutzlast des Ziehvorgangs enthält.</span><span class="sxs-lookup"><span data-stu-id="04b8a-190">By using the most specific delegate, you can process the <xref:System.Windows.DragEventArgs> in the handler and read the <xref:System.Windows.DragEventArgs.Data%2A> property, which contains the clipboard payload of the drag operation.</span></span>  
  
 <span data-ttu-id="04b8a-191">Ein vollständiges Beispiel zum Hinzufügen eines Ereignishandlers in ein Element mit [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] finden Sie unter [Behandeln eines Routingereignisses](how-to-handle-a-routed-event.md).</span><span class="sxs-lookup"><span data-stu-id="04b8a-191">For a complete example of how to add an event handler to an element using [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], see [Handle a Routed Event](how-to-handle-a-routed-event.md).</span></span>  
  
 <span data-ttu-id="04b8a-192">Das Hinzufügen eines Handlers für ein Routingereignis in einer Anwendung, die im Code erstellt wird, ist einfach.</span><span class="sxs-lookup"><span data-stu-id="04b8a-192">Adding a handler for a routed event in an application that is created in code is straightforward.</span></span> <span data-ttu-id="04b8a-193">Routingereignishandler können immer hinzugefügt werden, über eine Hilfsmethode <xref:System.Windows.UIElement.AddHandler%2A> (Dies ist dieselbe Methode, die die vorhandene Unterstützung für ruft `add`.) Allerdings haben vorhandene [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Routingereignisse für gewöhnlich Unterstützungsimplementierungen mit `add`- und `remove`-Logik, die es ermöglichen, dass die Handler für die Routingereignisse von einer sprachspezifischen Ereignissyntax hinzugefügt werden können; diese Syntax ist viel intuitiver als die Hilfsmethode.</span><span class="sxs-lookup"><span data-stu-id="04b8a-193">Routed event handlers can always be added through a helper method <xref:System.Windows.UIElement.AddHandler%2A> (which is the same method that the existing backing calls for `add`.) However, existing [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] routed events generally have backing implementations of `add` and `remove` logic that allow the handlers for routed events to be added by a language-specific event syntax, which is more intuitive syntax than the helper method.</span></span> <span data-ttu-id="04b8a-194">Im Folgenden wird die Hilfsmethode in einem Beispiel verwendet:</span><span class="sxs-lookup"><span data-stu-id="04b8a-194">The following is an example usage of the helper method:</span></span>  
  
 [!code-csharp[EventOvwSupport#AddHandlerCode](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml.cs#addhandlercode)]
 [!code-vb[EventOvwSupport#AddHandlerCode](~/samples/snippets/visualbasic/VS_Snippets_Wpf/EventOvwSupport/visualbasic/default.xaml.vb#addhandlercode)]  
  
 <span data-ttu-id="04b8a-195">Das folgende Beispiel zeigt die C# -Operatorsyntax (Visual Basic hat geringfügig andere Operatorsyntax aufgrund seiner Behandlung von Dereferenzierung):</span><span class="sxs-lookup"><span data-stu-id="04b8a-195">The next example shows the C# operator syntax (Visual Basic has slightly different operator syntax because of its handling of dereferencing):</span></span>  
  
 [!code-csharp[EventOvwSupport#AddHandlerPlusEquals](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml.cs#addhandlerplusequals)]
 [!code-vb[EventOvwSupport#AddHandlerPlusEquals](~/samples/snippets/visualbasic/VS_Snippets_Wpf/EventOvwSupport/visualbasic/default.xaml.vb#addhandlerplusequals)]  
  
 <span data-ttu-id="04b8a-196">Ein Beispiel für das Hinzufügen eines Ereignishandlers in Code finden Sie unter [Hinzufügen eines Ereignishandlers mithilfe von Code](how-to-add-an-event-handler-using-code.md).</span><span class="sxs-lookup"><span data-stu-id="04b8a-196">For an example of how to add an event handler in code, see [Add an Event Handler Using Code](how-to-add-an-event-handler-using-code.md).</span></span>  
  
 <span data-ttu-id="04b8a-197">Wenn Sie Visual Basic verwenden, können Sie auch die `Handles` Schlüsselwort, um Handler als Teil der Handlerdeklarationen hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-197">If you are using Visual Basic, you can also use the `Handles` keyword to add handlers as part of the handler declarations.</span></span> <span data-ttu-id="04b8a-198">Weitere Informationen finden Sie unter [Visual Basic- und WPF-Ereignisbehandlung](visual-basic-and-wpf-event-handling.md).</span><span class="sxs-lookup"><span data-stu-id="04b8a-198">For more information, see [Visual Basic and WPF Event Handling](visual-basic-and-wpf-event-handling.md).</span></span>  
  
<a name="concept_handled"></a>   
### <a name="the-concept-of-handled"></a><span data-ttu-id="04b8a-199">Das Handled-Konzept</span><span class="sxs-lookup"><span data-stu-id="04b8a-199">The Concept of Handled</span></span>  
 <span data-ttu-id="04b8a-200">Alle Routingereignisse verwenden eine gemeinsame Ereignisdaten-Basisklasse, <xref:System.Windows.RoutedEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="04b8a-200">All routed events share a common event data base class, <xref:System.Windows.RoutedEventArgs>.</span></span> <xref:System.Windows.RoutedEventArgs> <span data-ttu-id="04b8a-201">definiert die <xref:System.Windows.RoutedEventArgs.Handled%2A> -Eigenschaft, die einen booleschen Wert akzeptiert.</span><span class="sxs-lookup"><span data-stu-id="04b8a-201">defines the <xref:System.Windows.RoutedEventArgs.Handled%2A> property, which takes a Boolean value.</span></span> <span data-ttu-id="04b8a-202">Der Zweck der <xref:System.Windows.RoutedEventArgs.Handled%2A> Eigenschaft ist die Aktivierung von allen Ereignishandler entlang der Route, die das Routingereignis als markieren *behandelt*, durch Festlegen des Werts der <xref:System.Windows.RoutedEventArgs.Handled%2A> zu `true`.</span><span class="sxs-lookup"><span data-stu-id="04b8a-202">The purpose of the <xref:System.Windows.RoutedEventArgs.Handled%2A> property is to enable any event handler along the route to mark the routed event as *handled*, by setting the value of <xref:System.Windows.RoutedEventArgs.Handled%2A> to `true`.</span></span> <span data-ttu-id="04b8a-203">Nachdem die freigegebenen Ereignisdaten vom Handler an einem Element auf der Route verarbeitet wurden, werden die Daten wieder jedem Listener auf der Route gemeldet.</span><span class="sxs-lookup"><span data-stu-id="04b8a-203">After being processed by the handler at one element along the route, the shared event data is again reported to each listener along the route.</span></span>  
  
 <span data-ttu-id="04b8a-204">Der Wert des <xref:System.Windows.RoutedEventArgs.Handled%2A> wirkt sich auf wie ein Ereignis gemeldet oder verarbeitet werden, bei der Übertragung weiter entlang der Route.</span><span class="sxs-lookup"><span data-stu-id="04b8a-204">The value of <xref:System.Windows.RoutedEventArgs.Handled%2A> affects how a routed event is reported or processed as it travels further along the route.</span></span> <span data-ttu-id="04b8a-205">Wenn <xref:System.Windows.RoutedEventArgs.Handled%2A> ist `true` im Ereignis für ein Routingereignis, Ereignishandler, die für das Routingereignis auf anderen Elementen Lauschen sind in der Regel nicht mehr aufgerufen für diese bestimmte Ereignisinstanz.</span><span class="sxs-lookup"><span data-stu-id="04b8a-205">If <xref:System.Windows.RoutedEventArgs.Handled%2A> is `true` in the event data for a routed event, then handlers that listen for that routed event on other elements are generally no longer invoked for that particular event instance.</span></span> <span data-ttu-id="04b8a-206">Dies gilt sowohl für in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] angefügte Handler als auch für Handler, die von anderen sprachspezifischen Anfügesyntaxen für Ereignishandlern, wie z.B. `+=` oder `Handles`, hinzugefügt wurden.</span><span class="sxs-lookup"><span data-stu-id="04b8a-206">This is true both for handlers attached in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] and for handlers added by language-specific event handler attachment syntaxes such as `+=` or `Handles`.</span></span> <span data-ttu-id="04b8a-207">Für die meisten gängigen handlerszenarios, markieren Sie ein Ereignis als behandelt, indem <xref:System.Windows.RoutedEventArgs.Handled%2A> zu `true` wird "stop" routing für entweder eine Tunneling- oder bubbling-Route sowie für alle Ereignisse, die zu einem Zeitpunkt in der Route, die von einem Klassenhandler behandelt wird.</span><span class="sxs-lookup"><span data-stu-id="04b8a-207">For most common handler scenarios, marking an event as handled by setting <xref:System.Windows.RoutedEventArgs.Handled%2A> to `true` will "stop" routing for either a tunneling route or a bubbling route, and also for any event that is handled at a point in the route by a class handler.</span></span>  
  
 <span data-ttu-id="04b8a-208">Es ist jedoch bei dem Listener weiterhin Handler als Reaktion auf Routingereignisse ausgeführt können Mechanismus "HandledEventsToo", in denen <xref:System.Windows.RoutedEventArgs.Handled%2A> ist `true` in den Ereignisdaten.</span><span class="sxs-lookup"><span data-stu-id="04b8a-208">However, there is a "handledEventsToo" mechanism whereby listeners can still run handlers in response to routed events where <xref:System.Windows.RoutedEventArgs.Handled%2A> is `true` in the event data.</span></span> <span data-ttu-id="04b8a-209">Das heißt, ist die Ereignisroute nicht wirklich durch Markieren der Ereignisdaten als behandelt beendet.</span><span class="sxs-lookup"><span data-stu-id="04b8a-209">In other words, the event route is not truly stopped by marking the event data as handled.</span></span> <span data-ttu-id="04b8a-210">Sie können den HandledEventsToo-Mechanismus nur verwenden, im Code oder in einem <xref:System.Windows.EventSetter>:</span><span class="sxs-lookup"><span data-stu-id="04b8a-210">You can only use the handledEventsToo mechanism in code, or in an <xref:System.Windows.EventSetter>:</span></span>  
  
-   <span data-ttu-id="04b8a-211">Im Code anstelle einer sprachspezifischen Ereignissyntax, das funktioniert für allgemeine [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] Aufrufen von Ereignissen, die [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Methode <xref:System.Windows.UIElement.AddHandler%28System.Windows.RoutedEvent%2CSystem.Delegate%2CSystem.Boolean%29> um Ihren Handler hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-211">In code, instead of using a language-specific event syntax that works for general [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] events, call the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] method <xref:System.Windows.UIElement.AddHandler%28System.Windows.RoutedEvent%2CSystem.Delegate%2CSystem.Boolean%29> to add your handler.</span></span> <span data-ttu-id="04b8a-212">Legen Sie den Wert von `handledEventsToo` auf `true` fest.</span><span class="sxs-lookup"><span data-stu-id="04b8a-212">Specify the value of `handledEventsToo` as `true`.</span></span>  
  
-   <span data-ttu-id="04b8a-213">In einer <xref:System.Windows.EventSetter>legen die <xref:System.Windows.EventSetter.HandledEventsToo%2A> Attribut `true`.</span><span class="sxs-lookup"><span data-stu-id="04b8a-213">In an <xref:System.Windows.EventSetter>, set the <xref:System.Windows.EventSetter.HandledEventsToo%2A> attribute to be `true`.</span></span>  
  
 <span data-ttu-id="04b8a-214">Zusätzlich zu dem Verhalten, <xref:System.Windows.RoutedEventArgs.Handled%2A> Zustand erzeugt in Routingereignisse das Konzept der <xref:System.Windows.RoutedEventArgs.Handled%2A> hat Auswirkungen, wie Sie Ihre Anwendung entwerfen und den Ereignishandlercode schreiben sollten.</span><span class="sxs-lookup"><span data-stu-id="04b8a-214">In addition to the behavior that <xref:System.Windows.RoutedEventArgs.Handled%2A> state produces in routed events, the concept of <xref:System.Windows.RoutedEventArgs.Handled%2A> has implications for how you should design your application and write the event handler code.</span></span> <span data-ttu-id="04b8a-215">Sie können konzipieren <xref:System.Windows.RoutedEventArgs.Handled%2A> als ein einfaches Protokoll, das von Routingereignissen verfügbar gemacht wird.</span><span class="sxs-lookup"><span data-stu-id="04b8a-215">You can conceptualize <xref:System.Windows.RoutedEventArgs.Handled%2A> as being a simple protocol that is exposed by routed events.</span></span> <span data-ttu-id="04b8a-216">Wie Sie dieses Protokoll genau verwenden liegt bei Sie, aber der konzeptuelle Entwurf, wie der Wert des <xref:System.Windows.RoutedEventArgs.Handled%2A> soll verwendet werden, lautet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="04b8a-216">Exactly how you use this protocol is up to you, but the conceptual design for how the value of <xref:System.Windows.RoutedEventArgs.Handled%2A> is intended to be used is as follows:</span></span>  
  
-   <span data-ttu-id="04b8a-217">Wenn ein Routingereignis als behandelt markiert ist, muss es nicht von anderen Elementen auf dieser Route erneut verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="04b8a-217">If a routed event is marked as handled, then it does not need to be handled again by other elements along that route.</span></span>  
  
-   <span data-ttu-id="04b8a-218">Wenn ein Routingereignis nicht als behandelt markiert ist, haben andere Listener, die zuvor entlang der Route ausgewählt, entweder nicht registriert einen Handler, oder der Handler, die registrierten ausgewählt haben, nicht zum Bearbeiten von Daten für das Ereignis aus, und legen Sie <xref:System.Windows.RoutedEventArgs.Handled%2A> zu `true`.</span><span class="sxs-lookup"><span data-stu-id="04b8a-218">If a routed event is not marked as handled, then other listeners that were earlier along the route have chosen either not to register a handler, or the handlers that were registered chose not to manipulate the event data and set <xref:System.Windows.RoutedEventArgs.Handled%2A> to `true`.</span></span> <span data-ttu-id="04b8a-219">(Es ist selbstverständlich auch möglich, dass der aktuelle Listener der erste Punkt auf der Route ist.) Handler auf dem aktuellen Listener verfügen jetzt über drei mögliche Vorgehensweisen:</span><span class="sxs-lookup"><span data-stu-id="04b8a-219">(Or, it is of course possible that the current listener is the first point in the route.) Handlers on the current listener now have three possible courses of action:</span></span>  
  
    -   <span data-ttu-id="04b8a-220">Führen Sie keine Aktion durch; das Ereignis bleibt unbehandelt und wird an den nächsten Listener weitergeleitet.</span><span class="sxs-lookup"><span data-stu-id="04b8a-220">Take no action at all; the event remains unhandled, and the event routes to the next listener.</span></span>  
  
    -   <span data-ttu-id="04b8a-221">Führen Sie Code als Reaktion auf das Ereignis aus, aber seien Sie sich im Klaren, dass die Aktion nicht umfangreich genug war, um ein Markieren des Ereignisses als „handled“ zu rechtfertigen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-221">Execute code in response to the event, but make the determination that the action taken was not substantial enough to warrant marking the event as handled.</span></span> <span data-ttu-id="04b8a-222">Das Ereignis wird an den nächsten Listener weitergeleitet.</span><span class="sxs-lookup"><span data-stu-id="04b8a-222">The event routes to the next listener.</span></span>  
  
    -   <span data-ttu-id="04b8a-223">Führen Sie Code als Reaktion auf das Ereignis aus.</span><span class="sxs-lookup"><span data-stu-id="04b8a-223">Execute code in response to the event.</span></span> <span data-ttu-id="04b8a-224">Markieren Sie das Ereignis in den an den Handler übergebenen Ereignisdaten als „handled“, weil die ausgeführte Aktion umfangreich genug war, um das Markieren als „handled“ zu rechtfertigen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-224">Mark the event as handled in the event data passed to the handler, because the action taken was deemed substantial enough to warrant marking as handled.</span></span> <span data-ttu-id="04b8a-225">Das Ereignis weiterhin weitergeleitet werden können, an den nächsten Listener, jedoch mit <xref:System.Windows.RoutedEventArgs.Handled%2A> = `true` in seinen Ereignisdaten, sodass nur `handledEventsToo` Listener haben die Möglichkeit, weitere Handler aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-225">The event still routes to the next listener, but with <xref:System.Windows.RoutedEventArgs.Handled%2A>=`true` in its event data, so only `handledEventsToo` listeners have the opportunity to invoke further handlers.</span></span>  
  
 <span data-ttu-id="04b8a-226">Dieser konzeptuelle Entwurf wird durch die oben genannten Routingverhalten bestätigt: Es ist schwieriger (aber immer noch in Code und Formaten möglich), um Handler für Routingereignisse anzufügen, die aufgerufen werden, auch wenn ein vorheriger Handler entlang der Route bereitseingerichtethat<xref:System.Windows.RoutedEventArgs.Handled%2A>zu `true`.</span><span class="sxs-lookup"><span data-stu-id="04b8a-226">This conceptual design is reinforced by the routing behavior mentioned earlier: it is more difficult (although still possible in code or styles) to attach handlers for routed events that are invoked even if a previous handler along the route has already set <xref:System.Windows.RoutedEventArgs.Handled%2A> to `true`.</span></span>  
  
 <span data-ttu-id="04b8a-227">Weitere Informationen zu <xref:System.Windows.RoutedEventArgs.Handled%2A>Klassenbehandlung von Routingereignissen und Empfehlungen, wenn es sich um ein Routingereignis als markieren geeignete <xref:System.Windows.RoutedEventArgs.Handled%2A>, finden Sie unter [Markieren von Routingereignissen als behandelt und Klassenbehandlung](marking-routed-events-as-handled-and-class-handling.md).</span><span class="sxs-lookup"><span data-stu-id="04b8a-227">For more information about <xref:System.Windows.RoutedEventArgs.Handled%2A>, class handling of routed events, and recommendations about when it is appropriate to mark a routed event as <xref:System.Windows.RoutedEventArgs.Handled%2A>, see [Marking Routed Events as Handled, and Class Handling](marking-routed-events-as-handled-and-class-handling.md).</span></span>  
  
 <span data-ttu-id="04b8a-228">In Anwendungen ist es üblich, lediglich ein Bubblingroutingereignis auf dem Objekt zu behandeln, das es ausgelöst hat, ohne die Routingmerkmale des Ereignisses zu berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-228">In applications, it is quite common to just handle a bubbling routed event on the object that raised it, and not be concerned with the event's routing characteristics at all.</span></span> <span data-ttu-id="04b8a-229">Allerdings empfiehlt es sich immer noch, das Routingereignis in den Ereignisdaten als „handled“ zu markieren, um unvorhergesehene Nebeneffekte zu verhindern, nur für den Fall, dass ein Element, das sich weiter oben in der Elementstruktur befindet, auch einen angefügten Handler für das gleiche Routingereignis aufweist.</span><span class="sxs-lookup"><span data-stu-id="04b8a-229">However, it is still a good practice to mark the routed event as handled in the event data, to prevent unanticipated side effects just in case an element that is further up the element tree also has a handler attached for that same routed event.</span></span>  
  
<a name="class_handlers"></a>   
## <a name="class-handlers"></a><span data-ttu-id="04b8a-230">Klassenhandler</span><span class="sxs-lookup"><span data-stu-id="04b8a-230">Class Handlers</span></span>  
 <span data-ttu-id="04b8a-231">Wenn Sie eine abgeleitete Klasse definieren, in irgendeiner Art von <xref:System.Windows.DependencyObject>, Sie können auch definieren, und fügen Sie einen Klassenhandler für ein Routingereignis, das ein deklarierter oder geerbter Ereignismember Ihrer Klasse ist.</span><span class="sxs-lookup"><span data-stu-id="04b8a-231">If you are defining a class that derives in some way from <xref:System.Windows.DependencyObject>, you can also define and attach a class handler for a routed event that is a declared or inherited event member of your class.</span></span> <span data-ttu-id="04b8a-232">Klassenhandler werden vor Handler für Instanzlistener, die an eine Instanz dieser Klasse angefügt sind, aufgerufen, immer dann, wenn ein Routingevent eine Elementinstanz auf seiner Route erreicht.</span><span class="sxs-lookup"><span data-stu-id="04b8a-232">Class handlers are invoked before any instance listener handlers that are attached to an instance of that class, whenever a routed event reaches an element instance in its route.</span></span>  
  
 <span data-ttu-id="04b8a-233">Einige [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Steuerelemente verfügen über inhärente Klassenbehandlung für bestimmte Routingereignisse.</span><span class="sxs-lookup"><span data-stu-id="04b8a-233">Some [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls have inherent class handling for certain routed events.</span></span> <span data-ttu-id="04b8a-234">Dies kann nach außen den Anschein erwecken, als dass das Routingereignis nicht einmal ausgelöst wird, aber in Wirklichkeit wird es von einer Klasse behandelt, und das Routingereignis kann immer noch von Ihren Instanzhandlern behandelt werden, wenn Sie bestimmte Techniken verwenden.</span><span class="sxs-lookup"><span data-stu-id="04b8a-234">This might give the outward appearance that the routed event is not ever raised, but in reality it is being class handled, and the routed event can potentially still be handled by your instance handlers if you use certain techniques.</span></span> <span data-ttu-id="04b8a-235">Außerdem machen viele Basisklassen und Steuerelemente virtuelle Methoden verfügbar, die zum Außerkraftsetzen von Klassenbehandlungsverhalten verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="04b8a-235">Also, many base classes and controls expose virtual methods that can be used to override class handling behavior.</span></span> <span data-ttu-id="04b8a-236">Weitere Informationen sowohl zum Umgehen unerwünschter Klassenbehandlung als auch zum Definieren Ihres eigenen Klassenverhaltens in einer benutzerdefinierten Klasse finden Sie unter [Markieren von Routingereignissen als behandelt und Klassenbehandlung](marking-routed-events-as-handled-and-class-handling.md).</span><span class="sxs-lookup"><span data-stu-id="04b8a-236">For more information both on how to work around undesired class handling and on defining your own class handling in a custom class, see [Marking Routed Events as Handled, and Class Handling](marking-routed-events-as-handled-and-class-handling.md).</span></span>  
  
<a name="attached_events"></a>   
## <a name="attached-events-in-wpf"></a><span data-ttu-id="04b8a-237">Angefügte Ereignisse in WPF</span><span class="sxs-lookup"><span data-stu-id="04b8a-237">Attached Events in WPF</span></span>  
 <span data-ttu-id="04b8a-238">Die [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]-Sprache definiert auch eine besondere Art von Ereignissen, die als *angefügte Ereignisse* bezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="04b8a-238">The [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] language also defines a special type of event called an *attached event*.</span></span> <span data-ttu-id="04b8a-239">Mit einem angefügten Ereignis können Sie einen Ereignishandler für ein bestimmtes Ereignis zu einem beliebigen Element hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-239">An attached event enables you to add a handler for a particular event to an arbitrary element.</span></span> <span data-ttu-id="04b8a-240">Das Element, das das Ereignis behandelt, muss das angefügte Ereignis weder definieren noch erben; zudem muss weder das Objekt, dass das Ereignis möglicherweise auslöst, noch die dafür zuständige Instanz dieses Ereignis als Klassenmember definieren oder „besitzen“.</span><span class="sxs-lookup"><span data-stu-id="04b8a-240">The element handling the event need not define or inherit the attached event, and neither the object potentially raising the event nor the destination handling instance must define or otherwise "own" that event as a class member.</span></span>  
  
 <span data-ttu-id="04b8a-241">Das [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Eingabesystem verwendet angefügte Ereignisse in großem Umfang.</span><span class="sxs-lookup"><span data-stu-id="04b8a-241">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] input system uses attached events extensively.</span></span> <span data-ttu-id="04b8a-242">Fast alle dieser angefügten Ereignisse werden jedoch über Basiselemente weitergeleitet.</span><span class="sxs-lookup"><span data-stu-id="04b8a-242">However, nearly all of these attached events are forwarded through base elements.</span></span> <span data-ttu-id="04b8a-243">Die Eingabeereignisse erscheinen dann als äquivalente nicht angefügte Routingereignisse, die Member der Basiselementklasse sind.</span><span class="sxs-lookup"><span data-stu-id="04b8a-243">The input events then appear as equivalent non-attached routed events that are members of the base element class.</span></span> <span data-ttu-id="04b8a-244">Z. B. die zugrunde liegende angefügte Ereignis <xref:System.Windows.Input.Mouse.MouseDown?displayProperty=nameWithType> mehr problemlos verarbeitet werden können auf ein beliebiges <xref:System.Windows.UIElement> mit <xref:System.Windows.UIElement.MouseDown> , <xref:System.Windows.UIElement> statt Umgang mit Syntax für angefügte Ereignisse entweder in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] oder Code.</span><span class="sxs-lookup"><span data-stu-id="04b8a-244">For instance, the underlying attached event <xref:System.Windows.Input.Mouse.MouseDown?displayProperty=nameWithType> can more easily be handled on any given <xref:System.Windows.UIElement> by using <xref:System.Windows.UIElement.MouseDown> on that <xref:System.Windows.UIElement> rather than dealing with attached event syntax either in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] or code.</span></span>  
  
 <span data-ttu-id="04b8a-245">Weitere Informationen zu angefügten Ereignissen in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] finden Sie unter [Übersicht über angefügte Ereignisse](attached-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="04b8a-245">For more information about attached events in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Attached Events Overview](attached-events-overview.md).</span></span>  
  
<a name="Qualifying_Event_Names_in_XAML_for_Anticipated_Routing"></a>   
## <a name="qualified-event-names-in-xaml"></a><span data-ttu-id="04b8a-246">Qualifizierte Ereignisnamen in XAML</span><span class="sxs-lookup"><span data-stu-id="04b8a-246">Qualified Event Names in XAML</span></span>  
 <span data-ttu-id="04b8a-247">Wenn Sie Handler für Routingereignisse anfügen, die von untergeordneten Elementen ausgelöst werden, ist dies so ähnlich wie der Gebrauch einer *typename*.*eventname* angefügten Ereignissyntax, obwohl es sich dabei genau genommen nicht um den Gebrauch eines angefügten Ereignisses handelt.</span><span class="sxs-lookup"><span data-stu-id="04b8a-247">Another syntax usage that resembles *typename*.*eventname* attached event syntax but is not strictly speaking an attached event usage is when you attach handlers for routed events that are raised by child elements.</span></span> <span data-ttu-id="04b8a-248">Fügen Sie die Handler an ein gemeinsames übergeordnetes Element an, um von Ereignisrouting zu profitieren, auch wenn das gemeinsame übergeordnete Element möglicherweise das relevante Routingereignis nicht als Member enthält.</span><span class="sxs-lookup"><span data-stu-id="04b8a-248">You attach the handlers to a common parent, to take advantage of event routing, even though the common parent might not have the relevant routed event as a member.</span></span> <span data-ttu-id="04b8a-249">Schauen Sie sich dieses Beispiel erneut an:</span><span class="sxs-lookup"><span data-stu-id="04b8a-249">Consider this example again:</span></span>  
  
 [!code-xaml[EventOvwSupport#GroupButton](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml#groupbutton)]  
  
 <span data-ttu-id="04b8a-250">Der Listener des übergeordneten Elements, in dem der Handler hinzugefügt wird, wird eine <xref:System.Windows.Controls.StackPanel>.</span><span class="sxs-lookup"><span data-stu-id="04b8a-250">Here, the parent element listener where the handler is added is a <xref:System.Windows.Controls.StackPanel>.</span></span> <span data-ttu-id="04b8a-251">Allerdings wird einen Handler für ein Routingereignis, der deklariert wurde und es wird ausgelöst durch Hinzufügen der <xref:System.Windows.Controls.Button> Klasse (<xref:System.Windows.Controls.Primitives.ButtonBase> tatsächlich jedoch zur <xref:System.Windows.Controls.Button> durch Vererbung).</span><span class="sxs-lookup"><span data-stu-id="04b8a-251">However, it is adding a handler for a routed event that was declared and will be raised by the <xref:System.Windows.Controls.Button> class (<xref:System.Windows.Controls.Primitives.ButtonBase> actually, but available to <xref:System.Windows.Controls.Button> through inheritance).</span></span> <xref:System.Windows.Controls.Button> <span data-ttu-id="04b8a-252">"besitzt" das Ereignis, aber das System lässt Routingereignishandler für jedes beliebige Routingereignis an alle angefügt werden <xref:System.Windows.UIElement> oder <xref:System.Windows.ContentElement> Instanzlistener, der andernfalls Listener für Anhängen könnte eine [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] Ereignis.</span><span class="sxs-lookup"><span data-stu-id="04b8a-252">"owns" the event, but the routed event system permits handlers for any routed event to be attached to any <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> instance listener that could otherwise attach listeners for a [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] event.</span></span> <span data-ttu-id="04b8a-253">Der Standard-xmlns-Namespace für diese qualifizierten Attributnamen ist in der Regel der Standard-[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-xmlns-Namespace, aber Sie können auch Namespaces mit Präfix für benutzerdefinierte Routingereignisse angeben.</span><span class="sxs-lookup"><span data-stu-id="04b8a-253">The default xmlns namespace for these qualified event attribute names is typically the default [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] xmlns namespace, but you can also specify prefixed namespaces for custom routed events.</span></span> <span data-ttu-id="04b8a-254">Weitere Informationen zu xmlns finden Sie unter [XAML-Namespaces und Namespacezuordnung für WPF-XAML](xaml-namespaces-and-namespace-mapping-for-wpf-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="04b8a-254">For more information about xmlns, see [XAML Namespaces and Namespace Mapping for WPF XAML](xaml-namespaces-and-namespace-mapping-for-wpf-xaml.md).</span></span>  
  
<a name="how_event_processing_works"></a>   
## <a name="wpf-input-events"></a><span data-ttu-id="04b8a-255">Eingabeereignisse in WPF</span><span class="sxs-lookup"><span data-stu-id="04b8a-255">WPF Input Events</span></span>  
 <span data-ttu-id="04b8a-256">Routingereignisse werden auf der [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Plattform häufig für Eingabeereignisse verwendet.</span><span class="sxs-lookup"><span data-stu-id="04b8a-256">One frequent application of routed events within the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] platform is for input events.</span></span> <span data-ttu-id="04b8a-257">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] erhalten Namen von Tunnelingroutingereignissen per Konvention das Wort „Preview“ (Vorschau) als Präfix.</span><span class="sxs-lookup"><span data-stu-id="04b8a-257">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], tunneling routed events names are prefixed with the word "Preview" by convention.</span></span> <span data-ttu-id="04b8a-258">Eingabeereignisse treten oft paarweise auf – wobei das eine ein Bubblingereignis und das andere ein Tunnelingereignis ist.</span><span class="sxs-lookup"><span data-stu-id="04b8a-258">Input events often come in pairs, with one being the bubbling event and the other being the tunneling event.</span></span> <span data-ttu-id="04b8a-259">Z. B. die <xref:System.Windows.ContentElement.KeyDown> Ereignis und die <xref:System.Windows.ContentElement.PreviewKeyDown> Ereignis haben die gleiche Signatur, wobei ersteres das Bubbling- und letzteres das tunneling von Eingabeereignissen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-259">For example, the <xref:System.Windows.ContentElement.KeyDown> event and the <xref:System.Windows.ContentElement.PreviewKeyDown> event have the same signature, with the former being the bubbling input event and the latter being the tunneling input event.</span></span> <span data-ttu-id="04b8a-260">Manchmal haben Eingabeereignisse nur eine Bubblingversion oder nur eine direkte Routingversion.</span><span class="sxs-lookup"><span data-stu-id="04b8a-260">Occasionally, input events only have a bubbling version, or perhaps only a direct routed version.</span></span> <span data-ttu-id="04b8a-261">In der Dokumentation verweisen die Themen zu Routingereignissen auf ähnliche Routingereignisse mit alternativen Routingstrategien, falls derartige Routingereignisse vorhanden sind; Abschnitte auf den Seiten zu verwalteten Referenzen erläutern die Routingstrategien jedes Routingelements.</span><span class="sxs-lookup"><span data-stu-id="04b8a-261">In the documentation, routed event topics cross-reference similar routed events with alternative routing strategies if such routed events exist, and sections in the managed reference pages clarify the routing strategy of each routed event.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="04b8a-262">Eingabeereignisse, die paarweise auftreten werden implementiert, sodass eine einzelne Benutzeraktion aus der Eingabe, z. B. eine Schaltfläche Drücken der Maustaste, beide Routingereignisse des Paars in der Sequenz auslöst wird.</span><span class="sxs-lookup"><span data-stu-id="04b8a-262">input events that come in pairs are implemented so that a single user action from input, such as a mouse button press, will raise both routed events of the pair in sequence.</span></span> <span data-ttu-id="04b8a-263">Zunächst wird das Tunnelingereignis ausgelöst und durchläuft seine Route.</span><span class="sxs-lookup"><span data-stu-id="04b8a-263">First, the tunneling event is raised and travels its route.</span></span> <span data-ttu-id="04b8a-264">Anschließend wird das Bubblingereignis ausgelöst und durchläuft seine Route.</span><span class="sxs-lookup"><span data-stu-id="04b8a-264">Then the bubbling event is raised and travels its route.</span></span> <span data-ttu-id="04b8a-265">Die beiden Ereignisse verwenden die gleiche Instanz der Ereignisdaten, da die <xref:System.Windows.UIElement.RaiseEvent%2A> Methodenaufruf in der implementierenden Klasse, die das Bubblingereignis auslöst überwacht für die Ereignisdaten des tunnelingereignisses und in neuen, ausgelösten Ereignis.</span><span class="sxs-lookup"><span data-stu-id="04b8a-265">The two events literally share the same event data instance, because the <xref:System.Windows.UIElement.RaiseEvent%2A> method call in the implementing class that raises the bubbling event listens for the event data from the tunneling event and reuses it in the new raised event.</span></span> <span data-ttu-id="04b8a-266">Listener mit Handlern für das Tunnelingereignis haben als Erstes die Möglichkeit, das Routingereignis als „handled“ zu markieren (zuerst Klassenhandler, anschließend Instanzhandler).</span><span class="sxs-lookup"><span data-stu-id="04b8a-266">Listeners with handlers for the tunneling event have the first opportunity to mark the routed event handled (class handlers first, then instance handlers).</span></span> <span data-ttu-id="04b8a-267">Wenn ein Element entlang der Tunnelingroute das Routingereignis als „handled“ markiert, werden die bereits behandelten Daten des Bubblingereignisses gesendet, und typische angefügte Handler für das entsprechende Bubblingeingabeereignis werden nicht aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-267">If an element along the tunneling route marked the routed event as handled, the already-handled event data is sent on for the bubbling event, and typical handlers attached for the equivalent bubbling input events will not be invoked.</span></span> <span data-ttu-id="04b8a-268">Nach außen wirkt dies so, als sei das behandelte Bubblingereignis nicht einmal ausgelöst worden.</span><span class="sxs-lookup"><span data-stu-id="04b8a-268">To outward appearances it will be as if the handled bubbling event has not even been raised.</span></span> <span data-ttu-id="04b8a-269">Dieses Behandlungsverhalten ist beim Zusammensetzen von Steuerelementen nützlich; hier möchten Sie möglicherweise, dass alle treffertestbasierten oder fokusbasierten Eingabeereignisse von Ihrem endgültigen Steuerelement gemeldet werden, und nicht von dessen einzelnen Komponenten.</span><span class="sxs-lookup"><span data-stu-id="04b8a-269">This handling behavior is useful for control compositing, where you might want all hit-test based input events or focus-based input events to be reported by your final control, rather than its composite parts.</span></span> <span data-ttu-id="04b8a-270">Das endgültige Steuerelement ist in der Zusammensetzung näher am Stamm, weshalb es das Tunnelingereignis zunächst in einer Klasse behandeln und eventuell sogar dieses Routingereignis durch ein steuerelementspezifischeres Ereignis „ersetzen“ kann – als Teil des Codes, der die Steuerelementklasse unterstützt.</span><span class="sxs-lookup"><span data-stu-id="04b8a-270">The final control element is closer to the root in the compositing, and therefore has the opportunity to class handle the tunneling event first and perhaps to "replace" that routed event with a more control-specific event, as part of the code that backs the control class.</span></span>  
  
 <span data-ttu-id="04b8a-271">Das folgende Beispiel für ein Eingabeereignis veranschaulicht das Verarbeiten von Eingabeereignissen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-271">As an illustration of how input event processing works, consider the following input event example.</span></span> <span data-ttu-id="04b8a-272">Im folgenden Baumdiagramm ist `leaf element #2` sowohl die Quelle eines `PreviewMouseDown`- als auch eines `MouseDown`-Ereignisses.</span><span class="sxs-lookup"><span data-stu-id="04b8a-272">In the following tree illustration, `leaf element #2` is the source of both a `PreviewMouseDown` and then a `MouseDown` event.</span></span>  
  
 <span data-ttu-id="04b8a-273">![Diagramm zum Ereignisrouting](./media/wcsdkcoreinputevents.png "WcsdkCoreInputEvents")</span><span class="sxs-lookup"><span data-stu-id="04b8a-273">![Event routing diagram](./media/wcsdkcoreinputevents.png "wcsdkCoreInputEvents")</span></span>  
<span data-ttu-id="04b8a-274">Bubbling und Tunneling eines Eingabeereignisses</span><span class="sxs-lookup"><span data-stu-id="04b8a-274">Input Event Bubbling and Tunneling</span></span>  
  
 <span data-ttu-id="04b8a-275">Ein Ereignis wird in folgender Reihenfolge verarbeitet:</span><span class="sxs-lookup"><span data-stu-id="04b8a-275">The order of event processing is as follows:</span></span>  
  
1.  `PreviewMouseDown` <span data-ttu-id="04b8a-276">(tunnel) auf dem Stammelement.</span><span class="sxs-lookup"><span data-stu-id="04b8a-276">(tunnel) on root element.</span></span>  
  
2.  `PreviewMouseDown` <span data-ttu-id="04b8a-277">(tunnel) auf dem intermediate Element #1.</span><span class="sxs-lookup"><span data-stu-id="04b8a-277">(tunnel) on intermediate element #1.</span></span>  
  
3.  `PreviewMouseDown` <span data-ttu-id="04b8a-278">(tunnel) auf dem Source-Element #2.</span><span class="sxs-lookup"><span data-stu-id="04b8a-278">(tunnel) on source element #2.</span></span>  
  
4.  `MouseDown` <span data-ttu-id="04b8a-279">(bubble) auf dem Source-Element #2.</span><span class="sxs-lookup"><span data-stu-id="04b8a-279">(bubble) on source element #2.</span></span>  
  
5.  `MouseDown` <span data-ttu-id="04b8a-280">(bubble) auf dem intermediate Element #1.</span><span class="sxs-lookup"><span data-stu-id="04b8a-280">(bubble) on intermediate element #1.</span></span>  
  
6.  `MouseDown` <span data-ttu-id="04b8a-281">(bubble) auf dem Stammelement.</span><span class="sxs-lookup"><span data-stu-id="04b8a-281">(bubble) on root element.</span></span>  
  
 <span data-ttu-id="04b8a-282">Ein Delegat eines Routingereignishandlers enthält Verweise auf zwei Objekte: auf das Objekt, das das Ereignis ausgelöst hat und das Objekt, auf dem der Handler aufgerufen wurde.</span><span class="sxs-lookup"><span data-stu-id="04b8a-282">A routed event handler delegate provides references to two objects: the object that raised the event and the object where the handler was invoked.</span></span> <span data-ttu-id="04b8a-283">Das Objekt, auf dem der Handler aufgerufen wurde, ist das Objekt, das vom `sender`-Parameter gemeldet wurde.</span><span class="sxs-lookup"><span data-stu-id="04b8a-283">The object where the handler was invoked is the object reported by the `sender` parameter.</span></span> <span data-ttu-id="04b8a-284">Das Objekt, in dem das Ereignis erstmals ausgelöst, wird gemeldet, durch die <xref:System.Windows.RoutedEventArgs.Source%2A> Eigenschaft in den Ereignisdaten.</span><span class="sxs-lookup"><span data-stu-id="04b8a-284">The object where the event was first raised is reported by the <xref:System.Windows.RoutedEventArgs.Source%2A> property in the event data.</span></span> <span data-ttu-id="04b8a-285">Ein Ereignis dennoch ausgelöst und verarbeitet werden kann durch das gleiche Objekt in diesem Fall `sender` und <xref:System.Windows.RoutedEventArgs.Source%2A> identisch sind (Dies ist der Fall mit Schritt 3 und 4, die Verarbeitung in dieser Liste mit Beispielen).</span><span class="sxs-lookup"><span data-stu-id="04b8a-285">A routed event can still be raised and handled by the same object, in which case `sender` and <xref:System.Windows.RoutedEventArgs.Source%2A> are identical (this is the case with Steps 3 and 4 in the event processing example list).</span></span>  
  
 <span data-ttu-id="04b8a-286">Aufgrund von tunneling und bubbling erhalten übergeordnete Elemente Eingabeereignisse, in denen die <xref:System.Windows.RoutedEventArgs.Source%2A> ist eines der untergeordneten Elemente.</span><span class="sxs-lookup"><span data-stu-id="04b8a-286">Because of tunneling and bubbling, parent elements receive input events where the <xref:System.Windows.RoutedEventArgs.Source%2A> is one of their child elements.</span></span> <span data-ttu-id="04b8a-287">Wenn es wichtig ist zu wissen, was das Quellelement ist, können Sie das Quellelement identifizieren, indem Sie den Zugriff auf die <xref:System.Windows.RoutedEventArgs.Source%2A> Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="04b8a-287">When it is important to know what the source element is, you can identify the source element by accessing the <xref:System.Windows.RoutedEventArgs.Source%2A> property.</span></span>  
  
 <span data-ttu-id="04b8a-288">In der Regel, sobald das Eingabeereignis gekennzeichnet ist <xref:System.Windows.RoutedEventArgs.Handled%2A>, weitere Handler nicht aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="04b8a-288">Usually, once the input event is marked <xref:System.Windows.RoutedEventArgs.Handled%2A>, further handlers are not invoked.</span></span> <span data-ttu-id="04b8a-289">In der Regel sollten Sie Eingabeereignisse als „handled“ markieren, sobald ein Handler aufgerufen wird, der Ihre anwendungsspezifische logische Behandlung der Bedeutung des Eingabeereignisses angeht.</span><span class="sxs-lookup"><span data-stu-id="04b8a-289">Typically, you should mark input events as handled as soon as a handler is invoked that addresses your application-specific logical handling of the meaning of the input event.</span></span>  
  
 <span data-ttu-id="04b8a-290">Die Ausnahme von dieser allgemeinen Aussage zum <xref:System.Windows.RoutedEventArgs.Handled%2A> Zustand ist, dass die Ereignishandler, die registriert werden, dass ignorieren Eingabe <xref:System.Windows.RoutedEventArgs.Handled%2A> Zustand der Daten für das Ereignis wird weiterhin auf beiden Routen aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="04b8a-290">The exception to this general statement about <xref:System.Windows.RoutedEventArgs.Handled%2A> state is that input event handlers that are registered to deliberately ignore <xref:System.Windows.RoutedEventArgs.Handled%2A> state of the event data would still be invoked along either route.</span></span> <span data-ttu-id="04b8a-291">Weitere Informationen finden Sie unter [Vorschauereignisse](preview-events.md) oder [Markieren von Routingereignissen als behandelt und Klassenbehandlung](marking-routed-events-as-handled-and-class-handling.md).</span><span class="sxs-lookup"><span data-stu-id="04b8a-291">For more information, see [Preview Events](preview-events.md) or [Marking Routed Events as Handled, and Class Handling](marking-routed-events-as-handled-and-class-handling.md).</span></span>  
  
 <span data-ttu-id="04b8a-292">Das freigegebene Ereignisdatenmodell von Tunneling- und Bubblingereignissen und das sequenzielle Auslösen zunächst der Tunneling-und dann der Bubblingereignisse ist kein allgemein gültiges Konzept für alle Routingereignisse.</span><span class="sxs-lookup"><span data-stu-id="04b8a-292">The shared event data model between tunneling and bubbling events, and the sequential raising of first tunneling then bubbling events, is not a concept that is generally true for all routed events.</span></span> <span data-ttu-id="04b8a-293">Dieses Verhalten wird insbesondere davon implementiert, wie [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Eingabegeräte Eingabeereignispaare auslösen und verbinden.</span><span class="sxs-lookup"><span data-stu-id="04b8a-293">That behavior is specifically implemented by how [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] input devices choose to raise and connect the input event pairs.</span></span> <span data-ttu-id="04b8a-294">Das Implementieren Ihres eigenen Eingabeereignisses ist ein erweitertes Szenario; möglicherweise entscheiden Sie sich aber dazu, dieses Modell auch für Ihre eigenen Eingabeereignisse zu nutzen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-294">Implementing your own input events is an advanced scenario, but you might choose to follow that model for your own input events also.</span></span>  
  
 <span data-ttu-id="04b8a-295">Gewisse Klassen behandeln gewisse Eingabeereignisse in einer Klasse, meist mit dem Ziel, die Bedeutung eines bestimmten benutzergesteuerten Eingabeereignisses innerhalb dieses Steuerelements neu zu definieren und ein neues Ereignis auszulösen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-295">Certain classes choose to class-handle certain input events, usually with the intent of redefining what a particular user-driven input event means within that control and raising a new event.</span></span> <span data-ttu-id="04b8a-296">Weitere Informationen finden Sie unter [Markieren von Routingereignissen als behandelt und Klassenbehandlung](marking-routed-events-as-handled-and-class-handling.md).</span><span class="sxs-lookup"><span data-stu-id="04b8a-296">For more information, see [Marking Routed Events as Handled, and Class Handling](marking-routed-events-as-handled-and-class-handling.md).</span></span>  
  
 <span data-ttu-id="04b8a-297">Weitere Informationen zur Eingabe und zur Interaktion zwischen Eingabe und Ereignissen in normalen Anwendungsszenarien finden Sie unter [Übersicht über die Eingabe](input-overview.md).</span><span class="sxs-lookup"><span data-stu-id="04b8a-297">For more information on input and how input and events interact in typical application scenarios, see [Input Overview](input-overview.md).</span></span>  
  
<a name="events_styles"></a>   
## <a name="eventsetters-and-eventtriggers"></a><span data-ttu-id="04b8a-298">EventSetters und EventTriggers</span><span class="sxs-lookup"><span data-stu-id="04b8a-298">EventSetters and EventTriggers</span></span>  
 <span data-ttu-id="04b8a-299">In Stilen, Sie können vordeklarierte [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] -Ereignisbehandlungssyntax in das Markup mit einem <xref:System.Windows.EventSetter>.</span><span class="sxs-lookup"><span data-stu-id="04b8a-299">In styles, you can include some pre-declared [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] event handling syntax in the markup by using an <xref:System.Windows.EventSetter>.</span></span> <span data-ttu-id="04b8a-300">Wenn das Format angewendet wird, wird der verwiesene Handler zur formatierten Instanz hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="04b8a-300">When the style is applied, the referenced handler is added to the styled instance.</span></span> <span data-ttu-id="04b8a-301">Sie können deklarieren, ein <xref:System.Windows.EventSetter> nur für ein Routingereignis.</span><span class="sxs-lookup"><span data-stu-id="04b8a-301">You can declare an <xref:System.Windows.EventSetter> only for a routed event.</span></span> <span data-ttu-id="04b8a-302">Nachfolgend finden Sie ein Beispiel:</span><span class="sxs-lookup"><span data-stu-id="04b8a-302">The following is an example.</span></span> <span data-ttu-id="04b8a-303">Beachten Sie, dass die `b1SetColor`-Methode, auf die hier verwiesen wird, sich in einer CodeBehind-Datei befindet.</span><span class="sxs-lookup"><span data-stu-id="04b8a-303">Note that the `b1SetColor` method referenced here is in a code-behind file.</span></span>  
  
 [!code-xaml[EventOvwSupport#XAML2](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/page2.xaml#xaml2)]  
  
 <span data-ttu-id="04b8a-304">Der Vorteil hierbei ist, dass das Format wahrscheinlich viel andere Informationen enthält, die auf eine beliebige Schaltfläche in der Anwendung angewendet werden können und dass die <xref:System.Windows.EventSetter> Teil dieser Art fördert die Wiederverwendung von Code sogar auf Markupebene.</span><span class="sxs-lookup"><span data-stu-id="04b8a-304">The advantage gained here is that the style is likely to contain a great deal of other information that could apply to any button in your application, and having the <xref:System.Windows.EventSetter> be part of that style promotes code reuse even at the markup level.</span></span> <span data-ttu-id="04b8a-305">Darüber hinaus eine <xref:System.Windows.EventSetter> Methodennamen für Handler, die einen Schritt weg von der allgemeinen Anwendung und dem Seitenmarkup abstrahiert.</span><span class="sxs-lookup"><span data-stu-id="04b8a-305">Also, an <xref:System.Windows.EventSetter> abstracts method names for handlers one step further away from the general application and page markup.</span></span>  
  
 <span data-ttu-id="04b8a-306">Weitere spezialisierte Syntax, die die geroutete Ereignis und Animation von kombiniert [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ist ein <xref:System.Windows.EventTrigger>.</span><span class="sxs-lookup"><span data-stu-id="04b8a-306">Another specialized syntax that combines the routed event and animation features of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is an <xref:System.Windows.EventTrigger>.</span></span> <span data-ttu-id="04b8a-307">Wie bei <xref:System.Windows.EventSetter>, nur Routingereignisse verwendet werden können, für eine <xref:System.Windows.EventTrigger>.</span><span class="sxs-lookup"><span data-stu-id="04b8a-307">As with <xref:System.Windows.EventSetter>, only routed events may be used for an <xref:System.Windows.EventTrigger>.</span></span> <span data-ttu-id="04b8a-308">In der Regel ein <xref:System.Windows.EventTrigger> ist als Teil eines Stils, deklariert jedoch <xref:System.Windows.EventTrigger> können auch auf Seitenebene als Teil des deklariert werden die <xref:System.Windows.FrameworkElement.Triggers%2A> -Auflistung, oder in einer <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="04b8a-308">Typically, an <xref:System.Windows.EventTrigger> is declared as part of a style, but an <xref:System.Windows.EventTrigger> can also be declared on page-level elements as part of the <xref:System.Windows.FrameworkElement.Triggers%2A> collection, or in a <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="04b8a-309">Ein <xref:System.Windows.EventTrigger> ermöglicht Ihnen die Angabe einer <xref:System.Windows.Media.Animation.Storyboard> , ausgeführt wird, wenn ein Routingereignis ein Element in der Route erreicht deklariert eine <xref:System.Windows.EventTrigger> für dieses Ereignis.</span><span class="sxs-lookup"><span data-stu-id="04b8a-309">An <xref:System.Windows.EventTrigger> enables you to specify a <xref:System.Windows.Media.Animation.Storyboard> that runs whenever a routed event reaches an element in its route that declares an <xref:System.Windows.EventTrigger> for that event.</span></span> <span data-ttu-id="04b8a-310">Der Vorteil des ein <xref:System.Windows.EventTrigger> über nur behandeln des Ereignisses und, startet ein vorhandenes Storyboard ist, eine <xref:System.Windows.EventTrigger> bietet bessere Kontrolle über das Storyboard und dessen Laufzeitverhalten.</span><span class="sxs-lookup"><span data-stu-id="04b8a-310">The advantage of an <xref:System.Windows.EventTrigger> over just handling the event and causing it to start an existing storyboard is that an <xref:System.Windows.EventTrigger> provides better control over the storyboard and its run-time behavior.</span></span> <span data-ttu-id="04b8a-311">Weitere Informationen finden Sie unter [Verwenden von Ereignistriggern zum Steuern eines Storyboards nach dessen Start](../graphics-multimedia/how-to-use-event-triggers-to-control-a-storyboard-after-it-starts.md).</span><span class="sxs-lookup"><span data-stu-id="04b8a-311">For more information, see [Use Event Triggers to Control a Storyboard After It Starts](../graphics-multimedia/how-to-use-event-triggers-to-control-a-storyboard-after-it-starts.md).</span></span>  
  
<a name="more_about"></a>   
## <a name="more-about-routed-events"></a><span data-ttu-id="04b8a-312">Weitere Informationen zu Routingereignissen</span><span class="sxs-lookup"><span data-stu-id="04b8a-312">More About Routed Events</span></span>  
 <span data-ttu-id="04b8a-313">In diesem Thema werden hauptsächlich die grundlegenden Konzepte von Routingereignissen erläutert; zudem bietet er Ihnen eine Orientierung, wann Sie auf Routingereignisse reagieren sollten, die bereits in den verschieden Basiselementen und -steuerelementen vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="04b8a-313">This topic mainly discusses routed events from the perspective of describing the basic concepts and offering guidance on how and when to respond to the routed events that are already present in the various base elements and controls.</span></span> <span data-ttu-id="04b8a-314">Allerdings können Sie eigene Routingereignis für Ihre benutzerdefinierte Klasse mit den notwendigen Hilfsmitteln, wie z. B. spezialisierte Ereignisdatenklassen und Delegaten, erstellen.</span><span class="sxs-lookup"><span data-stu-id="04b8a-314">However, you can create your own routed event on your custom class along with all the necessary support, such as specialized event data classes and delegates.</span></span> <span data-ttu-id="04b8a-315">Eigentümer des Routingereignisses kann jede Klasse sein, aber die Routingereignisse müssen ausgelöst und behandelt, indem <xref:System.Windows.UIElement> oder <xref:System.Windows.ContentElement> abgeleiteten Klassen, damit Sie nützlich ist.</span><span class="sxs-lookup"><span data-stu-id="04b8a-315">The routed event owner can be any class, but routed events must be raised by and handled by <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> derived classes in order to be useful.</span></span> <span data-ttu-id="04b8a-316">Weitere Informationen zu benutzerdefinierten Ereignissen finden Sie unter [Erstellen eines benutzerdefinierten Routingereignisses](how-to-create-a-custom-routed-event.md).</span><span class="sxs-lookup"><span data-stu-id="04b8a-316">For more information about custom events, see [Create a Custom Routed Event](how-to-create-a-custom-routed-event.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="04b8a-317">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="04b8a-317">See also</span></span>

- <xref:System.Windows.EventManager>
- <xref:System.Windows.RoutedEvent>
- <xref:System.Windows.RoutedEventArgs>
- [<span data-ttu-id="04b8a-318">Markieren von Routingereignissen als behandelt und Klassenbehandlung</span><span class="sxs-lookup"><span data-stu-id="04b8a-318">Marking Routed Events as Handled, and Class Handling</span></span>](marking-routed-events-as-handled-and-class-handling.md)
- [<span data-ttu-id="04b8a-319">Übersicht über die Eingabe</span><span class="sxs-lookup"><span data-stu-id="04b8a-319">Input Overview</span></span>](input-overview.md)
- [<span data-ttu-id="04b8a-320">Befehlsübersicht</span><span class="sxs-lookup"><span data-stu-id="04b8a-320">Commanding Overview</span></span>](commanding-overview.md)
- [<span data-ttu-id="04b8a-321">Benutzerdefinierte Abhängigkeitseigenschaften</span><span class="sxs-lookup"><span data-stu-id="04b8a-321">Custom Dependency Properties</span></span>](custom-dependency-properties.md)
- [<span data-ttu-id="04b8a-322">Strukturen in WPF</span><span class="sxs-lookup"><span data-stu-id="04b8a-322">Trees in WPF</span></span>](trees-in-wpf.md)
- [<span data-ttu-id="04b8a-323">Schwache Ereignismuster</span><span class="sxs-lookup"><span data-stu-id="04b8a-323">Weak Event Patterns</span></span>](weak-event-patterns.md)
