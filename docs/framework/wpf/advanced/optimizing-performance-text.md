---
title: 'Optimieren der Leistung: Text'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- rendering text [WPF]
- hyperlinks [WPF]
- formatted text [WPF]
- text [WPF], performance
- glyphs [WPF]
ms.assetid: 66b1b9a7-8618-48db-b616-c57ea4327b98
ms.openlocfilehash: 56378a3285416324e07d7bf356a7307f702d1bc6
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/28/2019
ms.locfileid: "64611923"
---
# <a name="optimizing-performance-text"></a><span data-ttu-id="509ac-102">Optimieren der Leistung: Text</span><span class="sxs-lookup"><span data-stu-id="509ac-102">Optimizing Performance: Text</span></span>
[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="509ac-103">bietet Unterstützung für die Präsentation von Textinhalt durch Verwendung von umfangreichen [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]-Steuerelementen.</span><span class="sxs-lookup"><span data-stu-id="509ac-103">includes support for the presentation of text content through the use of feature-rich [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] controls.</span></span> <span data-ttu-id="509ac-104">Im Allgemeinen können Sie das Rendern von Text in drei Ebenen unterteilen:</span><span class="sxs-lookup"><span data-stu-id="509ac-104">In general you can divide text rendering in three layers:</span></span>  
  
1. <span data-ttu-id="509ac-105">Mithilfe der <xref:System.Windows.Documents.Glyphs> und <xref:System.Windows.Media.GlyphRun> -Objekte direkt.</span><span class="sxs-lookup"><span data-stu-id="509ac-105">Using the <xref:System.Windows.Documents.Glyphs> and <xref:System.Windows.Media.GlyphRun> objects directly.</span></span>  
  
2. <span data-ttu-id="509ac-106">Mithilfe der <xref:System.Windows.Media.FormattedText> Objekt.</span><span class="sxs-lookup"><span data-stu-id="509ac-106">Using the <xref:System.Windows.Media.FormattedText> object.</span></span>  
  
3. <span data-ttu-id="509ac-107">Verwendung von übergeordneten Steuerelementen wie z. B. die <xref:System.Windows.Controls.TextBlock> und <xref:System.Windows.Documents.FlowDocument> Objekte.</span><span class="sxs-lookup"><span data-stu-id="509ac-107">Using high-level controls, such as the <xref:System.Windows.Controls.TextBlock> and <xref:System.Windows.Documents.FlowDocument> objects.</span></span>  
  
 <span data-ttu-id="509ac-108">In diesem Thema erhalten Sie Empfehlungen bezüglich des Renderns von Text.</span><span class="sxs-lookup"><span data-stu-id="509ac-108">This topic provides text rendering performance recommendations.</span></span>  

<a name="Glyph_Level"></a>   
## <a name="rendering-text-at-the-glyph-level"></a><span data-ttu-id="509ac-109">Rendern von Text auf der Symbolebene</span><span class="sxs-lookup"><span data-stu-id="509ac-109">Rendering Text at the Glyph Level</span></span>  
 [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="509ac-110">bietet Unterstützung für erweiterten Text einschließlich Markup auf Symbolebene mit direktem Zugriff auf <xref:System.Windows.Documents.Glyphs> für Kunden, die abfangen und Text nach der Formatierung beibehalten werden soll.</span><span class="sxs-lookup"><span data-stu-id="509ac-110">provides advanced text support including glyph-level markup with direct access to <xref:System.Windows.Documents.Glyphs> for customers who want to intercept and persist text after formatting.</span></span> <span data-ttu-id="509ac-111">Diese Funktionen stellen wichtige Unterstützung für verschiedene Text-Rendering-Voraussetzungen in jedem der folgenden Szenarios bereit.</span><span class="sxs-lookup"><span data-stu-id="509ac-111">These features provide critical support for the different text rendering requirements in each of the following scenarios.</span></span>  
  
- <span data-ttu-id="509ac-112">Bildschirmanzeige von Dokumenten mit festem Format</span><span class="sxs-lookup"><span data-stu-id="509ac-112">Screen display of fixed-format documents.</span></span>  
  
- <span data-ttu-id="509ac-113">Druckszenarios</span><span class="sxs-lookup"><span data-stu-id="509ac-113">Print scenarios.</span></span>  
  
    - [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] <span data-ttu-id="509ac-114">als Druckersprache für Geräte</span><span class="sxs-lookup"><span data-stu-id="509ac-114">as a device printer language.</span></span>  
  
    - [!INCLUDE[TLA#tla_mxdw](../../../../includes/tlasharptla-mxdw-md.md)]<span data-ttu-id="509ac-115">.</span><span class="sxs-lookup"><span data-stu-id="509ac-115">.</span></span>  
  
    - <span data-ttu-id="509ac-116">Vorherige Druckertreiber, Ausgabe von [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)]-Anwendungen an das feste Format</span><span class="sxs-lookup"><span data-stu-id="509ac-116">Previous printer drivers, output from [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] applications to the fixed format.</span></span>  
  
    - <span data-ttu-id="509ac-117">Druckerspooler-Format</span><span class="sxs-lookup"><span data-stu-id="509ac-117">Print spool format.</span></span>  
  
- <span data-ttu-id="509ac-118">Darstellung von Dokumenten mit festem Format, einschließlich Clients für vorherige Versionen von [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] und anderen Computergeräten</span><span class="sxs-lookup"><span data-stu-id="509ac-118">Fixed-format document representation, including clients for previous versions of [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] and other computing devices.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="509ac-119"><xref:System.Windows.Documents.Glyphs> und <xref:System.Windows.Media.GlyphRun> sind für festem Format Dokumentpräsentation und Druckszenarios konzipiert.</span><span class="sxs-lookup"><span data-stu-id="509ac-119"><xref:System.Windows.Documents.Glyphs> and <xref:System.Windows.Media.GlyphRun> are designed for fixed-format document presentation and print scenarios.</span></span> [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="509ac-120">Stellt etliche Elemente für allgemeine Layout- und [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] Szenarien, z. B. <xref:System.Windows.Controls.Label> und <xref:System.Windows.Controls.TextBlock>.</span><span class="sxs-lookup"><span data-stu-id="509ac-120">provides several elements for general layout and [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] scenarios such as <xref:System.Windows.Controls.Label> and <xref:System.Windows.Controls.TextBlock>.</span></span> <span data-ttu-id="509ac-121">Weitere Informationen zu Layout- und [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]-Szenarios finden Sie unter [Typografie in WPF](typography-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="509ac-121">For more information on layout and [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] scenarios, see the [Typography in WPF](typography-in-wpf.md).</span></span>  
  
 <span data-ttu-id="509ac-122">Die folgenden Beispiele zeigen, wie Eigenschaften für definiert eine <xref:System.Windows.Documents.Glyphs> im-Objekt [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="509ac-122">The following examples show how to define properties for a <xref:System.Windows.Documents.Glyphs> object in [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)].</span></span> <span data-ttu-id="509ac-123">Die <xref:System.Windows.Documents.Glyphs> Objekt darstellt, die Ausgabe des einen <xref:System.Windows.Media.GlyphRun> in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="509ac-123">The <xref:System.Windows.Documents.Glyphs> object represents the output of a <xref:System.Windows.Media.GlyphRun> in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="509ac-124">In den Beispielen wird davon ausgegangen, dass die Schriftarten Arial, Courier New und Times New Roman im Ordner **C:\WINDOWS\Fonts** auf dem lokalen Computer installiert sind.</span><span class="sxs-lookup"><span data-stu-id="509ac-124">The examples assume that the Arial, Courier New, and Times New Roman fonts are installed in the **C:\WINDOWS\Fonts** folder on the local computer.</span></span>  
  
 [!code-xaml[GlyphsOvwSample1#1](~/samples/snippets/csharp/VS_Snippets_Wpf/GlyphsOvwSample1/CS/default.xaml#1)]  
  
### <a name="using-drawglyphrun"></a><span data-ttu-id="509ac-125">Verwenden von DrawGlyphRun</span><span class="sxs-lookup"><span data-stu-id="509ac-125">Using DrawGlyphRun</span></span>  
 <span data-ttu-id="509ac-126">Wenn Sie benutzerdefiniertes Steuerelement verfügen und Symbole rendern, verwenden Sie möchten die <xref:System.Windows.Media.DrawingContext.DrawGlyphRun%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="509ac-126">If you have custom control and you want to render glyphs, use the <xref:System.Windows.Media.DrawingContext.DrawGlyphRun%2A> method.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="509ac-127">bietet außerdem Dienste niedriger Ebene für benutzerdefinierte Formatierung durch die Verwendung von Text die <xref:System.Windows.Media.FormattedText> Objekt.</span><span class="sxs-lookup"><span data-stu-id="509ac-127">also provides lower-level services for custom text formatting through the use of the <xref:System.Windows.Media.FormattedText> object.</span></span> <span data-ttu-id="509ac-128">Am effizientesten Rendern Sie Text in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] ist, indem Sie Textinhalt auf das Symbol mit <xref:System.Windows.Documents.Glyphs> und <xref:System.Windows.Media.GlyphRun>.</span><span class="sxs-lookup"><span data-stu-id="509ac-128">The most efficient way of rendering text in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] is by generating text content at the glyph level using <xref:System.Windows.Documents.Glyphs> and <xref:System.Windows.Media.GlyphRun>.</span></span> <span data-ttu-id="509ac-129">Die Kosten für diese Effizienz ist jedoch der Verlust der benutzerfreundliche rich-Text formatiert, die integrierten Funktionen sind von [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] Steuerelemente, z. B. <xref:System.Windows.Controls.TextBlock> und <xref:System.Windows.Documents.FlowDocument>.</span><span class="sxs-lookup"><span data-stu-id="509ac-129">However, the cost of this efficiency is the loss of easy to use rich text formatting, which are built-in features of [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] controls, such as <xref:System.Windows.Controls.TextBlock> and <xref:System.Windows.Documents.FlowDocument>.</span></span>  
  
<a name="FormattedText_Object"></a>   
## <a name="formattedtext-object"></a><span data-ttu-id="509ac-130">FormattedText-Objekt</span><span class="sxs-lookup"><span data-stu-id="509ac-130">FormattedText Object</span></span>  
 <span data-ttu-id="509ac-131">Die <xref:System.Windows.Media.FormattedText> Objekt können Sie mehrzeiligen Text zu zeichnen, in dem jedes Zeichen im Text einzeln formatiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="509ac-131">The <xref:System.Windows.Media.FormattedText> object allows you to draw multi-line text, in which each character in the text can be individually formatted.</span></span> <span data-ttu-id="509ac-132">Weitere Informationen finden Sie unter [Drawing Formatted Text (Zeichnen von formatiertem Text)](drawing-formatted-text.md).</span><span class="sxs-lookup"><span data-stu-id="509ac-132">For more information, see [Drawing Formatted Text](drawing-formatted-text.md).</span></span>  
  
 <span data-ttu-id="509ac-133">Um formatierten Text erstellen möchten, rufen die <xref:System.Windows.Media.FormattedText.%23ctor%2A> Konstruktor zur Erstellung einer <xref:System.Windows.Media.FormattedText> Objekt.</span><span class="sxs-lookup"><span data-stu-id="509ac-133">To create formatted text, call the <xref:System.Windows.Media.FormattedText.%23ctor%2A> constructor to create a <xref:System.Windows.Media.FormattedText> object.</span></span> <span data-ttu-id="509ac-134">Nachdem Sie die Anfangszeichenfolge für formatierten Text erstellt haben, können Sie eine Reihe von Formatvorlagen anwenden.</span><span class="sxs-lookup"><span data-stu-id="509ac-134">Once you have created the initial formatted text string, you can apply a range of formatting styles.</span></span> <span data-ttu-id="509ac-135">Wenn Ihre Anwendung ein eigenes Layout, implementiert die <xref:System.Windows.Media.FormattedText> Objekt ist die bessere Wahl als die Verwendung eines Steuerelements wie z. B. <xref:System.Windows.Controls.TextBlock>.</span><span class="sxs-lookup"><span data-stu-id="509ac-135">If your application wants to implement its own layout, then the <xref:System.Windows.Media.FormattedText> object is better choice than using a control, such as <xref:System.Windows.Controls.TextBlock>.</span></span> <span data-ttu-id="509ac-136">Weitere Informationen zu den <xref:System.Windows.Media.FormattedText> Objekt, finden Sie unter [Drawing Formatted Text](drawing-formatted-text.md) .</span><span class="sxs-lookup"><span data-stu-id="509ac-136">For more information on the <xref:System.Windows.Media.FormattedText> object, see [Drawing Formatted Text](drawing-formatted-text.md) .</span></span>  
  
 <span data-ttu-id="509ac-137">Die <xref:System.Windows.Media.FormattedText> -Objekt stellt Textformatierungsfunktionen bereit.</span><span class="sxs-lookup"><span data-stu-id="509ac-137">The <xref:System.Windows.Media.FormattedText> object provides low-level text formatting capability.</span></span> <span data-ttu-id="509ac-138">Sie können mehrere Formatvorlagen auf ein oder mehrere Zeichen anwenden.</span><span class="sxs-lookup"><span data-stu-id="509ac-138">You can apply multiple formatting styles to one or more characters.</span></span> <span data-ttu-id="509ac-139">Sie können z. B. Aufrufen sowohl die <xref:System.Windows.Media.FormattedText.SetFontSize%2A> und <xref:System.Windows.Media.FormattedText.SetForegroundBrush%2A> Methoden zum Ändern der Formatierung der ersten fünf Zeichen im Text.</span><span class="sxs-lookup"><span data-stu-id="509ac-139">For example, you could call both the <xref:System.Windows.Media.FormattedText.SetFontSize%2A> and <xref:System.Windows.Media.FormattedText.SetForegroundBrush%2A> methods to change the formatting of the first five characters in the text.</span></span>  
  
 <span data-ttu-id="509ac-140">Das folgende Codebeispiel erstellt eine <xref:System.Windows.Media.FormattedText> Objekt und rendert ihn.</span><span class="sxs-lookup"><span data-stu-id="509ac-140">The following code example creates a <xref:System.Windows.Media.FormattedText> object and renders it.</span></span>  
  
 [!code-csharp[formattedtextsnippets#FormattedTextSnippets1](~/samples/snippets/csharp/VS_Snippets_Wpf/FormattedTextSnippets/CSharp/Window1.xaml.cs#formattedtextsnippets1)]
 [!code-vb[formattedtextsnippets#FormattedTextSnippets1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/FormattedTextSnippets/visualbasic/window1.xaml.vb#formattedtextsnippets1)]  
  
<a name="FlowDocument_TextBlock_Label"></a>   
## <a name="flowdocument-textblock-and-label-controls"></a><span data-ttu-id="509ac-141">FlowDocument, TextBlock- und Label-Steuerelemente</span><span class="sxs-lookup"><span data-stu-id="509ac-141">FlowDocument, TextBlock, and Label Controls</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="509ac-142">enthält zahlreiche Steuerelemente für das Zeichnen von Text auf dem Bildschirm.</span><span class="sxs-lookup"><span data-stu-id="509ac-142">includes multiple controls for drawing text to the screen.</span></span> <span data-ttu-id="509ac-143">Jedes Steuerelement dient einem anderen Szenario und verfügt über eine eigene Liste von Funktionen und Einschränkungen.</span><span class="sxs-lookup"><span data-stu-id="509ac-143">Each control is targeted to a different scenario and has its own list of features and limitations.</span></span>  
  
### <a name="flowdocument-impacts-performance-more-than-textblock-or-label"></a><span data-ttu-id="509ac-144">FlowDocument wirkt sich mehr auf die Leistung aus als TextBlock oder Label</span><span class="sxs-lookup"><span data-stu-id="509ac-144">FlowDocument Impacts Performance More than TextBlock or Label</span></span>  
 <span data-ttu-id="509ac-145">Im Allgemeinen die <xref:System.Windows.Controls.TextBlock> Element sollte verwendet werden, wenn nur eingeschränkte Textelemente-Unterstützung erforderlich ist, z. B. einem kurzen Satz in einem [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)].</span><span class="sxs-lookup"><span data-stu-id="509ac-145">In general, the <xref:System.Windows.Controls.TextBlock> element should be used when limited text support is required, such as a brief sentence in a [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)].</span></span> <span data-ttu-id="509ac-146"><xref:System.Windows.Controls.Label> kann verwendet werden, wenn nur minimale textunterstützung erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="509ac-146"><xref:System.Windows.Controls.Label> can be used when minimal text support is required.</span></span> <span data-ttu-id="509ac-147">Die <xref:System.Windows.Documents.FlowDocument> Element ist ein Container für Inhaltspräsentationen Dokumente, die umfassende Unterstützung, und aus diesem Grund hat größere Auswirkungen auf die Leistung als die Verwendung der <xref:System.Windows.Controls.TextBlock> oder <xref:System.Windows.Controls.Label> Steuerelemente.</span><span class="sxs-lookup"><span data-stu-id="509ac-147">The <xref:System.Windows.Documents.FlowDocument> element is a container for re-flowable documents that support rich presentation of content, and therefore, has a greater performance impact than using the <xref:System.Windows.Controls.TextBlock> or <xref:System.Windows.Controls.Label> controls.</span></span>  
  
 <span data-ttu-id="509ac-148">Weitere Informationen zu <xref:System.Windows.Documents.FlowDocument>, finden Sie unter [Übersicht über Flussdokumente](flow-document-overview.md).</span><span class="sxs-lookup"><span data-stu-id="509ac-148">For more information on <xref:System.Windows.Documents.FlowDocument>, see [Flow Document Overview](flow-document-overview.md).</span></span>  
  
### <a name="avoid-using-textblock-in-flowdocument"></a><span data-ttu-id="509ac-149">Vermeiden von TextBlock in FlowDocument</span><span class="sxs-lookup"><span data-stu-id="509ac-149">Avoid Using TextBlock in FlowDocument</span></span>  
 <span data-ttu-id="509ac-150">Die <xref:System.Windows.Controls.TextBlock> Element stammt aus <xref:System.Windows.UIElement>.</span><span class="sxs-lookup"><span data-stu-id="509ac-150">The <xref:System.Windows.Controls.TextBlock> element is derived from <xref:System.Windows.UIElement>.</span></span> <span data-ttu-id="509ac-151">Die <xref:System.Windows.Documents.Run> Element stammt aus <xref:System.Windows.Documents.TextElement>, d.h. kostengünstiger zu verwenden als ein <xref:System.Windows.UIElement>-abgeleitetes Objekt.</span><span class="sxs-lookup"><span data-stu-id="509ac-151">The <xref:System.Windows.Documents.Run> element is derived from <xref:System.Windows.Documents.TextElement>, which is less costly to use than a <xref:System.Windows.UIElement>-derived object.</span></span> <span data-ttu-id="509ac-152">Verwenden Sie nach Möglichkeit <xref:System.Windows.Documents.Run> statt <xref:System.Windows.Controls.TextBlock> zum Anzeigen von Textinhalt in einem <xref:System.Windows.Documents.FlowDocument>.</span><span class="sxs-lookup"><span data-stu-id="509ac-152">When possible, use <xref:System.Windows.Documents.Run> rather than <xref:System.Windows.Controls.TextBlock> for displaying text content in a <xref:System.Windows.Documents.FlowDocument>.</span></span>  
  
 <span data-ttu-id="509ac-153">Das folgende Markup veranschaulicht zwei Möglichkeiten zum Festlegen von Textinhalt in einem <xref:System.Windows.Documents.FlowDocument>:</span><span class="sxs-lookup"><span data-stu-id="509ac-153">The following markup sample illustrates two ways of setting text content within a <xref:System.Windows.Documents.FlowDocument>:</span></span>  
  
 [!code-xaml[Performance#PerformanceSnippet13](~/samples/snippets/csharp/VS_Snippets_Wpf/Performance/CSharp/FlowDocument.xaml#performancesnippet13)]  
  
### <a name="avoid-using-run-to-set-text-properties"></a><span data-ttu-id="509ac-154">Vermeiden von Run zum Festlegen von Texteigenschaften</span><span class="sxs-lookup"><span data-stu-id="509ac-154">Avoid Using Run to Set Text Properties</span></span>  
 <span data-ttu-id="509ac-155">Im Allgemeinen ist die Verwendung einer <xref:System.Windows.Documents.Run> innerhalb einer <xref:System.Windows.Controls.TextBlock> ressourcenintensiver als die nicht mit einem expliziten <xref:System.Windows.Documents.Run> überhaupt Objekt.</span><span class="sxs-lookup"><span data-stu-id="509ac-155">In general, using a <xref:System.Windows.Documents.Run> within a <xref:System.Windows.Controls.TextBlock> is more performance intensive than not using an explicit <xref:System.Windows.Documents.Run> object at all.</span></span> <span data-ttu-id="509ac-156">Bei Verwendung einer <xref:System.Windows.Documents.Run> um Texteigenschaften festzulegen, legen Sie diese Eigenschaften direkt auf die <xref:System.Windows.Controls.TextBlock> stattdessen.</span><span class="sxs-lookup"><span data-stu-id="509ac-156">If you are using a <xref:System.Windows.Documents.Run> in order to set text properties, set those properties directly on the <xref:System.Windows.Controls.TextBlock> instead.</span></span>  
  
 <span data-ttu-id="509ac-157">Im folgenden Markupbeispiel wird veranschaulicht, diese beiden Methoden zum Festlegen einer Texteigenschaft, in diesem Fall die <xref:System.Windows.Controls.TextBlock.FontWeight%2A> Eigenschaft:</span><span class="sxs-lookup"><span data-stu-id="509ac-157">The following markup sample illustrates these two ways of setting a text property, in this case, the <xref:System.Windows.Controls.TextBlock.FontWeight%2A> property:</span></span>  
  
 [!code-xaml[Performance#PerformanceSnippet12](~/samples/snippets/csharp/VS_Snippets_Wpf/Performance/CSharp/Window1.xaml#performancesnippet12)]  
  
 <span data-ttu-id="509ac-158">Die folgende Tabelle zeigt die Kosten für die Anzeige von 1000 <xref:System.Windows.Controls.TextBlock> Objekte mit und ohne eine explizite <xref:System.Windows.Documents.Run>.</span><span class="sxs-lookup"><span data-stu-id="509ac-158">The following table shows the cost of displaying 1000 <xref:System.Windows.Controls.TextBlock> objects with and without an explicit <xref:System.Windows.Documents.Run>.</span></span>  
  
|<span data-ttu-id="509ac-159">**TextBlock-Typ**</span><span class="sxs-lookup"><span data-stu-id="509ac-159">**TextBlock type**</span></span>|<span data-ttu-id="509ac-160">**Erstellungszeit (in ms)**</span><span class="sxs-lookup"><span data-stu-id="509ac-160">**Creation time (ms)**</span></span>|<span data-ttu-id="509ac-161">**Renderingzeit (in ms)**</span><span class="sxs-lookup"><span data-stu-id="509ac-161">**Render time (ms)**</span></span>|  
|------------------------|------------------------------|----------------------------|  
|<span data-ttu-id="509ac-162">Run zum Festlegen von Texteigenschaften</span><span class="sxs-lookup"><span data-stu-id="509ac-162">Run setting text properties</span></span>|<span data-ttu-id="509ac-163">146</span><span class="sxs-lookup"><span data-stu-id="509ac-163">146</span></span>|<span data-ttu-id="509ac-164">540</span><span class="sxs-lookup"><span data-stu-id="509ac-164">540</span></span>|  
|<span data-ttu-id="509ac-165">TextBlock zum Festlegen von Texteigenschaften</span><span class="sxs-lookup"><span data-stu-id="509ac-165">TextBlock setting text properties</span></span>|<span data-ttu-id="509ac-166">43</span><span class="sxs-lookup"><span data-stu-id="509ac-166">43</span></span>|<span data-ttu-id="509ac-167">453</span><span class="sxs-lookup"><span data-stu-id="509ac-167">453</span></span>|  
  
### <a name="avoid-databinding-to-the-labelcontent-property"></a><span data-ttu-id="509ac-168">Vermeiden von Datenbindung an die Label.Content-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="509ac-168">Avoid Databinding to the Label.Content Property</span></span>  
 <span data-ttu-id="509ac-169">Stellen Sie sich ein Szenario, in denen, eine <xref:System.Windows.Controls.Label> -Objekt, das häufig von aktualisiert wird eine <xref:System.String> Quelle.</span><span class="sxs-lookup"><span data-stu-id="509ac-169">Imagine a scenario where you have a <xref:System.Windows.Controls.Label> object that is updated frequently from a <xref:System.String> source.</span></span> <span data-ttu-id="509ac-170">Wenn die Datenbindung der <xref:System.Windows.Controls.Label> des Elements <xref:System.Windows.Controls.ContentControl.Content%2A> Eigenschaft, um die <xref:System.String> Quellobjekt, treten unter Umständen eine schlechte Leistung.</span><span class="sxs-lookup"><span data-stu-id="509ac-170">When data binding the <xref:System.Windows.Controls.Label> element's <xref:System.Windows.Controls.ContentControl.Content%2A> property to the <xref:System.String> source object, you may experience poor performance.</span></span> <span data-ttu-id="509ac-171">Jedes Mal, wenn die Quelle <xref:System.String> wird aktualisiert, die alte <xref:System.String> Objekts wird verworfen und ein neues <xref:System.String> wird neu erstellt – da ein <xref:System.String> -Objekt unveränderlich ist, kann nicht geändert werden.</span><span class="sxs-lookup"><span data-stu-id="509ac-171">Each time the source <xref:System.String> is updated, the old <xref:System.String> object is discarded and a new <xref:System.String> is recreated—because a <xref:System.String> object is immutable, it cannot be modified.</span></span> <span data-ttu-id="509ac-172">Dies wiederum führt dazu, dass die <xref:System.Windows.Controls.ContentPresenter> von der <xref:System.Windows.Controls.Label> Objekt, das den alten Inhalt verwirft und den neuen Inhalt der neuen anzuzeigenden generiert <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="509ac-172">This, in turn, causes the <xref:System.Windows.Controls.ContentPresenter> of the <xref:System.Windows.Controls.Label> object to discard its old content and regenerate the new content to display the new <xref:System.String>.</span></span>  
  
 <span data-ttu-id="509ac-173">Die Lösung für dieses Problem ist einfach.</span><span class="sxs-lookup"><span data-stu-id="509ac-173">The solution to this problem is simple.</span></span> <span data-ttu-id="509ac-174">Wenn die <xref:System.Windows.Controls.Label> ist nicht festgelegt, um eine benutzerdefinierte <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> -Wert, ersetzen Sie die <xref:System.Windows.Controls.Label> mit einer <xref:System.Windows.Controls.TextBlock> und Datenbindung der <xref:System.Windows.Controls.TextBlock.Text%2A> Eigenschaft, um die Quellzeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="509ac-174">If the <xref:System.Windows.Controls.Label> is not set to a custom <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> value, replace the <xref:System.Windows.Controls.Label> with a <xref:System.Windows.Controls.TextBlock> and data bind its <xref:System.Windows.Controls.TextBlock.Text%2A> property to the source string.</span></span>  
  
|<span data-ttu-id="509ac-175">**Datengebundene Eigenschaft**</span><span class="sxs-lookup"><span data-stu-id="509ac-175">**Data bound property**</span></span>|<span data-ttu-id="509ac-176">**Aktualisierungszeit (in ms)**</span><span class="sxs-lookup"><span data-stu-id="509ac-176">**Update time (ms)**</span></span>|  
|-----------------------------|----------------------------|  
|<span data-ttu-id="509ac-177">Label.Content</span><span class="sxs-lookup"><span data-stu-id="509ac-177">Label.Content</span></span>|<span data-ttu-id="509ac-178">835</span><span class="sxs-lookup"><span data-stu-id="509ac-178">835</span></span>|  
|<span data-ttu-id="509ac-179">TextBlock.Text</span><span class="sxs-lookup"><span data-stu-id="509ac-179">TextBlock.Text</span></span>|<span data-ttu-id="509ac-180">242</span><span class="sxs-lookup"><span data-stu-id="509ac-180">242</span></span>|  
  
<a name="Hyperlink"></a>   
## <a name="hyperlink"></a><span data-ttu-id="509ac-181">Link</span><span class="sxs-lookup"><span data-stu-id="509ac-181">Hyperlink</span></span>  
 <span data-ttu-id="509ac-182">Die <xref:System.Windows.Documents.Hyperlink> Objekt ist ein fortlaufendes Inhaltselement, das Ihnen das Hosten von links im fortlaufenden Inhalt ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="509ac-182">The <xref:System.Windows.Documents.Hyperlink> object is an inline-level flow content element that allows you to host hyperlinks within the flow content.</span></span>  
  
### <a name="combine-hyperlinks-in-one-textblock-object"></a><span data-ttu-id="509ac-183">Kombinieren von Links in einem TextBlock-Objekt</span><span class="sxs-lookup"><span data-stu-id="509ac-183">Combine Hyperlinks in One TextBlock Object</span></span>  
 <span data-ttu-id="509ac-184">Sie können die Verwendung mehrerer optimieren <xref:System.Windows.Documents.Hyperlink> Elemente durch diese innerhalb desselben gruppieren <xref:System.Windows.Controls.TextBlock>.</span><span class="sxs-lookup"><span data-stu-id="509ac-184">You can optimize the use of multiple <xref:System.Windows.Documents.Hyperlink> elements by grouping them together within the same <xref:System.Windows.Controls.TextBlock>.</span></span> <span data-ttu-id="509ac-185">Dadurch wird die Anzahl der Objekte minimiert, die Sie in Ihrer Anwendung erstellen.</span><span class="sxs-lookup"><span data-stu-id="509ac-185">This helps to minimize the number of objects you create in your application.</span></span> <span data-ttu-id="509ac-186">Zum Beispiel kann es vorkommen, dass Sie mehrere Links wie folgt anzeigen möchten:</span><span class="sxs-lookup"><span data-stu-id="509ac-186">For example, you may want to display multiple hyperlinks, such as the following:</span></span>  
  
 <span data-ttu-id="509ac-187">MSN Home &#124; My MSN</span><span class="sxs-lookup"><span data-stu-id="509ac-187">MSN Home &#124; My MSN</span></span>  
  
 <span data-ttu-id="509ac-188">Im folgenden Markupbeispiel wird veranschaulicht, mehrere <xref:System.Windows.Controls.TextBlock> Elemente, die zum Anzeigen der Links verwendet:</span><span class="sxs-lookup"><span data-stu-id="509ac-188">The following markup example shows multiple <xref:System.Windows.Controls.TextBlock> elements used to display the hyperlinks:</span></span>  
  
 [!code-xaml[Performance#PerformanceSnippet9](~/samples/snippets/csharp/VS_Snippets_Wpf/Performance/CSharp/Hyperlink.xaml#performancesnippet9)]  
  
 <span data-ttu-id="509ac-189">Im folgenden Markupbeispiel wird gezeigt, eine effizientere Möglichkeit zum Anzeigen der Links, diesmal mit einer einzigen <xref:System.Windows.Controls.TextBlock>:</span><span class="sxs-lookup"><span data-stu-id="509ac-189">The following markup example shows a more efficient way of displaying the hyperlinks, this time, using a single <xref:System.Windows.Controls.TextBlock>:</span></span>  
  
 [!code-xaml[Performance#PerformanceSnippet10](~/samples/snippets/csharp/VS_Snippets_Wpf/Performance/CSharp/Hyperlink.xaml#performancesnippet10)]  
  
### <a name="showing-underlines-on-hyperlinks-only-on-mouseenter-events"></a><span data-ttu-id="509ac-190">Anzeigen der Unterstreichungen von Links nur bei MouseEnter-Ereignissen</span><span class="sxs-lookup"><span data-stu-id="509ac-190">Showing Underlines on Hyperlinks Only on MouseEnter Events</span></span>  
 <span data-ttu-id="509ac-191">Ein <xref:System.Windows.TextDecoration> Objekt ist eine visuelle Verzierung, die Sie Text hinzufügen können; sie kann jedoch ressourcenintensiv, instanziieren.</span><span class="sxs-lookup"><span data-stu-id="509ac-191">A <xref:System.Windows.TextDecoration> object is a visual ornamentation that you can add to text; however, it can be performance intensive to instantiate.</span></span> <span data-ttu-id="509ac-192">Wenn Sie umfassenden Gebrauch von machen <xref:System.Windows.Documents.Hyperlink> Elemente könnten Sie eine Unterstreichung nur, wenn ein Ereignis auslösen, z. B. die <xref:System.Windows.ContentElement.MouseEnter> Ereignis.</span><span class="sxs-lookup"><span data-stu-id="509ac-192">If you make extensive use of <xref:System.Windows.Documents.Hyperlink> elements, consider showing an underline only when triggering an event, such as the <xref:System.Windows.ContentElement.MouseEnter> event.</span></span> <span data-ttu-id="509ac-193">Weitere Informationen finden Sie unter [Specify Whether a Hyperlink is Underlined (Angeben, ob ein Link unterstrichen wird)](how-to-specify-whether-a-hyperlink-is-underlined.md).</span><span class="sxs-lookup"><span data-stu-id="509ac-193">For more information, see [Specify Whether a Hyperlink is Underlined](how-to-specify-whether-a-hyperlink-is-underlined.md).</span></span>  
  
  <span data-ttu-id="509ac-194">Die folgende Abbildung zeigt, wie das MouseEnter-Ereignis wird ausgelöst, unterstrichenen Links:</span><span class="sxs-lookup"><span data-stu-id="509ac-194">The following image shows how the MouseEnter event triggers the underlined hyperlink:</span></span>

  ![Links mit TextDecorations](./media/how-to-specify-whether-a-hyperlink-is-underlined/text-decorations-hyperlinks.png)   
  
 <span data-ttu-id="509ac-196">Das folgende Markup-Beispiel zeigt eine <xref:System.Windows.Documents.Hyperlink> mit und ohne Unterstreichung definiert:</span><span class="sxs-lookup"><span data-stu-id="509ac-196">The following markup sample shows a <xref:System.Windows.Documents.Hyperlink> defined with and without an underline:</span></span>  
  
 [!code-xaml[Performance#PerformanceSnippet11](~/samples/snippets/csharp/VS_Snippets_Wpf/Performance/CSharp/Hyperlink.xaml#performancesnippet11)]  
  
 <span data-ttu-id="509ac-197">Die folgende Tabelle zeigt die Kosten der Leistung zum Anzeigen von 1000 <xref:System.Windows.Documents.Hyperlink> -Elementen mit und ohne Unterstreichung.</span><span class="sxs-lookup"><span data-stu-id="509ac-197">The following table shows the performance cost of displaying 1000 <xref:System.Windows.Documents.Hyperlink> elements with and without an underline.</span></span>  
  
|<span data-ttu-id="509ac-198">**Link**</span><span class="sxs-lookup"><span data-stu-id="509ac-198">**Hyperlink**</span></span>|<span data-ttu-id="509ac-199">**Erstellungszeit (in ms)**</span><span class="sxs-lookup"><span data-stu-id="509ac-199">**Creation time (ms)**</span></span>|<span data-ttu-id="509ac-200">**Renderingzeit (in ms)**</span><span class="sxs-lookup"><span data-stu-id="509ac-200">**Render time (ms)**</span></span>|  
|-------------------|------------------------------|----------------------------|  
|<span data-ttu-id="509ac-201">Mit Unterstreichung</span><span class="sxs-lookup"><span data-stu-id="509ac-201">With underline</span></span>|<span data-ttu-id="509ac-202">289</span><span class="sxs-lookup"><span data-stu-id="509ac-202">289</span></span>|<span data-ttu-id="509ac-203">1130</span><span class="sxs-lookup"><span data-stu-id="509ac-203">1130</span></span>|  
|<span data-ttu-id="509ac-204">Ohne Unterstreichung</span><span class="sxs-lookup"><span data-stu-id="509ac-204">Without underline</span></span>|<span data-ttu-id="509ac-205">299</span><span class="sxs-lookup"><span data-stu-id="509ac-205">299</span></span>|<span data-ttu-id="509ac-206">776</span><span class="sxs-lookup"><span data-stu-id="509ac-206">776</span></span>|  
  
<a name="Text_Formatting_Features"></a>   
## <a name="text-formatting-features"></a><span data-ttu-id="509ac-207">Textformatierungsfunktionen</span><span class="sxs-lookup"><span data-stu-id="509ac-207">Text Formatting Features</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="509ac-208">bietet umfangreiche Formatierungsdienste wie automatische Silbentrennung.</span><span class="sxs-lookup"><span data-stu-id="509ac-208">provides rich text formatting services, such as automatic hyphenations.</span></span> <span data-ttu-id="509ac-209">Diese Dienste können die Leistung der Anwendung beeinträchtigen und sollten nur bei Bedarf verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="509ac-209">These services may impact application performance and should only be used when needed.</span></span>  
  
### <a name="avoid-unnecessary-use-of-hyphenation"></a><span data-ttu-id="509ac-210">Vermeiden von unnötiger Silbentrennung</span><span class="sxs-lookup"><span data-stu-id="509ac-210">Avoid Unnecessary Use of Hyphenation</span></span>  
 <span data-ttu-id="509ac-211">Automatische Silbentrennung findet Trennpunkte für Textzeilen und ermöglicht zusätzliche Trennpositionen für Zeilen in <xref:System.Windows.Controls.TextBlock> und <xref:System.Windows.Documents.FlowDocument> Objekte.</span><span class="sxs-lookup"><span data-stu-id="509ac-211">Automatic hyphenation finds hyphen breakpoints for lines of text, and allows additional break positions for lines in <xref:System.Windows.Controls.TextBlock> and <xref:System.Windows.Documents.FlowDocument> objects.</span></span> <span data-ttu-id="509ac-212">In der Standardeinstellung ist die automatische Silbentrennung in diesen Objekten deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="509ac-212">By default, the automatic hyphenation feature is disabled in these objects.</span></span> <span data-ttu-id="509ac-213">Sie können diese Funktion aktivieren, indem Sie die IsHyphenationEnabled-Eigenschaft des Objekts auf `true` festlegen.</span><span class="sxs-lookup"><span data-stu-id="509ac-213">You can enable this feature by setting the object's IsHyphenationEnabled property to `true`.</span></span> <span data-ttu-id="509ac-214">Allerdings führt die Aktivierung dieser Funktion dazu, dass [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA#tla_com](../../../../includes/tlasharptla-com-md.md)]-Interoperabilität initiiert, was die Leistung der Anwendung beeinträchtigen kann.</span><span class="sxs-lookup"><span data-stu-id="509ac-214">However, enabling this feature causes [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] to initiate [!INCLUDE[TLA#tla_com](../../../../includes/tlasharptla-com-md.md)] interoperability, which can impact application performance.</span></span> <span data-ttu-id="509ac-215">Es wird empfohlen, die automatische Silbentrennung nur bei Bedarf zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="509ac-215">It is recommended that you do not use automatic hyphenation unless you need it.</span></span>  
  
### <a name="use-figures-carefully"></a><span data-ttu-id="509ac-216">Vorsichtiges Verwenden von Figure-Elementen</span><span class="sxs-lookup"><span data-stu-id="509ac-216">Use Figures Carefully</span></span>  
 <span data-ttu-id="509ac-217">Ein <xref:System.Windows.Documents.Figure> Element stellt einen Teil eines fortlaufenden Inhalt, der in einer Inhaltsseite absolut positioniert werden kann.</span><span class="sxs-lookup"><span data-stu-id="509ac-217">A <xref:System.Windows.Documents.Figure> element represents a portion of flow content that can be absolutely-positioned within a page of content.</span></span> <span data-ttu-id="509ac-218">In einigen Fällen eine <xref:System.Windows.Documents.Figure> kann dazu führen, dass eine ganze Seite automatisch neu formatiert wird, wenn seine Position mit Inhalt kollidiert, der bereits gelayoutet wurde. Sie können auch die Möglichkeit unnötiger neuformatierung von entweder Gruppierung Minimieren <xref:System.Windows.Documents.Figure> Elemente nebeneinander, oder deklarieren sie im oberen Bereich des Inhalts in einem Szenario mit Größe fixierten Seite.</span><span class="sxs-lookup"><span data-stu-id="509ac-218">In some cases, a <xref:System.Windows.Documents.Figure> may cause an entire page to automatically reformat if its position collides with content that has already been laid-out. You can minimize the possibility of unnecessary reformatting by either grouping <xref:System.Windows.Documents.Figure> elements next to each other, or declaring them near the top of content in a fixed page size scenario.</span></span>  
  
### <a name="optimal-paragraph"></a><span data-ttu-id="509ac-219">Optimale Absatzformatierung</span><span class="sxs-lookup"><span data-stu-id="509ac-219">Optimal Paragraph</span></span>  
 <span data-ttu-id="509ac-220">Die optimale absatzformatierung, der die <xref:System.Windows.Documents.FlowDocument> Objekt ordnet Absätze so, dass Leerzeichen möglichst gleichmäßig verteilt wird.</span><span class="sxs-lookup"><span data-stu-id="509ac-220">The optimal paragraph feature of the <xref:System.Windows.Documents.FlowDocument> object lays out paragraphs so that white space is distributed as evenly as possible.</span></span> <span data-ttu-id="509ac-221">In der Standardeinstellung ist die optimale Absatzformatierung deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="509ac-221">By default, the optimal paragraph feature is disabled.</span></span> <span data-ttu-id="509ac-222">Sie können dieses Feature aktivieren, indem des Objekts des <xref:System.Windows.Documents.FlowDocument.IsOptimalParagraphEnabled%2A> Eigenschaft `true`.</span><span class="sxs-lookup"><span data-stu-id="509ac-222">You can enable this feature by setting the object's <xref:System.Windows.Documents.FlowDocument.IsOptimalParagraphEnabled%2A> property to `true`.</span></span> <span data-ttu-id="509ac-223">Allerdings beeinträchtigt die Aktivierung dieser Funktion die Leistung der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="509ac-223">However, enabling this feature impacts application performance.</span></span> <span data-ttu-id="509ac-224">Es wird empfohlen, die optimale Absatzformatierung nur bei Bedarf zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="509ac-224">It is recommended that you do not use the optimal paragraph feature unless you need it.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="509ac-225">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="509ac-225">See also</span></span>

- [<span data-ttu-id="509ac-226">Optimieren der WPF-Anwendungsleistung</span><span class="sxs-lookup"><span data-stu-id="509ac-226">Optimizing WPF Application Performance</span></span>](optimizing-wpf-application-performance.md)
- [<span data-ttu-id="509ac-227">Planen der Anwendungsleistung</span><span class="sxs-lookup"><span data-stu-id="509ac-227">Planning for Application Performance</span></span>](planning-for-application-performance.md)
- [<span data-ttu-id="509ac-228">Vorteile der Hardware nutzen</span><span class="sxs-lookup"><span data-stu-id="509ac-228">Taking Advantage of Hardware</span></span>](optimizing-performance-taking-advantage-of-hardware.md)
- [<span data-ttu-id="509ac-229">Layout und Entwurf</span><span class="sxs-lookup"><span data-stu-id="509ac-229">Layout and Design</span></span>](optimizing-performance-layout-and-design.md)
- [<span data-ttu-id="509ac-230">2D-Grafiken und Bildverarbeitung</span><span class="sxs-lookup"><span data-stu-id="509ac-230">2D Graphics and Imaging</span></span>](optimizing-performance-2d-graphics-and-imaging.md)
- [<span data-ttu-id="509ac-231">Objektverhalten</span><span class="sxs-lookup"><span data-stu-id="509ac-231">Object Behavior</span></span>](optimizing-performance-object-behavior.md)
- [<span data-ttu-id="509ac-232">Anwendungsressourcen</span><span class="sxs-lookup"><span data-stu-id="509ac-232">Application Resources</span></span>](optimizing-performance-application-resources.md)
- [<span data-ttu-id="509ac-233">Datenbindung</span><span class="sxs-lookup"><span data-stu-id="509ac-233">Data Binding</span></span>](optimizing-performance-data-binding.md)
- [<span data-ttu-id="509ac-234">Weitere Leistungsempfehlungen</span><span class="sxs-lookup"><span data-stu-id="509ac-234">Other Performance Recommendations</span></span>](optimizing-performance-other-recommendations.md)
