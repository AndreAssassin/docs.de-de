---
title: <serviceSecurityAudit>
ms.date: 03/30/2017
ms.assetid: ba517369-a034-4f8e-a2c4-66517716062b
ms.openlocfilehash: 10888f26053014ffb1fec49d1dfe87c7fd09ab54
ms.sourcegitcommit: 093571de904fc7979e85ef3c048547d0accb1d8a
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/06/2019
ms.locfileid: "70399579"
---
# <a name="servicesecurityaudit"></a><span data-ttu-id="e91b1-101">\<serviceSecurityAudit></span><span class="sxs-lookup"><span data-stu-id="e91b1-101">\<serviceSecurityAudit></span></span>
<span data-ttu-id="e91b1-102">Legt Einstellungen fest, die die Überwachung von Sicherheitsereignissen während der Dienstvorgänge ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="e91b1-102">Specifies settings that enable auditing of security events during service operations.</span></span>  
  
<span data-ttu-id="e91b1-103">[ **\<configuration>** ](../configuration-element.md)</span><span class="sxs-lookup"><span data-stu-id="e91b1-103">[**\<configuration>**](../configuration-element.md)</span></span>\
<span data-ttu-id="e91b1-104">&nbsp;&nbsp;[ **\<System. Service Model->** ](system-servicemodel.md)</span><span class="sxs-lookup"><span data-stu-id="e91b1-104">&nbsp;&nbsp;[**\<system.serviceModel>**](system-servicemodel.md)</span></span>\
<span data-ttu-id="e91b1-105">&nbsp;&nbsp;&nbsp;&nbsp;[ **\<Verhaltens >** ](behaviors.md)</span><span class="sxs-lookup"><span data-stu-id="e91b1-105">&nbsp;&nbsp;&nbsp;&nbsp;[**\<behaviors>**](behaviors.md)</span></span>\
<span data-ttu-id="e91b1-106">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ **\<serviceverhaltens>** ](servicebehaviors.md)</span><span class="sxs-lookup"><span data-stu-id="e91b1-106">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<serviceBehaviors>**](servicebehaviors.md)</span></span>\
<span data-ttu-id="e91b1-107">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ **\<Verhaltens >** ](behavior-of-servicebehaviors.md)</span><span class="sxs-lookup"><span data-stu-id="e91b1-107">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[**\<behavior>**](behavior-of-servicebehaviors.md)</span></span>\
<span data-ttu-id="e91b1-108">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; **\<serviceSecurityAudit->**</span><span class="sxs-lookup"><span data-stu-id="e91b1-108">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**\<serviceSecurityAudit>**</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="e91b1-109">Syntax</span><span class="sxs-lookup"><span data-stu-id="e91b1-109">Syntax</span></span>  
  
```xml  
<serviceSecurityAudit auditLogLocation="Default/Application/Security"
                      messageAuthenticationAuditLevel="None/Success/Failure/SuccessOrFailure"
                      serviceAuthorizationAuditLevel="None/Success/Failure/SuccessOrFailure"
                      suppressAuditFailure="Boolean" />
```  
  
## <a name="attributes-and-elements"></a><span data-ttu-id="e91b1-110">Attribute und Elemente</span><span class="sxs-lookup"><span data-stu-id="e91b1-110">Attributes and Elements</span></span>  
 <span data-ttu-id="e91b1-111">In den folgenden Abschnitten werden Attribute sowie untergeordnete und übergeordnete Elemente beschrieben.</span><span class="sxs-lookup"><span data-stu-id="e91b1-111">The following sections describe attributes, child elements, and parent elements.</span></span>  
  
### <a name="attributes"></a><span data-ttu-id="e91b1-112">Attribute</span><span class="sxs-lookup"><span data-stu-id="e91b1-112">Attributes</span></span>  
  
|<span data-ttu-id="e91b1-113">Attribut</span><span class="sxs-lookup"><span data-stu-id="e91b1-113">Attribute</span></span>|<span data-ttu-id="e91b1-114">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="e91b1-114">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="e91b1-115">auditLogLocation</span><span class="sxs-lookup"><span data-stu-id="e91b1-115">auditLogLocation</span></span>|<span data-ttu-id="e91b1-116">Gibt den Speicherort des Überwachungsprotokolls an.</span><span class="sxs-lookup"><span data-stu-id="e91b1-116">Specifies the location of the audit log.</span></span> <span data-ttu-id="e91b1-117">Folgende Werte sind gültig:</span><span class="sxs-lookup"><span data-stu-id="e91b1-117">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="e91b1-118">Vorgegebene Sicherheitsereignisse werden in das Anwendungsprotokoll unter Windows XP und in das Ereignisprotokoll unter Windows Server 2003 und Windows Vista geschrieben.</span><span class="sxs-lookup"><span data-stu-id="e91b1-118">-   Default: Security events are written to the application log on Windows XP, and to the Event Log on Windows Server 2003 and Windows Vista.</span></span><br /><span data-ttu-id="e91b1-119">Asyl Überwachungs Ereignisse werden in das Anwendungs Ereignisprotokoll geschrieben.</span><span class="sxs-lookup"><span data-stu-id="e91b1-119">-   Application: Audit events are written to the Application Event Log.</span></span><br /><span data-ttu-id="e91b1-120">Sicherung Überwachungs Ereignisse werden in das Sicherheits Ereignisprotokoll geschrieben.</span><span class="sxs-lookup"><span data-stu-id="e91b1-120">-   Security: Audit events are written to the Security Event Log.</span></span><br /><br /> <span data-ttu-id="e91b1-121">Der Standardwert lautet Default.</span><span class="sxs-lookup"><span data-stu-id="e91b1-121">The default value is Default.</span></span> <span data-ttu-id="e91b1-122">Weitere Informationen finden Sie unter <xref:System.ServiceModel.AuditLogLocation>.</span><span class="sxs-lookup"><span data-stu-id="e91b1-122">For more information, see <xref:System.ServiceModel.AuditLogLocation>.</span></span>|  
|<span data-ttu-id="e91b1-123">suppressAuditFailure</span><span class="sxs-lookup"><span data-stu-id="e91b1-123">suppressAuditFailure</span></span>|<span data-ttu-id="e91b1-124">Boolescher Wert, der das Verhalten für das Unterdrücken von Fehlern beim Schreiben in das Überwachungsprotokoll angibt.</span><span class="sxs-lookup"><span data-stu-id="e91b1-124">A Boolean value that specifies the behavior for suppressing failures of writing to the audit log.</span></span><br /><br /> <span data-ttu-id="e91b1-125">Anwendungen sollten über Schreibfehler im Überwachungsprotokoll benachrichtigt werden.</span><span class="sxs-lookup"><span data-stu-id="e91b1-125">Applications should be notified for failures of writing to the audit log.</span></span> <span data-ttu-id="e91b1-126">Wenn die Anwendung nicht für das Verarbeiten von Überwachungsfehlern ausgelegt ist, sollten Sie dieses Attribut verwenden, um Fehler beim Schreiben in das Überwachungsprotokoll zu unterdrücken.</span><span class="sxs-lookup"><span data-stu-id="e91b1-126">If your application is not designed to handle audit failures, you should use this attribute to suppress failures in writing to the audit log.</span></span><br /><br /> <span data-ttu-id="e91b1-127">Wenn dieses Attribut den Wert `true` hat, werden Ausnahmen (außer OutOfMemoryException, StackOverFlowException, ThreadAbortException und ArgumentException), die aus Versuchen, Überwachungsereignisse zu schreiben, hervorgehen, vom System verarbeitet und nicht an die Anwendung weitergegeben.</span><span class="sxs-lookup"><span data-stu-id="e91b1-127">If this attribute is `true`, exceptions other than OutOfMemoryException, StackOverFlowException, ThreadAbortException, and ArgumentException that result from attempts to write audit events are handled by the system, and are not propagated to the application.</span></span> <span data-ttu-id="e91b1-128">Wenn dieses Attribut den Wert `false` hat, werden alle Ausnahmen, die aus Versuchen, Überwachungsereignisse zu schreiben, hervorgehen, an die Anwendung weitergegeben.</span><span class="sxs-lookup"><span data-stu-id="e91b1-128">If this attribute is `false`, all exceptions that result from attempts to write audit events are passed up to the application.</span></span><br /><br /> <span data-ttu-id="e91b1-129">Die Standardeinstellung ist `true`.</span><span class="sxs-lookup"><span data-stu-id="e91b1-129">The default is `true`.</span></span>|  
|<span data-ttu-id="e91b1-130">serviceAuthorizationAuditLevel</span><span class="sxs-lookup"><span data-stu-id="e91b1-130">serviceAuthorizationAuditLevel</span></span>|<span data-ttu-id="e91b1-131">Gibt die Typen von Autorisierungsereignissen an, die im Überwachungsprotokoll aufgezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="e91b1-131">Specifies the types of authorization events that are recorded in the audit log.</span></span> <span data-ttu-id="e91b1-132">Folgende Werte sind gültig:</span><span class="sxs-lookup"><span data-stu-id="e91b1-132">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="e91b1-133">Gar Es wird keine Überwachung von Dienst Autorisierungs Ereignissen ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="e91b1-133">-   None: No auditing of service authorization events is performed.</span></span><br /><span data-ttu-id="e91b1-134">Erfolglos Es werden nur erfolgreiche Dienst Autorisierungs Ereignisse überwacht.</span><span class="sxs-lookup"><span data-stu-id="e91b1-134">-   Success: Only successful service authorization events are audited.</span></span><br /><span data-ttu-id="e91b1-135">Fehler Nur Fehler Dienst-Autorisierungs Ereignisse werden überwacht.</span><span class="sxs-lookup"><span data-stu-id="e91b1-135">-   Failure: Only failure service authorization events are audited.</span></span><br /><span data-ttu-id="e91b1-136">-Erfolgreiorfailure: Sowohl Erfolgs-als auch Fehler Dienst Autorisierungs Ereignisse werden überwacht.</span><span class="sxs-lookup"><span data-stu-id="e91b1-136">-   SuccessOrFailure: Both success and failure service authorization events are audited.</span></span><br /><br /> <span data-ttu-id="e91b1-137">Der Standardwert ist None.</span><span class="sxs-lookup"><span data-stu-id="e91b1-137">The default value is None.</span></span> <span data-ttu-id="e91b1-138">Weitere Informationen finden Sie unter <xref:System.ServiceModel.AuditLevel>.</span><span class="sxs-lookup"><span data-stu-id="e91b1-138">For more information, see <xref:System.ServiceModel.AuditLevel>.</span></span>|  
|<span data-ttu-id="e91b1-139">messageAuthenticationAuditLevel</span><span class="sxs-lookup"><span data-stu-id="e91b1-139">messageAuthenticationAuditLevel</span></span>|<span data-ttu-id="e91b1-140">Gibt den Typ der protokollierten Nachrichtenauthentifizierungs-Überwachungsereignisse an.</span><span class="sxs-lookup"><span data-stu-id="e91b1-140">Specifies the type of message authentication audit events logged.</span></span> <span data-ttu-id="e91b1-141">Folgende Werte sind gültig:</span><span class="sxs-lookup"><span data-stu-id="e91b1-141">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="e91b1-142">Gar Es werden keine Überwachungs Ereignisse generiert.</span><span class="sxs-lookup"><span data-stu-id="e91b1-142">-   None: No audit events are generated.</span></span><br /><span data-ttu-id="e91b1-143">Erfolglos Es werden nur erfolgreiche Sicherheitsereignisse (vollständige Validierung einschließlich Validierung der Nachrichten Signatur, Chiffre Validierung und tokenüberprüfung) protokolliert.</span><span class="sxs-lookup"><span data-stu-id="e91b1-143">-   Success: Only successful security (full validation including message signature validation, cipher, and token validation) events are logged.</span></span><br /><span data-ttu-id="e91b1-144">Fehler Nur Fehlerereignisse werden protokolliert.</span><span class="sxs-lookup"><span data-stu-id="e91b1-144">-   Failure: Only failure events are logged.</span></span><br /><span data-ttu-id="e91b1-145">-Erfolgreiorfailure: Sowohl Erfolgs-als auch Fehlerereignisse werden protokolliert.</span><span class="sxs-lookup"><span data-stu-id="e91b1-145">-   SuccessOrFailure: Both success and failure events are logged.</span></span><br /><br /> <span data-ttu-id="e91b1-146">Der Standardwert ist None.</span><span class="sxs-lookup"><span data-stu-id="e91b1-146">The default value is None.</span></span> <span data-ttu-id="e91b1-147">Weitere Informationen finden Sie unter <xref:System.ServiceModel.AuditLevel>.</span><span class="sxs-lookup"><span data-stu-id="e91b1-147">For more information, see <xref:System.ServiceModel.AuditLevel>.</span></span>|  
  
### <a name="child-elements"></a><span data-ttu-id="e91b1-148">Untergeordnete Elemente</span><span class="sxs-lookup"><span data-stu-id="e91b1-148">Child Elements</span></span>  
 <span data-ttu-id="e91b1-149">Keine</span><span class="sxs-lookup"><span data-stu-id="e91b1-149">None.</span></span>  
  
### <a name="parent-elements"></a><span data-ttu-id="e91b1-150">Übergeordnete Elemente</span><span class="sxs-lookup"><span data-stu-id="e91b1-150">Parent Elements</span></span>  
  
|<span data-ttu-id="e91b1-151">Element</span><span class="sxs-lookup"><span data-stu-id="e91b1-151">Element</span></span>|<span data-ttu-id="e91b1-152">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="e91b1-152">Description</span></span>|  
|-------------|-----------------|  
|[<span data-ttu-id="e91b1-153">\<behavior></span><span class="sxs-lookup"><span data-stu-id="e91b1-153">\<behavior></span></span>](behavior-of-endpointbehaviors.md)|<span data-ttu-id="e91b1-154">Gibt ein Verhaltenselement an.</span><span class="sxs-lookup"><span data-stu-id="e91b1-154">Specifies a behavior element.</span></span>|  
  
## <a name="remarks"></a><span data-ttu-id="e91b1-155">Hinweise</span><span class="sxs-lookup"><span data-stu-id="e91b1-155">Remarks</span></span>  
 <span data-ttu-id="e91b1-156">Dieses Konfigurationselement wird verwendet, um Windows Communication Foundation (WCF)-Authentifizierungs Ereignisse zu überwachen.</span><span class="sxs-lookup"><span data-stu-id="e91b1-156">This configuration element is used to audit Windows Communication Foundation (WCF) authentication events.</span></span> <span data-ttu-id="e91b1-157">Ist die Überwachung aktiviert, können entweder erfolgreiche oder fehlgeschlagene Authentifizierungsversuche (oder beides) überwacht werden.</span><span class="sxs-lookup"><span data-stu-id="e91b1-157">When auditing is enabled, either successful or failed authentication attempts (or both) can be audited.</span></span> <span data-ttu-id="e91b1-158">Die Ereignisse werden in eines der drei Ereignisprotokolle geschrieben: das Anwendungs-, Sicherheits- oder Standardprotokoll für die Betriebssystemversion.</span><span class="sxs-lookup"><span data-stu-id="e91b1-158">The events are written to one of three event logs: application, security, or the default log for the operating system version.</span></span> <span data-ttu-id="e91b1-159">Die Ereignisprotokolle können alle mit der Windows-Ereignisanzeige angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="e91b1-159">The event logs can all be viewed using the Windows Event viewer.</span></span>  
  
 <span data-ttu-id="e91b1-160">Ein ausführliches Beispiel für die Verwendung dieses Konfigurations Elements finden Sie unter [Service Auditing Behavior](../../../wcf/samples/service-auditing-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="e91b1-160">For a detailed example of using this configuration element, see [Service Auditing Behavior](../../../wcf/samples/service-auditing-behavior.md).</span></span>  
  
 <span data-ttu-id="e91b1-161">Standardmäßig können unter Windows XP die Überwachungsereignisse im Anwendungsprotokoll und unter Windows Server 2003 und Windows Vista im Sicherheitsprotokoll angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="e91b1-161">By default, on Windows XP the audit events can be seen in the Application Log; while on Windows Server 2003 and Windows Vista, the audit events can be seen in the Security Log.</span></span> <span data-ttu-id="e91b1-162">Der Speicherort von Überwachungsereignissen kann durch Festlegen des `auditLogLocation`-Attributs auf "Application" oder "Security" angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="e91b1-162">The location of audit events can be specified by setting the `auditLogLocation` attribute to 'Application' or 'Security'.</span></span> <span data-ttu-id="e91b1-163">Weitere Informationen finden Sie unter [Vorgehensweise: Überwachen von](../../../wcf/feature-details/how-to-audit-wcf-security-events.md)Sicherheits Ereignissen.</span><span class="sxs-lookup"><span data-stu-id="e91b1-163">For more information, see [How to: Audit Security Events](../../../wcf/feature-details/how-to-audit-wcf-security-events.md).</span></span> <span data-ttu-id="e91b1-164">Wenn die Ereignisse in das Sicherheitsprotokoll geschrieben werden, sollte das LocalSecurityPolicy-> Objektzugriff aktivieren auf "Erfolg" und "Fehler" festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="e91b1-164">If the events are written in the Security Log, the LocalSecurityPolicy-> Enable Object Access should be set for "Success" and "Failure".</span></span>  
  
 <span data-ttu-id="e91b1-165">Im Ereignisprotokoll ist die Quelle der Überwachungsereignisse "ServiceModel Audit 3.0.0.0".</span><span class="sxs-lookup"><span data-stu-id="e91b1-165">When looking at the event log, the source of the audit events is "ServiceModel Audit 3.0.0.0".</span></span> <span data-ttu-id="e91b1-166">Nachrichtenauthentifizierungsüberwachungs-Datensätze weisen die Kategorie "MessageAuthentication" auf, während Dienstautorisierungsüberwachungs-Datensätze die Kategorie 'ServiceAuthorization' aufweisen.</span><span class="sxs-lookup"><span data-stu-id="e91b1-166">Message authentication audit records have a category of "MessageAuthentication" while service authorization audit records have a category of 'ServiceAuthorization'.</span></span>  
  
 <span data-ttu-id="e91b1-167">Ereignisse der Nachrichtenauthentifizierungsüberwachung zeigen an, ob die Nachricht manipuliert wurde, abgelaufen ist und ob der Client für den Dienst authentifiziert werden kann.</span><span class="sxs-lookup"><span data-stu-id="e91b1-167">Message authentication audit events cover whether the message was tampered with, whether the message has expired and whether the client can authenticate to the service.</span></span> <span data-ttu-id="e91b1-168">Sie enthalten Informationen darüber, ob die Authentifizierung erfolgreich war oder fehlgeschlagen ist, sowie Informationen über die Identität des Clients und über den Endpunkt, an den die Nachricht zusammen mit der der Nachricht zugewiesenen Aktion gesendet wurde.</span><span class="sxs-lookup"><span data-stu-id="e91b1-168">They provide information about whether the authentication succeeded or failed along with the identity of the client and the endpoint the message was sent to along with the action associated with the message.</span></span>  
  
 <span data-ttu-id="e91b1-169">Ereignisse der Dienstautorisierungsüberwachung enthalten die Autorisierungsentscheidung, die vom Dienstautorisierungs-Manager getroffen wird.</span><span class="sxs-lookup"><span data-stu-id="e91b1-169">Service authorization audit events cover the authorization decision made by a service authorization manager.</span></span> <span data-ttu-id="e91b1-170">Sie enthalten Informationen darüber, ob die Autorisierung erfolgreich war oder fehlgeschlagen ist, zusammen mit der Identität des Clients, dem Endpunkt, an den die Nachricht gesendet wurde, der der Nachricht zugeordneten Aktion, dem Bezeichner des Autorisierungs Kontexts, der von der eingehende Nachricht und der Typ des Autorisierungs-Managers, der die Zugriffs Entscheidung getroffen hat.</span><span class="sxs-lookup"><span data-stu-id="e91b1-170">They provide information about whether authorization succeeded or failed along with the identity of the client, the endpoint the message was sent to, the action associated with the message, the identifier of the authorization context that was generated from the incoming message and the type of the authorization manager that made the access decision.</span></span>  
  
## <a name="example"></a><span data-ttu-id="e91b1-171">Beispiel</span><span class="sxs-lookup"><span data-stu-id="e91b1-171">Example</span></span>  
  
```xml  
<system.serviceModel>
  <behaviors>
    <serviceBehaviors>
      <behavior name="NewBehavior">
        <serviceSecurityAudit auditLogLocation="Application"
                              suppressAuditFailure="true"
                              serviceAuthorizationAuditLevel="Success"
                              messageAuthenticationAuditLevel="Success" />
      </behavior>
    </serviceBehaviors>
  </behaviors>
</system.serviceModel>
```  
  
## <a name="see-also"></a><span data-ttu-id="e91b1-172">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="e91b1-172">See also</span></span>

- <xref:System.ServiceModel.Configuration.ServiceSecurityAuditElement>
- <xref:System.ServiceModel.Description.ServiceSecurityAuditBehavior>
- [<span data-ttu-id="e91b1-173">Sicherheitsverhalten</span><span class="sxs-lookup"><span data-stu-id="e91b1-173">Security Behaviors</span></span>](../../../wcf/feature-details/security-behaviors-in-wcf.md)
- [<span data-ttu-id="e91b1-174">Überwachung</span><span class="sxs-lookup"><span data-stu-id="e91b1-174">Auditing</span></span>](../../../wcf/feature-details/auditing-security-events.md)
- [<span data-ttu-id="e91b1-175">Vorgehensweise: Sicherheitsereignisse überwachen</span><span class="sxs-lookup"><span data-stu-id="e91b1-175">How to: Audit Security Events</span></span>](../../../wcf/feature-details/how-to-audit-wcf-security-events.md)
- [<span data-ttu-id="e91b1-176">Dienstüberwachungsverhalten</span><span class="sxs-lookup"><span data-stu-id="e91b1-176">Service Auditing Behavior</span></span>](../../../wcf/samples/service-auditing-behavior.md)
