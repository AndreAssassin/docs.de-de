---
title: Einrichten einer Profilerstellungsumgebung
ms.date: 03/30/2017
helpviewer_keywords:
- environment variables, profiling API
- profiling API [.NET Framework], setting up environment
- COR_PROFILER environment variable
- Windows Service applications, profiling
- profiling API [.NET Framework], Windows Service applications
- COR_ENABLE_PROFILING environment variable
- profiling API [.NET Framework], enabling
ms.assetid: fefca07f-7555-4e77-be86-3c542e928312
ms.openlocfilehash: 86720cb1739e3f193cd1d5081577d69bca1cf0f9
ms.sourcegitcommit: 9a39f2a06f110c9c7ca54ba216900d038aa14ef3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/23/2019
ms.locfileid: "74427051"
---
# <a name="setting-up-a-profiling-environment"></a><span data-ttu-id="41daa-102">Einrichten einer Profilerstellungsumgebung</span><span class="sxs-lookup"><span data-stu-id="41daa-102">Setting Up a Profiling Environment</span></span>
> [!NOTE]
> <span data-ttu-id="41daa-103">There have been substantial changes to profiling in the .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="41daa-103">There have been substantial changes to profiling in the .NET Framework 4.</span></span>  
  
 <span data-ttu-id="41daa-104">Wenn ein verwalteter Prozess (Anwendung oder Dienst) gestartet wird, wird die Common Language Runtime (CLR) geladen.</span><span class="sxs-lookup"><span data-stu-id="41daa-104">When a managed process (application or service) starts, it loads the common language runtime (CLR).</span></span> <span data-ttu-id="41daa-105">Wenn die CLR initialisiert wird, werden die folgenden zwei Umgebungsvariablen ausgewertet, um zu entscheiden, ob der Prozess mit einem Profiler verbunden werden soll:</span><span class="sxs-lookup"><span data-stu-id="41daa-105">When the CLR is initialized, it evaluates the following two environmental variables to decide whether the process should connect to a profiler:</span></span>  
  
- <span data-ttu-id="41daa-106">COR_ENABLE_PROFILING: Die CLR stellt nur dann eine Verbindung zu einem Profiler her, wenn diese Umgebungsvariable vorhanden und auf 1 gesetzt ist.</span><span class="sxs-lookup"><span data-stu-id="41daa-106">COR_ENABLE_PROFILING: The CLR connects to a profiler only if this environment variable exists and is set to 1.</span></span>  
  
- <span data-ttu-id="41daa-107">COR_PROFILER: Wenn die Prüfung auf die Variable COR_ENABLE_PROFILING erfolgreich abgeschlossen wurde, stellt die CLR eine Verbindung mit dem Profiler mit dieser CLSID oder ProgID her, die zuvor in der Registrierung abgelegt worden sein muss.</span><span class="sxs-lookup"><span data-stu-id="41daa-107">COR_PROFILER: If the COR_ENABLE_PROFILING check passes, the CLR connects to the profiler that has this CLSID or ProgID, which must have been stored previously in the registry.</span></span> <span data-ttu-id="41daa-108">Die COR_PROFILER-Umgebungsvariable ist als Zeichenfolge definiert, wie in den beiden folgenden Beispielen gezeigt.</span><span class="sxs-lookup"><span data-stu-id="41daa-108">The COR_PROFILER environment variable is defined as a string, as shown in the following two examples.</span></span>  
  
    ```cpp  
    set COR_PROFILER={32E2F4DA-1BEA-47ea-88F9-C5DAF691C94A}  
    set COR_PROFILER="MyProfiler"  
    ```  
  
 <span data-ttu-id="41daa-109">Zur Profilerstellung für eine CLR-Anwendung müssen die Umgebungsvariablen COR_ENABLE_PROFILING und COR_PROFILER festgelegt werden, bevor Sie die Anwendung ausführen.</span><span class="sxs-lookup"><span data-stu-id="41daa-109">To profile a CLR application, you must set the COR_ENABLE_PROFILING and COR_PROFILER environment variables before you run the application.</span></span> <span data-ttu-id="41daa-110">Außerdem müssen Sie sicherstellen, dass die Profiler-DLL registriert ist.</span><span class="sxs-lookup"><span data-stu-id="41daa-110">You must also make sure that the profiler DLL is registered.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="41daa-111">Starting with the .NET Framework 4, profilers do not have to be registered.</span><span class="sxs-lookup"><span data-stu-id="41daa-111">Starting with the .NET Framework 4, profilers do not have to be registered.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="41daa-112">To use .NET Framework versions 2.0, 3.0, and 3.5 profilers in the .NET Framework 4 and later versions, you must set the COMPLUS_ProfAPI_ProfilerCompatibilitySetting environment variable.</span><span class="sxs-lookup"><span data-stu-id="41daa-112">To use .NET Framework versions 2.0, 3.0, and 3.5 profilers in the .NET Framework 4 and later versions, you must set the COMPLUS_ProfAPI_ProfilerCompatibilitySetting environment variable.</span></span>  
  
## <a name="environment-variable-scope"></a><span data-ttu-id="41daa-113">Umgebungsvariablenbereich</span><span class="sxs-lookup"><span data-stu-id="41daa-113">Environment Variable Scope</span></span>  
 <span data-ttu-id="41daa-114">Die Werte, die Sie für die Umgebungsvariablen COR_ENABLE_PROFILING und COR_PROFILER festlegen, bestimmen den Einflussbereich dieser Variablen.</span><span class="sxs-lookup"><span data-stu-id="41daa-114">How you set the COR_ENABLE_PROFILING and COR_PROFILER environment variables will determine their scope of influence.</span></span> <span data-ttu-id="41daa-115">Sie haben folgende Möglichkeiten, diese Variablen festzulegen:</span><span class="sxs-lookup"><span data-stu-id="41daa-115">You can set these variables in one of the following ways:</span></span>  
  
- <span data-ttu-id="41daa-116">If you set the variables in an [ICorDebug::CreateProcess](../../../../docs/framework/unmanaged-api/debugging/icordebug-createprocess-method.md) call, they will apply only to the application that you are running at the time.</span><span class="sxs-lookup"><span data-stu-id="41daa-116">If you set the variables in an [ICorDebug::CreateProcess](../../../../docs/framework/unmanaged-api/debugging/icordebug-createprocess-method.md) call, they will apply only to the application that you are running at the time.</span></span> <span data-ttu-id="41daa-117">(Sie gelten auch für andere Anwendungen, die von dieser Anwendung gestartet werden und die die Umgebung erben.)</span><span class="sxs-lookup"><span data-stu-id="41daa-117">(They will also apply to other applications started by that application that inherit the environment.)</span></span>  
  
- <span data-ttu-id="41daa-118">Wenn Sie die Variablen in einer Eingabeaufforderung festlegen, gelten sie für alle Anwendungen, die von diesem Fenster aus gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="41daa-118">If you set the variables in a Command Prompt window, they will apply to all applications that are started from that window.</span></span>  
  
- <span data-ttu-id="41daa-119">Wenn Sie die Variablen auf Benutzerebene festlegen, gelten sie für alle Anwendungen, die Sie mit Datei-Explorer starten.</span><span class="sxs-lookup"><span data-stu-id="41daa-119">If you set the variables at the user level, they will apply to all applications that you start with File Explorer.</span></span> <span data-ttu-id="41daa-120">Eine Eingabeaufforderung, die Sie nach dem Festlegen dieser Variablen öffnen, hat diese Umgebungseinstellungen, ebenso wie jede Anwendung, die Sie aus diesem Fenster starten.</span><span class="sxs-lookup"><span data-stu-id="41daa-120">A Command Prompt window that you open after you set the variables will have these environment settings, and so will any application that you start from that window.</span></span> <span data-ttu-id="41daa-121">To set environment variables at the user level, right-click **My Computer**, click **Properties**, click the **Advanced** tab, click **Environment Variables**, and add the variables to the **User variables** list.</span><span class="sxs-lookup"><span data-stu-id="41daa-121">To set environment variables at the user level, right-click **My Computer**, click **Properties**, click the **Advanced** tab, click **Environment Variables**, and add the variables to the **User variables** list.</span></span>  
  
- <span data-ttu-id="41daa-122">Wenn Sie die Variablen auf Computerebene festlegen, gelten sie für alle Anwendungen, die auf diesem Computer gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="41daa-122">If you set the variables at the computer level, they will apply to all applications that are started on that computer.</span></span> <span data-ttu-id="41daa-123">Eine Eingabeaufforderung, die Sie auf diesem Computer öffnen, hat diese Umgebungseinstellungen, ebenso wie jede Anwendung, die Sie aus diesem Fenster starten.</span><span class="sxs-lookup"><span data-stu-id="41daa-123">A Command Prompt window that you open on that computer will have these environment settings, and so will any application that you start from that window.</span></span> <span data-ttu-id="41daa-124">Dies bedeutet, dass jeder verwaltete Prozess auf diesem Computer mit Ihrem Profiler startet.</span><span class="sxs-lookup"><span data-stu-id="41daa-124">This means that every managed process on that computer will start with your profiler.</span></span> <span data-ttu-id="41daa-125">To set environment variables at the computer level, right-click **My Computer**, click **Properties**, click the **Advanced** tab, click **Environment Variables**, add the variables to the **System variables** list, and then restart your computer.</span><span class="sxs-lookup"><span data-stu-id="41daa-125">To set environment variables at the computer level, right-click **My Computer**, click **Properties**, click the **Advanced** tab, click **Environment Variables**, add the variables to the **System variables** list, and then restart your computer.</span></span> <span data-ttu-id="41daa-126">Nach dem Neustart sind die Variablen systemweit verfügbar.</span><span class="sxs-lookup"><span data-stu-id="41daa-126">After restarting, the variables will be available system-wide.</span></span>  
  
 <span data-ttu-id="41daa-127">Wenn Sie ein Profil für einen Windows-Dienst erstellen, müssen Sie nach dem Festlegen der Umgebungsvariablen und dem Registrieren der Profiler-DLL den Computer neu starten.</span><span class="sxs-lookup"><span data-stu-id="41daa-127">If you are profiling a Windows Service, you must restart your computer after you set the environment variables and register the profiler DLL.</span></span> <span data-ttu-id="41daa-128">For more information about these considerations, see the section [Profiling a Windows Service](#windows_service).</span><span class="sxs-lookup"><span data-stu-id="41daa-128">For more information about these considerations, see the section [Profiling a Windows Service](#windows_service).</span></span>  
  
## <a name="additional-considerations"></a><span data-ttu-id="41daa-129">Weitere Überlegungen</span><span class="sxs-lookup"><span data-stu-id="41daa-129">Additional Considerations</span></span>  
  
- <span data-ttu-id="41daa-130">The profiler class implements the [ICorProfilerCallback](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback-interface.md) and [ICorProfilerCallback2](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback2-interface.md) interfaces.</span><span class="sxs-lookup"><span data-stu-id="41daa-130">The profiler class implements the [ICorProfilerCallback](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback-interface.md) and [ICorProfilerCallback2](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback2-interface.md) interfaces.</span></span> <span data-ttu-id="41daa-131">In .NET Framework, Version 2.0, muss ein Profiler `ICorProfilerCallback2` implementieren.</span><span class="sxs-lookup"><span data-stu-id="41daa-131">In the .NET Framework version 2.0, a profiler must implement `ICorProfilerCallback2`.</span></span> <span data-ttu-id="41daa-132">Wenn dies nicht geschieht, wird `ICorProfilerCallback2` nicht geladen.</span><span class="sxs-lookup"><span data-stu-id="41daa-132">If it does not, `ICorProfilerCallback2` will not be loaded.</span></span>  
  
- <span data-ttu-id="41daa-133">Nur ein einzelner Profiler kann ein Profil für einen Prozess zu einem gegebenen Zeitpunkt in einer gegebenen Umgebung erstellen.</span><span class="sxs-lookup"><span data-stu-id="41daa-133">Only one profiler can profile a process at one time in a given environment.</span></span> <span data-ttu-id="41daa-134">Sie können zwei verschiedene Profiler in anderen Umgebungen registrieren, doch in jedem müssen Profile für gesonderte Prozesse erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="41daa-134">You can register two different profilers in different environments, but each must profile separate processes.</span></span> <span data-ttu-id="41daa-135">Der Profiler muss als prozessinterne COM-Server-DLL implementiert werden, die im gleichen Adressbereich wie der Prozess zugeordnet wird, für den ein Profil erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="41daa-135">The profiler must be implemented as an in-process COM server DLL, which is mapped into the same address space as the process that is being profiled.</span></span> <span data-ttu-id="41daa-136">Dies bedeutet, dass der Profiler prozessintern ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="41daa-136">This means that the profiler runs in-process.</span></span> <span data-ttu-id="41daa-137">.NET Framework unterstützt keinen anderen Typ von COM-Server.</span><span class="sxs-lookup"><span data-stu-id="41daa-137">The .NET Framework does not support any other type of COM server.</span></span> <span data-ttu-id="41daa-138">Wenn beispielsweise ein Profiler Anwendungen von einem Remotecomputer aus überwachen möchte, muss er Collector-Agents auf jedem Computer implementieren.</span><span class="sxs-lookup"><span data-stu-id="41daa-138">For example, if a profiler wants to monitor applications from a remote computer, it must implement collector agents on each computer.</span></span> <span data-ttu-id="41daa-139">Diese Agents fassen die Ergebnisse in Stapeln zusammen und melden diese dem zentralen Datenerfassungscomputer.</span><span class="sxs-lookup"><span data-stu-id="41daa-139">These agents will batch results and communicate them to the central data collection computer.</span></span>  
  
- <span data-ttu-id="41daa-140">Da der Profiler ein COM-Objekt ist, das prozessintern instanziiert wird, verfügt jede Anwendung mit Profil über eine eigene Kopie des Profilers.</span><span class="sxs-lookup"><span data-stu-id="41daa-140">Because the profiler is a COM object that is instantiated in-process, each profiled application will have its own copy of the profiler.</span></span> <span data-ttu-id="41daa-141">Daher muss eine einzelne Profilerinstanz nicht Daten von mehreren Anwendungen behandeln.</span><span class="sxs-lookup"><span data-stu-id="41daa-141">Therefore, a single profiler instance does not have to handle data from multiple applications.</span></span> <span data-ttu-id="41daa-142">Sie müssen jedoch eine Logik zum Protokollierungscode des Profilers hinzufügen, um zu verhindern, dass die Protokolldatei durch andere Anwendungen mit Profil überschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="41daa-142">However, you will have to add logic to the profiler's logging code to prevent log file overwrites from other profiled applications.</span></span>  
  
## <a name="initializing-the-profiler"></a><span data-ttu-id="41daa-143">Initialisieren des Profilers</span><span class="sxs-lookup"><span data-stu-id="41daa-143">Initializing the Profiler</span></span>  
 <span data-ttu-id="41daa-144">Wenn die Prüfung auf beide Umgebungsvariablen erfolgreich ist, erstellt die CLR eine Instanz des Profilers in ähnlicher Weise wie für die COM-`CoCreateInstance`-Funktion.</span><span class="sxs-lookup"><span data-stu-id="41daa-144">When both environment variable checks pass, the CLR creates an instance of the profiler in a similar manner to the COM `CoCreateInstance` function.</span></span> <span data-ttu-id="41daa-145">Der Profiler wird nicht durch einen direkten Aufruf von `CoCreateInstance` geladen.</span><span class="sxs-lookup"><span data-stu-id="41daa-145">The profiler is not loaded through a direct call to `CoCreateInstance`.</span></span> <span data-ttu-id="41daa-146">Deshalb wird ein Aufruf von `CoInitialize`, der das Festlegen des Threadingmodells erfordert, vermieden.</span><span class="sxs-lookup"><span data-stu-id="41daa-146">Therefore, a call to `CoInitialize`, which requires setting the threading model, is avoided.</span></span> <span data-ttu-id="41daa-147">The CLR then calls the [ICorProfilerCallback::Initialize](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback-initialize-method.md) method in the profiler.</span><span class="sxs-lookup"><span data-stu-id="41daa-147">The CLR then calls the [ICorProfilerCallback::Initialize](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback-initialize-method.md) method in the profiler.</span></span> <span data-ttu-id="41daa-148">Die Signatur dieser Methode wird im Folgenden beschrieben.</span><span class="sxs-lookup"><span data-stu-id="41daa-148">The signature of this method is as follows.</span></span>  
  
```cpp  
HRESULT Initialize(IUnknown *pICorProfilerInfoUnk)  
```  
  
 <span data-ttu-id="41daa-149">The profiler must query `pICorProfilerInfoUnk` for an [ICorProfilerInfo](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo-interface.md) or [ICorProfilerInfo2](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo2-interface.md) interface pointer and save it so that it can request more information later during profiling.</span><span class="sxs-lookup"><span data-stu-id="41daa-149">The profiler must query `pICorProfilerInfoUnk` for an [ICorProfilerInfo](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo-interface.md) or [ICorProfilerInfo2](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo2-interface.md) interface pointer and save it so that it can request more information later during profiling.</span></span>  
  
## <a name="setting-event-notifications"></a><span data-ttu-id="41daa-150">Festlegen von Ereignisbenachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="41daa-150">Setting Event Notifications</span></span>  
 <span data-ttu-id="41daa-151">The profiler then calls the [ICorProfilerInfo::SetEventMask](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo-seteventmask-method.md) method to specify which categories of notifications it is interested in.</span><span class="sxs-lookup"><span data-stu-id="41daa-151">The profiler then calls the [ICorProfilerInfo::SetEventMask](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo-seteventmask-method.md) method to specify which categories of notifications it is interested in.</span></span> <span data-ttu-id="41daa-152">Wenn für den Profiler z. B. nur Benachrichtigungen zum Starten und Verlassen von Funktionen und an Garbage Collection-Benachrichtigungen von Belang sind, wird Folgendes angegeben.</span><span class="sxs-lookup"><span data-stu-id="41daa-152">For example, if the profiler is interested only in function enter and leave notifications and garbage collection notifications, it specifies the following.</span></span>  
  
```cpp  
ICorProfilerInfo* pInfo;  
pICorProfilerInfoUnk->QueryInterface(IID_ICorProfilerInfo, (void**)&pInfo);  
pInfo->SetEventMask(COR_PRF_MONITOR_ENTERLEAVE | COR_PRF_MONITOR_GC)  
```  
  
 <span data-ttu-id="41daa-153">Durch das Festlegen der Benachrichtigungsmaske in dieser Weise kann der Profiler die Benachrichtigungen einschränken, die er empfängt.</span><span class="sxs-lookup"><span data-stu-id="41daa-153">By setting the notifications mask in this manner, the profiler can limit which notifications it receives.</span></span> <span data-ttu-id="41daa-154">Dieser Ansatz hilft dem Benutzer dabei, einen einfachen oder zweckgebundenen Profiler zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="41daa-154">This approach helps the user build a simple or special-purpose profiler.</span></span> <span data-ttu-id="41daa-155">Er reduziert auch die CPU-Zeit, die durch das Senden von Benachrichtigungen verschwendet würde, die vom Profiler einfach ignoriert werden.</span><span class="sxs-lookup"><span data-stu-id="41daa-155">It also reduces CPU time that would be wasted sending notifications that the profiler would just ignore.</span></span>  
  
 <span data-ttu-id="41daa-156">Bestimmte Profilerereignisse sind unveränderlich.</span><span class="sxs-lookup"><span data-stu-id="41daa-156">Certain profiler events are immutable.</span></span> <span data-ttu-id="41daa-157">Das bedeutet, dass diese Ereignisse unmittelbar nach ihrem Festlegen im `ICorProfilerCallback::Initialize`-Rückruf nicht deaktiviert und neue Ereignisse nicht aktiviert werden können.</span><span class="sxs-lookup"><span data-stu-id="41daa-157">This means that as soon as these events are set in the `ICorProfilerCallback::Initialize` callback, they cannot be turned off and new events cannot be turned on.</span></span> <span data-ttu-id="41daa-158">Versuche, ein unveränderliches Ereignis zu ändern, führen dazu, dass `ICorProfilerInfo::SetEventMask` ein fehlgeschlagenes HRESULT zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="41daa-158">Attempts to change an immutable event will result in `ICorProfilerInfo::SetEventMask` returning a failed HRESULT.</span></span>  
  
<a name="windows_service"></a>   
## <a name="profiling-a-windows-service"></a><span data-ttu-id="41daa-159">Profilerstellung für einen Windows-Dienst</span><span class="sxs-lookup"><span data-stu-id="41daa-159">Profiling a Windows Service</span></span>  
 <span data-ttu-id="41daa-160">Die Profilerstellung für einen Windows-Dienst ist mit der Profilerstellung für eine Common Language Runtime-Anwendung vergleichbar.</span><span class="sxs-lookup"><span data-stu-id="41daa-160">Profiling a Windows Service is like profiling a common language runtime application.</span></span> <span data-ttu-id="41daa-161">Beide Profilerstellungsvorgänge werden durch Umgebungsvariablen aktiviert.</span><span class="sxs-lookup"><span data-stu-id="41daa-161">Both profiling operations are enabled through environment variables.</span></span> <span data-ttu-id="41daa-162">Da ein Windows-Dienst gestartet wird, wenn das Betriebssystem gestartet wird, müssen die zuvor in diesem Thema erläuterten Umgebungsvariablen bereits vor dem Systemstart vorhanden und auf die erforderlichen Werte festgelegt sein.</span><span class="sxs-lookup"><span data-stu-id="41daa-162">Because a Windows Service is started when the operating system starts, the environment variables discussed previously in this topic must already be present and set to the required values before the system starts.</span></span> <span data-ttu-id="41daa-163">Außerdem muss die Profilerstellungs-DLL bereits auf dem System registriert sein.</span><span class="sxs-lookup"><span data-stu-id="41daa-163">In addition, the profiling DLL must already be registered on the system.</span></span>  
  
 <span data-ttu-id="41daa-164">Nachdem Sie die COR_ENABLE_PROFILING-Umgebungsvariable und die COR_PROFILER-Umgebungsvariable festgelegt und die Profiler-DLL registriert haben, sollten Sie den Zielcomputer neu starten, damit der Windows-Dienst diese Änderungen feststellen kann.</span><span class="sxs-lookup"><span data-stu-id="41daa-164">After you set the COR_ENABLE_PROFILING and COR_PROFILER environment variables and register the profiler DLL, you should restart the target computer so that the Windows Service can detect those changes.</span></span>  
  
 <span data-ttu-id="41daa-165">Beachten Sie, dass diese Änderungen die Profilerstellung auf einer systemweiten Basis aktivieren.</span><span class="sxs-lookup"><span data-stu-id="41daa-165">Note that these changes will enable profiling on a system-wide basis.</span></span> <span data-ttu-id="41daa-166">Um zu verhindern, dass für jede nachfolgend ausgeführte verwaltete Anwendung ein Profil erstellt wird, sollten Sie die Systemumgebungsvariablen nach dem Neustart des Zielcomputers löschen.</span><span class="sxs-lookup"><span data-stu-id="41daa-166">To prevent every managed application that subsequently runs from being profiled, you should delete the system environment variables after you restart the target computer.</span></span>  
  
 <span data-ttu-id="41daa-167">Dieses Verfahren führt außerdem dazu, dass für jeden CLR-Prozess ein Profil erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="41daa-167">This technique also leads to every CLR process getting profiled.</span></span> <span data-ttu-id="41daa-168">The profiler should add logic to its [ICorProfilerCallback::Initialize](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback-initialize-method.md) callback to detect whether the current process is of interest.</span><span class="sxs-lookup"><span data-stu-id="41daa-168">The profiler should add logic to its [ICorProfilerCallback::Initialize](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback-initialize-method.md) callback to detect whether the current process is of interest.</span></span> <span data-ttu-id="41daa-169">Wenn dies nicht der Fall ist, kann der Profiler den Rückruf mit einem Fehler abschließen, ohne die Initialisierung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="41daa-169">If it is not, the profiler can fail the callback without performing the initialization.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="41daa-170">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="41daa-170">See also</span></span>

- [<span data-ttu-id="41daa-171">Übersicht über die Profilerstellung</span><span class="sxs-lookup"><span data-stu-id="41daa-171">Profiling Overview</span></span>](../../../../docs/framework/unmanaged-api/profiling/profiling-overview.md)
