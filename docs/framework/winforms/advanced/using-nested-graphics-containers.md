---
title: Verwenden geschachtelter Grafikcontainer
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- graphics [Windows Forms], nested containers
- graphics [Windows Forms], clipping
- graphics [Windows Forms], transformations in nested objects
ms.assetid: a0d9f178-43a4-4323-bb5a-d3e3f77ae6c1
ms.openlocfilehash: 6bbf7918ccff184e597204b35aa005ab17d8d8af
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/23/2019
ms.locfileid: "61766295"
---
# <a name="using-nested-graphics-containers"></a><span data-ttu-id="6186a-102">Verwenden geschachtelter Grafikcontainer</span><span class="sxs-lookup"><span data-stu-id="6186a-102">Using Nested Graphics Containers</span></span>
[!INCLUDE[ndptecgdiplus](../../../../includes/ndptecgdiplus-md.md)] <span data-ttu-id="6186a-103">enthält der Container, die Sie verwenden können, um vorübergehend zu ersetzen oder erweitern Teil des Zustands in einer <xref:System.Drawing.Graphics> Objekt.</span><span class="sxs-lookup"><span data-stu-id="6186a-103">provides containers that you can use to temporarily replace or augment part of the state in a <xref:System.Drawing.Graphics> object.</span></span> <span data-ttu-id="6186a-104">Sie erstellen einen Container durch Aufrufen der <xref:System.Drawing.Graphics.BeginContainer%2A> Methode eine <xref:System.Drawing.Graphics> Objekt.</span><span class="sxs-lookup"><span data-stu-id="6186a-104">You create a container by calling the <xref:System.Drawing.Graphics.BeginContainer%2A> method of a <xref:System.Drawing.Graphics> object.</span></span> <span data-ttu-id="6186a-105">Rufen Sie <xref:System.Drawing.Graphics.BeginContainer%2A> wiederholt, um geschachtelte Container zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6186a-105">You can call <xref:System.Drawing.Graphics.BeginContainer%2A> repeatedly to form nested containers.</span></span> <span data-ttu-id="6186a-106">Jeder Aufruf von <xref:System.Drawing.Graphics.BeginContainer%2A> muss mit einem Aufruf von kombiniert werden <xref:System.Drawing.Graphics.EndContainer%2A>.</span><span class="sxs-lookup"><span data-stu-id="6186a-106">Each call to <xref:System.Drawing.Graphics.BeginContainer%2A> must be paired with a call to <xref:System.Drawing.Graphics.EndContainer%2A>.</span></span>  
  
## <a name="transformations-in-nested-containers"></a><span data-ttu-id="6186a-107">Transformationen in geschachtelten Containern</span><span class="sxs-lookup"><span data-stu-id="6186a-107">Transformations in Nested Containers</span></span>  
 <span data-ttu-id="6186a-108">Das folgende Beispiel erstellt eine <xref:System.Drawing.Graphics> Objekt und einen Container innerhalb der <xref:System.Drawing.Graphics> Objekt.</span><span class="sxs-lookup"><span data-stu-id="6186a-108">The following example creates a <xref:System.Drawing.Graphics> object and a container within that <xref:System.Drawing.Graphics> object.</span></span> <span data-ttu-id="6186a-109">Die globale Transformation für das <xref:System.Drawing.Graphics> Objekt ist ein Übersetzungseinheiten 100 in X-Richtung und 80 Einheiten in der y-Richtung.</span><span class="sxs-lookup"><span data-stu-id="6186a-109">The world transformation of the <xref:System.Drawing.Graphics> object is a translation 100 units in the x direction and 80 units in the y direction.</span></span> <span data-ttu-id="6186a-110">Die globale Transformation des Containers ist eine 30-Grad-Drehung.</span><span class="sxs-lookup"><span data-stu-id="6186a-110">The world transformation of the container is a 30-degree rotation.</span></span> <span data-ttu-id="6186a-111">Der Code führt den Aufruf `DrawRectangle(pen, -60, -30, 120, 60)` zweimal.</span><span class="sxs-lookup"><span data-stu-id="6186a-111">The code makes the call `DrawRectangle(pen, -60, -30, 120, 60)` twice.</span></span> <span data-ttu-id="6186a-112">Der erste Aufruf <xref:System.Drawing.Graphics.DrawRectangle%2A> innerhalb des Containers; ist der Aufruf wird zwischen den Aufrufen <xref:System.Drawing.Graphics.BeginContainer%2A> und <xref:System.Drawing.Graphics.EndContainer%2A>.</span><span class="sxs-lookup"><span data-stu-id="6186a-112">The first call to <xref:System.Drawing.Graphics.DrawRectangle%2A> is inside the container; that is, the call is in between the calls to <xref:System.Drawing.Graphics.BeginContainer%2A> and <xref:System.Drawing.Graphics.EndContainer%2A>.</span></span> <span data-ttu-id="6186a-113">Der zweite Aufruf von <xref:System.Drawing.Graphics.DrawRectangle%2A> wird nach dem Aufruf von <xref:System.Drawing.Graphics.EndContainer%2A>.</span><span class="sxs-lookup"><span data-stu-id="6186a-113">The second call to <xref:System.Drawing.Graphics.DrawRectangle%2A> is after the call to <xref:System.Drawing.Graphics.EndContainer%2A>.</span></span>  
  
 [!code-csharp[System.Drawing.MiscLegacyTopics#61](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.MiscLegacyTopics/CS/Class1.cs#61)]
 [!code-vb[System.Drawing.MiscLegacyTopics#61](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.MiscLegacyTopics/VB/Class1.vb#61)]  
  
 <span data-ttu-id="6186a-114">Im vorangehenden Code innerhalb des Containers gezeichnete Rechteck zunächst nach der globalen Transformation des Containers (Drehung) und dann durch die globale Transformation transformiert die <xref:System.Drawing.Graphics> Objekt (Translation).</span><span class="sxs-lookup"><span data-stu-id="6186a-114">In the preceding code, the rectangle drawn from inside the container is transformed first by the world transformation of the container (rotation) and then by the world transformation of the <xref:System.Drawing.Graphics> object (translation).</span></span> <span data-ttu-id="6186a-115">Außerhalb des Containers gezeichnete Rechteck transformiert wird, nur durch die globale Transformation für das <xref:System.Drawing.Graphics> Objekt (Translation).</span><span class="sxs-lookup"><span data-stu-id="6186a-115">The rectangle drawn from outside the container is transformed only by the world transformation of the <xref:System.Drawing.Graphics> object (translation).</span></span> <span data-ttu-id="6186a-116">Die folgende Abbildung zeigt die beiden Rechtecke:</span><span class="sxs-lookup"><span data-stu-id="6186a-116">The following illustration shows the two rectangles:</span></span> 
  
 ![Abbildung der geschachtelte Container.](./media/using-nested-graphics-containers/nested-containers-illustration.png)  
  
## <a name="clipping-in-nested-containers"></a><span data-ttu-id="6186a-118">Clipping in verschachtelten Containern</span><span class="sxs-lookup"><span data-stu-id="6186a-118">Clipping in Nested Containers</span></span>  
 <span data-ttu-id="6186a-119">Im folgende Beispiel wird veranschaulicht, wie geschachtelte Container Ausschneidebereiche behandeln.</span><span class="sxs-lookup"><span data-stu-id="6186a-119">The following example demonstrates how nested containers handle clipping regions.</span></span> <span data-ttu-id="6186a-120">Der Code erstellt eine <xref:System.Drawing.Graphics> Objekt und einen Container innerhalb der <xref:System.Drawing.Graphics> Objekt.</span><span class="sxs-lookup"><span data-stu-id="6186a-120">The code creates a <xref:System.Drawing.Graphics> object and a container within that <xref:System.Drawing.Graphics> object.</span></span> <span data-ttu-id="6186a-121">Der Ausschneidebereich der <xref:System.Drawing.Graphics> Objekt ist ein Rechteck, und der Ausschneidebereich des Containers ist eine Ellipse.</span><span class="sxs-lookup"><span data-stu-id="6186a-121">The clipping region of the <xref:System.Drawing.Graphics> object is a rectangle, and the clipping region of the container is an ellipse.</span></span> <span data-ttu-id="6186a-122">Der Code werden zwei Aufrufe der <xref:System.Drawing.Graphics.DrawLine%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="6186a-122">The code makes two calls to the <xref:System.Drawing.Graphics.DrawLine%2A> method.</span></span> <span data-ttu-id="6186a-123">Der erste Aufruf <xref:System.Drawing.Graphics.DrawLine%2A> befindet sich innerhalb des Containers und der zweite Aufruf von <xref:System.Drawing.Graphics.DrawLine%2A> außerhalb des Containers (nach dem Aufruf von <xref:System.Drawing.Graphics.EndContainer%2A>).</span><span class="sxs-lookup"><span data-stu-id="6186a-123">The first call to <xref:System.Drawing.Graphics.DrawLine%2A> is inside the container, and the second call to <xref:System.Drawing.Graphics.DrawLine%2A> is outside the container (after the call to <xref:System.Drawing.Graphics.EndContainer%2A>).</span></span> <span data-ttu-id="6186a-124">Die erste Zeile wird durch die Schnittmenge der beiden Ausschneidebereiche abgeschnitten.</span><span class="sxs-lookup"><span data-stu-id="6186a-124">The first line is clipped by the intersection of the two clipping regions.</span></span> <span data-ttu-id="6186a-125">In der zweite Zeile wird abgeschnitten, nur durch den rechteckigen Ausschneidebereich der <xref:System.Drawing.Graphics> Objekt.</span><span class="sxs-lookup"><span data-stu-id="6186a-125">The second line is clipped only by the rectangular clipping region of the <xref:System.Drawing.Graphics> object.</span></span>  
  
 [!code-csharp[System.Drawing.MiscLegacyTopics#62](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.MiscLegacyTopics/CS/Class1.cs#62)]
 [!code-vb[System.Drawing.MiscLegacyTopics#62](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.MiscLegacyTopics/VB/Class1.vb#62)]  
  
 <span data-ttu-id="6186a-126">Die folgende Abbildung zeigt die beiden abgeschnittenen Zeilen:</span><span class="sxs-lookup"><span data-stu-id="6186a-126">The following illustration shows the two clipped lines:</span></span>
  
 ![Abbildung der einen geschachtelten Container mit abgeschnittenen Zeilen.](./media/using-nested-graphics-containers/nested-container-clipped-lines.png)  
  
 <span data-ttu-id="6186a-128">Wie die beiden vorherigen Beispiele zeigen, sind Transformationen und Ausschneidebereiche kumulative in verschachtelten Containern.</span><span class="sxs-lookup"><span data-stu-id="6186a-128">As the two preceding examples show, transformations and clipping regions are cumulative in nested containers.</span></span> <span data-ttu-id="6186a-129">Wenn Sie die globalen Transformationen des Containers festlegen und die <xref:System.Drawing.Graphics> Objekt, beide Transformationen gelten für Elemente, die von innerhalb des Containers gezeichnet.</span><span class="sxs-lookup"><span data-stu-id="6186a-129">If you set the world transformations of the container and the <xref:System.Drawing.Graphics> object, both transformations will apply to items drawn from inside the container.</span></span> <span data-ttu-id="6186a-130">Die Transformation des Containers werden zuerst und die Transformation die <xref:System.Drawing.Graphics> Objekt angewendet.</span><span class="sxs-lookup"><span data-stu-id="6186a-130">The transformation of the container will be applied first, and the transformation of the <xref:System.Drawing.Graphics> object will be applied second.</span></span> <span data-ttu-id="6186a-131">Wenn Sie festlegen, dass die Ausschneidebereiche des Containers und der <xref:System.Drawing.Graphics> Objekt, Elemente aus, die innerhalb des Containers werden durch die Schnittmenge der beiden Ausschneidebereiche abgeschnitten werden.</span><span class="sxs-lookup"><span data-stu-id="6186a-131">If you set the clipping regions of the container and the <xref:System.Drawing.Graphics> object, items drawn from inside the container will be clipped by the intersection of the two clipping regions.</span></span>  
  
## <a name="quality-settings-in-nested-containers"></a><span data-ttu-id="6186a-132">Einstellungen für die Qualität in verschachtelten Containern</span><span class="sxs-lookup"><span data-stu-id="6186a-132">Quality Settings in Nested Containers</span></span>  
 <span data-ttu-id="6186a-133">Einstellungen von Quality (<xref:System.Drawing.Graphics.SmoothingMode%2A>, <xref:System.Drawing.Graphics.TextRenderingHint%2A>, usw.) in geschachtelte Container sind nicht kumulativ; vielmehr die Einstellungen der Qualität des Containers vorübergehend ersetzen Sie die Qualität Einstellungen von einer <xref:System.Drawing.Graphics> Objekt.</span><span class="sxs-lookup"><span data-stu-id="6186a-133">Quality settings (<xref:System.Drawing.Graphics.SmoothingMode%2A>, <xref:System.Drawing.Graphics.TextRenderingHint%2A>, and the like) in nested containers are not cumulative; rather, the quality settings of the container temporarily replace the quality settings of a <xref:System.Drawing.Graphics> object.</span></span> <span data-ttu-id="6186a-134">Wenn Sie einen neuen Container erstellen, werden die Qualität-Einstellungen für diesen Container auf Standardwerte festgelegt.</span><span class="sxs-lookup"><span data-stu-id="6186a-134">When you create a new container, the quality settings for that container are set to default values.</span></span> <span data-ttu-id="6186a-135">Nehmen wir beispielsweise an, Sie haben eine <xref:System.Drawing.Graphics> Objekt mit Glättungsmodus <xref:System.Drawing.Drawing2D.SmoothingMode.AntiAlias>.</span><span class="sxs-lookup"><span data-stu-id="6186a-135">For example, suppose you have a <xref:System.Drawing.Graphics> object with a smoothing mode of <xref:System.Drawing.Drawing2D.SmoothingMode.AntiAlias>.</span></span> <span data-ttu-id="6186a-136">Wenn Sie einen Container erstellen, ist der Glättungsmodus innerhalb des Containers automatisch zum Modus.</span><span class="sxs-lookup"><span data-stu-id="6186a-136">When you create a container, the smoothing mode inside the container is the default smoothing mode.</span></span> <span data-ttu-id="6186a-137">Sie können den Glättungsmodus des Containers festgelegt, und alle Elemente innerhalb des Containers entnommen werden entsprechend dem festgelegten Modus gezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="6186a-137">You are free to set the smoothing mode of the container, and any items drawn from inside the container will be drawn according to the mode you set.</span></span> <span data-ttu-id="6186a-138">Elemente, die nach dem Aufruf von <xref:System.Drawing.Graphics.EndContainer%2A> wird gezeichnet werden, die der Glättungsmodus (<xref:System.Drawing.Drawing2D.SmoothingMode.AntiAlias>) war vor dem Aufruf von <xref:System.Drawing.Graphics.BeginContainer%2A>.</span><span class="sxs-lookup"><span data-stu-id="6186a-138">Items drawn after the call to <xref:System.Drawing.Graphics.EndContainer%2A> will be drawn according to the smoothing mode (<xref:System.Drawing.Drawing2D.SmoothingMode.AntiAlias>) that was in place before the call to <xref:System.Drawing.Graphics.BeginContainer%2A>.</span></span>  
  
## <a name="several-layers-of-nested-containers"></a><span data-ttu-id="6186a-139">Mehrere Ebenen geschachtelter Container</span><span class="sxs-lookup"><span data-stu-id="6186a-139">Several Layers of Nested Containers</span></span>  
 <span data-ttu-id="6186a-140">Sie sind nicht beschränkt auf einen Container in einem <xref:System.Drawing.Graphics> Objekt.</span><span class="sxs-lookup"><span data-stu-id="6186a-140">You are not limited to one container in a <xref:System.Drawing.Graphics> object.</span></span> <span data-ttu-id="6186a-141">Können Sie eine Sequenz von Containern erstellen, jeweils in der vorherigen geschachtelt sind und Sie können angeben, die globale Transformation Ausschneidebereich und Einstellungen für die Qualität der einzelnen dieser geschachtelten Container.</span><span class="sxs-lookup"><span data-stu-id="6186a-141">You can create a sequence of containers, each nested in the preceding, and you can specify the world transformation, clipping region, and quality settings of each of those nested containers.</span></span> <span data-ttu-id="6186a-142">Wenn Sie eine Zeichenmethode aus dem innersten Container aufrufen, werden die Transformationen in der Reihenfolge, mit dem innersten Container beginnt und endet mit dem äußersten Container angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="6186a-142">If you call a drawing method from inside the innermost container, the transformations will be applied in order, starting with the innermost container and ending with the outermost container.</span></span> <span data-ttu-id="6186a-143">Elemente, die von dem innersten Container gezeichnet werden durch die Schnittmenge aller Clipping Regionen abgeschnitten.</span><span class="sxs-lookup"><span data-stu-id="6186a-143">Items drawn from inside the innermost container will be clipped by the intersection of all the clipping regions.</span></span>  
  
 <span data-ttu-id="6186a-144">Das folgende Beispiel erstellt eine <xref:System.Drawing.Graphics> Objekt und seine Text-Rendering-Hinweis auf <xref:System.Drawing.Drawing2D.SmoothingMode.AntiAlias>.</span><span class="sxs-lookup"><span data-stu-id="6186a-144">The following example creates a <xref:System.Drawing.Graphics> object and sets its text rendering hint to <xref:System.Drawing.Drawing2D.SmoothingMode.AntiAlias>.</span></span> <span data-ttu-id="6186a-145">Der Code erstellt zwei Container, in einer anderen geschachtelten.</span><span class="sxs-lookup"><span data-stu-id="6186a-145">The code creates two containers, one nested within the other.</span></span> <span data-ttu-id="6186a-146">Der Text-Rendering-Hinweis des äußeren Containers nastaven NA hodnotu <xref:System.Drawing.Text.TextRenderingHint.SingleBitPerPixel>, und der Text-Rendering-Hinweis für den inneren Container nastaven NA hodnotu <xref:System.Drawing.Drawing2D.SmoothingMode.AntiAlias>.</span><span class="sxs-lookup"><span data-stu-id="6186a-146">The text rendering hint of the outer container is set to <xref:System.Drawing.Text.TextRenderingHint.SingleBitPerPixel>, and the text rendering hint of the inner container is set to <xref:System.Drawing.Drawing2D.SmoothingMode.AntiAlias>.</span></span> <span data-ttu-id="6186a-147">Der Code zeichnet drei Zeichenfolgen: eine aus dem inneren Container aus dem äußeren Container und einen aus der <xref:System.Drawing.Graphics> Objekt selbst.</span><span class="sxs-lookup"><span data-stu-id="6186a-147">The code draws three strings: one from the inner container, one from the outer container, and one from the <xref:System.Drawing.Graphics> object itself.</span></span>  
  
 [!code-csharp[System.Drawing.MiscLegacyTopics#63](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Drawing.MiscLegacyTopics/CS/Class1.cs#63)]
 [!code-vb[System.Drawing.MiscLegacyTopics#63](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Drawing.MiscLegacyTopics/VB/Class1.vb#63)]  
  
 <span data-ttu-id="6186a-148">Die folgende Abbildung zeigt die drei Zeichenfolgen.</span><span class="sxs-lookup"><span data-stu-id="6186a-148">The following illustration shows the three strings.</span></span> <span data-ttu-id="6186a-149">Die Zeichenfolgen, die gezeichnet wird, aus dem inneren Container und die <xref:System.Drawing.Graphics> Objekt durch Antialiasing geglättet werden.</span><span class="sxs-lookup"><span data-stu-id="6186a-149">The strings drawn from the inner container and from the <xref:System.Drawing.Graphics> object are smoothed by antialiasing.</span></span> <span data-ttu-id="6186a-150">Die Zeichenfolge aus dem äußeren Container wird nicht durch Antialiasing geglättet, da die <xref:System.Drawing.Graphics.TextRenderingHint%2A> -Eigenschaftensatz auf <xref:System.Drawing.Text.TextRenderingHint.SingleBitPerPixel>.</span><span class="sxs-lookup"><span data-stu-id="6186a-150">The string drawn from the outer container is not smoothed by antialiasing because the <xref:System.Drawing.Graphics.TextRenderingHint%2A> property is set to <xref:System.Drawing.Text.TextRenderingHint.SingleBitPerPixel>.</span></span>  
  
 ![Abbildung der Zeichenfolgen von geschachtelten Containern gezeichnet werden.](./media/using-nested-graphics-containers/nested-containers-three-strings.png)  
  
## <a name="see-also"></a><span data-ttu-id="6186a-152">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="6186a-152">See also</span></span>

- <xref:System.Drawing.Graphics>
- [<span data-ttu-id="6186a-153">Verwalten des Zustands eines Graphics-Objekts</span><span class="sxs-lookup"><span data-stu-id="6186a-153">Managing the State of a Graphics Object</span></span>](managing-the-state-of-a-graphics-object.md)
