---
title: Verwenden der Zeile für neue Datensätze im DataGridView-Steuerelement in Windows Forms
ms.date: 03/30/2017
helpviewer_keywords:
- DataGridView control [Windows Forms], adding rows for new records
- rows [Windows Forms], new records
- DataGridView control [Windows Forms], data entry
ms.assetid: 6110f1ea-9794-442c-a98a-f104a1feeaf4
ms.openlocfilehash: 67c87b28f04b028f329663d6cf8215370a00ef2f
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/08/2019
ms.locfileid: "59184820"
---
# <a name="using-the-row-for-new-records-in-the-windows-forms-datagridview-control"></a><span data-ttu-id="39f6f-102">Verwenden der Zeile für neue Datensätze im DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="39f6f-102">Using the Row for New Records in the Windows Forms DataGridView Control</span></span>
<span data-ttu-id="39f6f-103">Bei Verwendung einer <xref:System.Windows.Forms.DataGridView> für die Bearbeitung von Daten in Ihrer Anwendung häufig möchten geben Sie Ihren Benutzern die Möglichkeit, neue Zeilen mit Daten im Datenspeicher hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="39f6f-103">When you use a <xref:System.Windows.Forms.DataGridView> for editing data in your application, you will often want to give your users the ability to add new rows of data to the data store.</span></span> <span data-ttu-id="39f6f-104">Die <xref:System.Windows.Forms.DataGridView> -Steuerelement unterstützt diese Funktion durch die Bereitstellung einer Zeile für neue Datensätze, die immer als letzte Zeile angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="39f6f-104">The <xref:System.Windows.Forms.DataGridView> control supports this functionality by providing a row for new records, which is always shown as the last row.</span></span> <span data-ttu-id="39f6f-105">Er ist mit einem Sternchen (\*) im Zeilenkopf gekennzeichnet.</span><span class="sxs-lookup"><span data-stu-id="39f6f-105">It is marked with an asterisk (\*) symbol in its row header.</span></span> <span data-ttu-id="39f6f-106">Den folgenden Abschnitten werden einige der Dinge, die Sie berücksichtigen sollten, wenn das Programm mit der Zeile für neue Datensätze aktiviert.</span><span class="sxs-lookup"><span data-stu-id="39f6f-106">The following sections discuss some of the things you should consider when you program with the row for new records enabled.</span></span>  
  
## <a name="displaying-the-row-for-new-records"></a><span data-ttu-id="39f6f-107">Die Zeile anzeigen für neue Datensätze</span><span class="sxs-lookup"><span data-stu-id="39f6f-107">Displaying the Row for New Records</span></span>  
 <span data-ttu-id="39f6f-108">Verwenden der <xref:System.Windows.Forms.DataGridView.AllowUserToAddRows%2A> Eigenschaft, um anzugeben, ob die Zeile für neue Datensätze angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="39f6f-108">Use the <xref:System.Windows.Forms.DataGridView.AllowUserToAddRows%2A> property to indicate whether the row for new records is displayed.</span></span> <span data-ttu-id="39f6f-109">Der Standardwert dieser Eigenschaft ist `true`.</span><span class="sxs-lookup"><span data-stu-id="39f6f-109">The default value of this property is `true`.</span></span>  
  
 <span data-ttu-id="39f6f-110">Für das datengebundene Fall, wird die Zeile für neue Datensätze angezeigt werden Wenn die <xref:System.Windows.Forms.DataGridView.AllowUserToAddRows%2A> -Eigenschaft des Steuerelements und dem <xref:System.ComponentModel.IBindingList.AllowNew%2A?displayProperty=nameWithType> Eigenschaft der Datenquelle sind beide `true`.</span><span class="sxs-lookup"><span data-stu-id="39f6f-110">For the data bound case, the row for new records will be shown if the <xref:System.Windows.Forms.DataGridView.AllowUserToAddRows%2A> property of the control and the <xref:System.ComponentModel.IBindingList.AllowNew%2A?displayProperty=nameWithType> property of the data source are both `true`.</span></span> <span data-ttu-id="39f6f-111">Wenn entweder `false` und klicken Sie dann die Zeile nicht angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="39f6f-111">If either is `false` then the row will not be shown.</span></span>  
  
## <a name="populating-the-row-for-new-records-with-default-data"></a><span data-ttu-id="39f6f-112">Die Zeile für neue Datensätze mit Standarddaten aufgefüllt</span><span class="sxs-lookup"><span data-stu-id="39f6f-112">Populating the Row for New Records with Default Data</span></span>  
 <span data-ttu-id="39f6f-113">Wenn der Benutzer die Zeile für neue Datensätze als die aktuelle Zeile und wählt die <xref:System.Windows.Forms.DataGridView> -Steuerelement löst die <xref:System.Windows.Forms.DataGridView.DefaultValuesNeeded> Ereignis.</span><span class="sxs-lookup"><span data-stu-id="39f6f-113">When the user selects the row for new records as the current row, the <xref:System.Windows.Forms.DataGridView> control raises the <xref:System.Windows.Forms.DataGridView.DefaultValuesNeeded> event.</span></span>  
  
 <span data-ttu-id="39f6f-114">Dieses Ereignis ermöglicht den Zugriff auf die neue <xref:System.Windows.Forms.DataGridViewRow> und ermöglicht es Ihnen, die neue Zeile mit Standarddaten aufgefüllt.</span><span class="sxs-lookup"><span data-stu-id="39f6f-114">This event provides access to the new <xref:System.Windows.Forms.DataGridViewRow> and enables you to populate the new row with default data.</span></span> <span data-ttu-id="39f6f-115">Weitere Informationen finden Sie unter [Vorgehensweise: Angeben von Standardwerten für neue Zeilen im DataGridView-Steuerelement in Windows Forms](specify-default-values-for-new-rows-in-the-datagrid.md)</span><span class="sxs-lookup"><span data-stu-id="39f6f-115">For more information, see [How to: Specify Default Values for New Rows in the Windows Forms DataGridView Control](specify-default-values-for-new-rows-in-the-datagrid.md)</span></span>  
  
## <a name="the-rows-collection"></a><span data-ttu-id="39f6f-116">Die Auflistung von Zeilen</span><span class="sxs-lookup"><span data-stu-id="39f6f-116">The Rows Collection</span></span>  
 <span data-ttu-id="39f6f-117">Die Zeile für neue Datensätze ist Bestandteil der <xref:System.Windows.Forms.DataGridView> des Steuerelements <xref:System.Windows.Forms.DataGridView.Rows%2A> Auflistung jedoch verhält sich anders in zweierlei Hinsicht:</span><span class="sxs-lookup"><span data-stu-id="39f6f-117">The row for new records is contained in the <xref:System.Windows.Forms.DataGridView> control's <xref:System.Windows.Forms.DataGridView.Rows%2A> collection but behaves differently in two respects:</span></span>  
  
-   <span data-ttu-id="39f6f-118">Die Zeile für neue Datensätze kann nicht entfernt werden, aus der <xref:System.Windows.Forms.DataGridView.Rows%2A> Auflistung programmgesteuert.</span><span class="sxs-lookup"><span data-stu-id="39f6f-118">The row for new records cannot be removed from the <xref:System.Windows.Forms.DataGridView.Rows%2A> collection programmatically.</span></span> <span data-ttu-id="39f6f-119">Ein <xref:System.InvalidOperationException> wird ausgelöst, wenn dies versucht wird.</span><span class="sxs-lookup"><span data-stu-id="39f6f-119">An <xref:System.InvalidOperationException> is thrown if this is attempted.</span></span> <span data-ttu-id="39f6f-120">Der Benutzer kann nicht auch die Zeile für neue Datensätze gelöscht.</span><span class="sxs-lookup"><span data-stu-id="39f6f-120">The user also cannot delete the row for new records.</span></span> <span data-ttu-id="39f6f-121">Die <xref:System.Windows.Forms.DataGridViewRowCollection.Clear%2A?displayProperty=nameWithType> Methode entfernt sich nicht auf diese Zeile aus der <xref:System.Windows.Forms.DataGridView.Rows%2A> Auflistung.</span><span class="sxs-lookup"><span data-stu-id="39f6f-121">The <xref:System.Windows.Forms.DataGridViewRowCollection.Clear%2A?displayProperty=nameWithType> method does not remove this row from the <xref:System.Windows.Forms.DataGridView.Rows%2A> collection.</span></span>  
  
-   <span data-ttu-id="39f6f-122">Nach der Zeile für neue Datensätze kann keine Zeile hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="39f6f-122">No row can be added after the row for new records.</span></span> <span data-ttu-id="39f6f-123">Ein <xref:System.InvalidOperationException> wird ausgelöst, wenn dies versucht wird.</span><span class="sxs-lookup"><span data-stu-id="39f6f-123">An <xref:System.InvalidOperationException> is raised if this is attempted.</span></span> <span data-ttu-id="39f6f-124">Daher ist die Zeile für neue Datensätze immer die letzte Zeile in der <xref:System.Windows.Forms.DataGridView> Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="39f6f-124">As a result, the row for new records is always the last row in the <xref:System.Windows.Forms.DataGridView> control.</span></span> <span data-ttu-id="39f6f-125">Die Methoden für <xref:System.Windows.Forms.DataGridViewRowCollection> zum Hinzufügen von Zeilen –<xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopy%2A>, und <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopies%2A>– alle rufen Einfügungsmethoden intern, wenn die Zeile für neue Datensätze vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="39f6f-125">The methods on <xref:System.Windows.Forms.DataGridViewRowCollection> that add rows—<xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopy%2A>, and <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopies%2A>—all call insertion methods internally when the row for new records is present.</span></span>  
  
## <a name="visual-customization-of-the-row-for-new-records"></a><span data-ttu-id="39f6f-126">Visuellen Anpassung der Zeile für neue Datensätze</span><span class="sxs-lookup"><span data-stu-id="39f6f-126">Visual Customization of the Row for New Records</span></span>  
 <span data-ttu-id="39f6f-127">Wenn die Zeile für neue Datensätze erstellt wird, müssen sie basiert auf der Zeile, die gemäß der <xref:System.Windows.Forms.DataGridView.RowTemplate%2A> Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="39f6f-127">When the row for new records is created, it is based on the row specified by the <xref:System.Windows.Forms.DataGridView.RowTemplate%2A> property.</span></span> <span data-ttu-id="39f6f-128">Alle Zellstile, die für diese Zeile nicht angegeben werden, werden aus anderen Eigenschaften geerbt.</span><span class="sxs-lookup"><span data-stu-id="39f6f-128">Any cell styles that are not specified for this row are inherited from other properties.</span></span> <span data-ttu-id="39f6f-129">Weitere Informationen zur Vererbung von Zellenstilen finden Sie unter [Zellstile im DataGridView-Steuerelement in Windows Forms](cell-styles-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="39f6f-129">For more information about cell style inheritance, see [Cell Styles in the Windows Forms DataGridView Control](cell-styles-in-the-windows-forms-datagridview-control.md).</span></span>  
  
 <span data-ttu-id="39f6f-130">Die ursprünglichen Werte von Zellen in der Zeile angezeigt wird, für neue Datensätze aus jeder Zelle abgerufen werden <xref:System.Windows.Forms.DataGridViewCell.DefaultNewRowValue%2A> Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="39f6f-130">The initial values displayed by cells in the row for new records are retrieved from each cell's <xref:System.Windows.Forms.DataGridViewCell.DefaultNewRowValue%2A> property.</span></span> <span data-ttu-id="39f6f-131">Für die Zellen des Typs <xref:System.Windows.Forms.DataGridViewImageCell>, diese Eigenschaft gibt ein Platzhalterbild zurück.</span><span class="sxs-lookup"><span data-stu-id="39f6f-131">For cells of type <xref:System.Windows.Forms.DataGridViewImageCell>, this property returns a placeholder image.</span></span> <span data-ttu-id="39f6f-132">Andernfalls gibt diese Eigenschaft `null` zurück.</span><span class="sxs-lookup"><span data-stu-id="39f6f-132">Otherwise, this property returns `null`.</span></span> <span data-ttu-id="39f6f-133">Sie können diese Eigenschaft, um einen benutzerdefinierten Wert zurückgeben, überschreiben.</span><span class="sxs-lookup"><span data-stu-id="39f6f-133">You can override this property to return a custom value.</span></span> <span data-ttu-id="39f6f-134">Allerdings können diese ursprünglichen Werte ersetzt werden, durch eine <xref:System.Windows.Forms.DataGridView.DefaultValuesNeeded> -Ereignishandler, wenn die Zeile für neue Datensätze von den Fokus hat.</span><span class="sxs-lookup"><span data-stu-id="39f6f-134">However, these initial values can be replaced by a <xref:System.Windows.Forms.DataGridView.DefaultValuesNeeded> event handler when focus enters the row for new records.</span></span>  
  
 <span data-ttu-id="39f6f-135">Standardsymbole für diesen Zeilenheader, die ein Pfeil oder ein Sternchen sind, sind nicht öffentlich verfügbar.</span><span class="sxs-lookup"><span data-stu-id="39f6f-135">The standard icons for this row's header, which are an arrow or an asterisk, are not exposed publicly.</span></span> <span data-ttu-id="39f6f-136">Wenn Sie die Symbole anpassen möchten, müssen Sie eine benutzerdefinierte <xref:System.Windows.Forms.DataGridViewRowHeaderCell> Klasse.</span><span class="sxs-lookup"><span data-stu-id="39f6f-136">If you want to customize the icons, you will need to create a custom <xref:System.Windows.Forms.DataGridViewRowHeaderCell> class.</span></span>  
  
 <span data-ttu-id="39f6f-137">Verwenden Sie die Standardsymbole der <xref:System.Windows.Forms.DataGridViewCellStyle.ForeColor%2A> Eigenschaft der <xref:System.Windows.Forms.DataGridViewCellStyle> von die Headerzelle der Zeile verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="39f6f-137">The standard icons use the <xref:System.Windows.Forms.DataGridViewCellStyle.ForeColor%2A> property of the <xref:System.Windows.Forms.DataGridViewCellStyle> in use by the row header cell.</span></span> <span data-ttu-id="39f6f-138">Die standard-Symbole werden nicht gerendert, wenn nicht genügend Speicherplatz für die sie vollständig anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="39f6f-138">The standard icons are not rendered if there is not enough space to display them completely.</span></span>  
  
 <span data-ttu-id="39f6f-139">Wenn die Headerzelle der Zeile einen Zeichenfolgenwert, der festgelegt ist, und nicht genügend Platz für den Text und Symbol vorhanden ist, ist das Symbol nicht angezeigt.</span><span class="sxs-lookup"><span data-stu-id="39f6f-139">If the row header cell has a string value set, and if there is not enough room for both the text and icon, the icon is dropped first.</span></span>  
  
## <a name="sorting"></a><span data-ttu-id="39f6f-140">Sortieren</span><span class="sxs-lookup"><span data-stu-id="39f6f-140">Sorting</span></span>  
 <span data-ttu-id="39f6f-141">In ungebundenen Modus werden neue Datensätze immer am Ende hinzugefügt werden die <xref:System.Windows.Forms.DataGridView> , selbst wenn der Benutzer den Inhalt des sortiert wurden die <xref:System.Windows.Forms.DataGridView>.</span><span class="sxs-lookup"><span data-stu-id="39f6f-141">In unbound mode, new records will always be added to the end of the <xref:System.Windows.Forms.DataGridView> even if the user has sorted the content of the <xref:System.Windows.Forms.DataGridView>.</span></span> <span data-ttu-id="39f6f-142">Der Benutzer muss die Sortierung erneut anzuwenden, um die Zeile an die korrekte Position zu sortieren, Dieses Verhalten ist vergleichbar mit der <xref:System.Windows.Forms.ListView> Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="39f6f-142">The user will need to apply the sort again in order to sort the row to the correct position; this behavior is similar to that of the <xref:System.Windows.Forms.ListView> control.</span></span>  
  
 <span data-ttu-id="39f6f-143">Daten werden hängt von der Implementierung des Datenmodells gebunden ist, und virtuelle Modi, das Einfügeverhalten, wenn eine Sortierung angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="39f6f-143">In data bound and virtual modes, the insertion behavior when a sort is applied will be dependent on the implementation of the data model.</span></span> <span data-ttu-id="39f6f-144">Für [!INCLUDE[vstecado](../../../../includes/vstecado-md.md)], die Zeile wird sofort in der richtigen Position sortiert.</span><span class="sxs-lookup"><span data-stu-id="39f6f-144">For [!INCLUDE[vstecado](../../../../includes/vstecado-md.md)], the row is immediately sorted into the correct position.</span></span>  
  
## <a name="other-notes-on-the-row-for-new-records"></a><span data-ttu-id="39f6f-145">Andere Hinweise auf die Zeile für neue Datensätze</span><span class="sxs-lookup"><span data-stu-id="39f6f-145">Other Notes on the Row for New Records</span></span>  
 <span data-ttu-id="39f6f-146">Sie können nicht festgelegt werden die <xref:System.Windows.Forms.DataGridViewRow.Visible%2A> Eigenschaft dieser Zeile um `false`.</span><span class="sxs-lookup"><span data-stu-id="39f6f-146">You cannot set the <xref:System.Windows.Forms.DataGridViewRow.Visible%2A> property of this row to `false`.</span></span> <span data-ttu-id="39f6f-147">Ein <xref:System.InvalidOperationException> wird ausgelöst, wenn dies versucht wird.</span><span class="sxs-lookup"><span data-stu-id="39f6f-147">An <xref:System.InvalidOperationException> is raised if this is attempted.</span></span>  
  
 <span data-ttu-id="39f6f-148">Die Zeile für neue Datensätze wird immer im Zustand "deaktiviert" erstellt.</span><span class="sxs-lookup"><span data-stu-id="39f6f-148">The row for new records is always created in the unselected state.</span></span>  
  
## <a name="virtual-mode"></a><span data-ttu-id="39f6f-149">Virtueller Modus</span><span class="sxs-lookup"><span data-stu-id="39f6f-149">Virtual Mode</span></span>  
 <span data-ttu-id="39f6f-150">Wenn Sie virtuellen Modus implementieren, müssen Sie nachverfolgen, wenn eine Zeile für neue Datensätze in das Datenmodell und wann das Hinzufügen der Zeile ein Rollback erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="39f6f-150">If you are implementing virtual mode, you will need to track when a row for new records is needed in the data model and when to roll back the addition of the row.</span></span> <span data-ttu-id="39f6f-151">Die genaue Implementierung dieser Funktionalität der Implementierung abhängig von dem Datenmodell und die Transaktionssemantik z. B., ob die Commit-Bereich auf die Zelle oder Zeile ist.</span><span class="sxs-lookup"><span data-stu-id="39f6f-151">The exact implementation of this functionality depends on the implementation of the data model and its transaction semantics, for example, whether commit scope is at the cell or row level.</span></span> <span data-ttu-id="39f6f-152">Weitere Informationen finden Sie unter [Virtueller Modus im DataGridView-Steuerelement von Windows Forms](virtual-mode-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="39f6f-152">For more information, see [Virtual Mode in the Windows Forms DataGridView Control](virtual-mode-in-the-windows-forms-datagridview-control.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="39f6f-153">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="39f6f-153">See also</span></span>

- <xref:System.Windows.Forms.DataGridView>
- <xref:System.Windows.Forms.DataGridView.DefaultValuesNeeded?displayProperty=nameWithType>
- [<span data-ttu-id="39f6f-154">Dateneingabe im DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="39f6f-154">Data Entry in the Windows Forms DataGridView Control</span></span>](data-entry-in-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="39f6f-155">Vorgehensweise: Angeben von Standardwerten für neue Zeilen im DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="39f6f-155">How to: Specify Default Values for New Rows in the Windows Forms DataGridView Control</span></span>](specify-default-values-for-new-rows-in-the-datagrid.md)
