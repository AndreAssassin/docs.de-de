---
title: Zentralisierte Konfiguration
description: Eine zentralisierte Konfiguration mithilfe von Azure Key Vault kann die Verwaltung von Cloud-Native apps vereinfachen.
ms.date: 06/30/2019
ms.openlocfilehash: 4c516b6773d913acd71ff06742302e9766a141e2
ms.sourcegitcommit: 56f1d1203d0075a461a10a301459d3aa452f4f47
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/24/2019
ms.locfileid: "73841138"
---
# <a name="centralized-configuration"></a><span data-ttu-id="488b0-103">Zentralisierte Konfiguration</span><span class="sxs-lookup"><span data-stu-id="488b0-103">Centralized configuration</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="488b0-104">Native Cloud-Anwendungen umfassen viele weitere Dienste, als herkömmliche monolithische Single-Instance-Apps.</span><span class="sxs-lookup"><span data-stu-id="488b0-104">Cloud-native applications involve many more running services than traditional single-instance monolithic apps.</span></span> <span data-ttu-id="488b0-105">Das Verwalten von Konfigurationseinstellungen für Dutzende voneinander abhängiger Dienste kann eine Herausforderung darstellen, weshalb zentralisierte Konfigurations Speicher häufig für verteilte Anwendungen implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="488b0-105">Managing configuration settings for dozens of interdependent services can be challenging, which is why centralized configuration stores are often implemented for distributed applications.</span></span>

<span data-ttu-id="488b0-106">Wie in [Kapitel 1](introduction.md)erläutert, ist für die Empfehlungen der 12-stufigen App eine strikte Trennung zwischen Code und Konfiguration erforderlich.</span><span class="sxs-lookup"><span data-stu-id="488b0-106">As discussed in [Chapter 1](introduction.md), the Twelve-Factor App recommendations require strict separation between code and configuration.</span></span> <span data-ttu-id="488b0-107">Dies bedeutet, dass das Speichern von Konfigurationseinstellungen als Konstanten oder Literalwerte im Code eine Verletzung darstellt.</span><span class="sxs-lookup"><span data-stu-id="488b0-107">This means storing configuration settings as constants or literal values in code is a violation.</span></span> <span data-ttu-id="488b0-108">Diese Empfehlung ist vorhanden, da derselbe Code in mehreren Umgebungen verwendet werden sollte, einschließlich Entwicklung, Tests, Staging und Produktion.</span><span class="sxs-lookup"><span data-stu-id="488b0-108">This recommendation exists because the same code should be used across multiple environments, including development, testing, staging, and production.</span></span> <span data-ttu-id="488b0-109">Allerdings unterscheiden sich die Konfigurationswerte wahrscheinlich zwischen den einzelnen Umgebungen.</span><span class="sxs-lookup"><span data-stu-id="488b0-109">However, configuration values are likely to vary between each of these environments.</span></span> <span data-ttu-id="488b0-110">Daher sollten Konfigurationswerte in der Umgebung selbst gespeichert werden, oder die Umgebung sollte die Anmelde Informationen in einem zentralisierten Konfigurations Speicher speichern.</span><span class="sxs-lookup"><span data-stu-id="488b0-110">So, configuration values should be stored in the environment itself, or the environment should store the credentials to a centralized configuration store.</span></span>

<span data-ttu-id="488b0-111">Die eshoponcontainers-Anwendung enthält lokale Anwendungseinstellungs-Dateien mit jedem-mikrodienst.</span><span class="sxs-lookup"><span data-stu-id="488b0-111">The eShopOnContainers application includes local application settings files with each microservice.</span></span> <span data-ttu-id="488b0-112">Diese Dateien werden in die Quell Code Verwaltung eingecheckt, enthalten aber keine Produktionsgeheimnisse wie Verbindungs Zeichenfolgen oder API-Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="488b0-112">These files are checked into source control but don't include production secrets such as connection strings or API keys.</span></span> <span data-ttu-id="488b0-113">In der Produktionsumgebung können einzelne Einstellungen mit Umgebungsvariablen pro Dienst überschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="488b0-113">In production, individual settings may be overwritten with per-service environment variables.</span></span> <span data-ttu-id="488b0-114">Dies ist eine gängige Vorgehensweise bei gehosteten Anwendungen, bietet aber keinen zentralen Konfigurations Speicher.</span><span class="sxs-lookup"><span data-stu-id="488b0-114">This is a common practice for hosted applications, but doesn't provide a central configuration store.</span></span> <span data-ttu-id="488b0-115">Zur Unterstützung der zentralisierten Verwaltung von Konfigurationseinstellungen enthält jeder-Dienst eine Einstellung zum Umschalten zwischen der Verwendung lokaler Einstellungen oder Azure Key Vault Einstellungen.</span><span class="sxs-lookup"><span data-stu-id="488b0-115">To support centralized management of configuration settings, each microservice includes a setting to toggle between its use of local settings or Azure Key Vault settings.</span></span>

## <a name="azure-key-vault"></a><span data-ttu-id="488b0-116">Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="488b0-116">Azure Key Vault</span></span>

<span data-ttu-id="488b0-117">Azure Key Vault bietet sichere Speicherung von Token, Kenn Wörtern, Zertifikaten, API-Schlüsseln und anderen vertraulichen Geheimnissen.</span><span class="sxs-lookup"><span data-stu-id="488b0-117">Azure Key Vault provides secure storage of tokens, passwords, certificates, API keys, and other sensitive secrets.</span></span> <span data-ttu-id="488b0-118">Der Zugriff auf Key Vault erfordert ordnungsgemäße Aufrufer-Authentifizierung und-Autorisierung, was bei den eshoponcontainers-mikrodiensten die Verwendung einer ClientID/clientsecret-Kombination bedeutet.</span><span class="sxs-lookup"><span data-stu-id="488b0-118">Access to Key Vault requires proper caller authentication and authorization, which in the case of the eShopOnContainers microservices means the use of a ClientId/ClientSecret combination.</span></span> <span data-ttu-id="488b0-119">Checken Sie diese Anmelde Informationen nicht in die Quell Code Verwaltung ein, sondern stattdessen in der Anwendungsumgebung.</span><span class="sxs-lookup"><span data-stu-id="488b0-119">Don't check in these credentials into source control, but instead set in the application's environment.</span></span> <span data-ttu-id="488b0-120">Der direkte Zugriff auf Key Vault von AKS kann mithilfe von [Key Vault flexvolume](https://github.com/Azure/kubernetes-keyvault-flexvol)erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="488b0-120">Direct access to Key Vault from AKS can be achieved using [Key Vault FlexVolume](https://github.com/Azure/kubernetes-keyvault-flexvol).</span></span>

<span data-ttu-id="488b0-121">Bei der zentralisierten Konfiguration können Einstellungen, die für die gesamte Anwendung gelten (z. b. der zentrale Protokollierungs Endpunkt), einmalig festgelegt und von jedem Teil der verteilten Anwendung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="488b0-121">With centralized configuration, settings that apply to the entire application, such as the centralized logging endpoint, can be set once and used by every part of the distributed application.</span></span> <span data-ttu-id="488b0-122">Obwohl die-Dienste von den anderen unabhängig sein sollten, gibt es in der Regel weiterhin einige freigegebene Abhängigkeiten, deren Konfigurationsdetails von einem zentralisierten Konfigurations Speicher profitieren können.</span><span class="sxs-lookup"><span data-stu-id="488b0-122">Although microservices should be independent of one another, there will typically still be some shared dependencies whose configuration details can benefit from a centralized configuration store.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="488b0-123">[Zurück](deploy-eshoponcontainers-azure.md)
>[Weiter](scale-applications.md)</span><span class="sxs-lookup"><span data-stu-id="488b0-123">[Previous](deploy-eshoponcontainers-azure.md)
[Next](scale-applications.md)</span></span>
