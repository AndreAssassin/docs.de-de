---
title: Cloudbasierte Datenmuster
description: Architektur von Cloud Native .net-apps für Azure | Native Cloud-Datenmuster
ms.date: 06/30/2019
ms.openlocfilehash: 9e90409b0b633796b452cfcfecb3896e79002d4d
ms.sourcegitcommit: 30a558d23e3ac5a52071121a52c305c85fe15726
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/25/2019
ms.locfileid: "75337424"
---
# <a name="cloud-native-data-patterns"></a><span data-ttu-id="e8b3b-103">Cloudbasierte Datenmuster</span><span class="sxs-lookup"><span data-stu-id="e8b3b-103">Cloud-native data patterns</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="e8b3b-104">Obwohl dezentralisierte Daten zu verbesserter Leistung, Skalierbarkeit und Kosteneinsparungen führen können, stellt Sie auch viele Herausforderungen dar.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-104">While decentralized data can lead to improved performance, scalability, and cost savings, it also presents many challenges.</span></span> <span data-ttu-id="e8b3b-105">Das Abfragen von Daten über mehrere mikrodienste hinweg ist komplex.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-105">Querying for data across microservices is complex.</span></span> <span data-ttu-id="e8b3b-106">Eine Transaktion, die sich über mehrere Mikro Dienste erstreckt, muss Programm gesteuert verwaltet werden, da verteilte Transaktionen in Cloud-native Anwendungen nicht unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-106">A transaction that spans microservices must be managed programmatically as distributed transactions aren't supported in cloud-native applications.</span></span> <span data-ttu-id="e8b3b-107">Sie wechseln von der Welt der *unmittelbaren Konsistenz* zu *letztlicher Konsistenz*.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-107">You  move from a world of *immediate consistency* to *eventual consistency*.</span></span>

<span data-ttu-id="e8b3b-108">Diese Herausforderungen werden jetzt erörtert.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-108">We discuss these challenges now.</span></span>

## <a name="cross-service-queries"></a><span data-ttu-id="e8b3b-109">Dienst übergreifende Abfragen</span><span class="sxs-lookup"><span data-stu-id="e8b3b-109">Cross-service queries</span></span>

<span data-ttu-id="e8b3b-110">Wie werden von einer Anwendung Daten abgefragt, die auf viele unabhängige mikrodienste verteilt sind?</span><span class="sxs-lookup"><span data-stu-id="e8b3b-110">How does an application query data that is spread across many independent microservices?</span></span>

<span data-ttu-id="e8b3b-111">In Abbildung 5-4 wird dieses Szenario veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-111">Figure 5-4 shows this scenario.</span></span>

![Übergreifende Abfragen von Abfragen](./media/cross-service-query.png)

<span data-ttu-id="e8b3b-113">**Abbildung 5-4**.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-113">**Figure 5-4**.</span></span> <span data-ttu-id="e8b3b-114">Übergreifende Abfragen von Abfragen</span><span class="sxs-lookup"><span data-stu-id="e8b3b-114">Querying across microservices</span></span>

<span data-ttu-id="e8b3b-115">Beachten Sie, dass in der obigen Abbildung ein Einkaufskorb-microservice angezeigt wird, der dem Warenkorb eines Benutzers ein Element hinzufügt.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-115">Note how in the previous figure we see a shopping basket microservice that adds an item to a user's shopping cart.</span></span> <span data-ttu-id="e8b3b-116">Während der Datenspeicher des Einkaufs Warenkorbs eine Korb-und LineItem-Tabelle enthält, enthält er keine Produkt-oder Preisdaten, da diese Elemente in den microservices "Product" und "Price" gefunden werden.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-116">While the shopping basket's data store contains a basket and lineItem table, it doesn't contain product or pricing data as those items are found in the product and price microservices.</span></span> <span data-ttu-id="e8b3b-117">Zum Hinzufügen eines Elements benötigt der Warenkorb-microservice Produktdaten und Preisdaten.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-117">To add an item, the shopping basket microservice needs product data and pricing data.</span></span> <span data-ttu-id="e8b3b-118">Was sind Optionen zum Abrufen des Produkts und der Preisdaten?</span><span class="sxs-lookup"><span data-stu-id="e8b3b-118">What are options to obtain the product and pricing data?</span></span>

<span data-ttu-id="e8b3b-119">Abbildung 5-5 zeigt den waren Korb-microservice, der einen direkten http-Rückruf sowohl für den Produktkatalog als auch für die Preise für microservices durchführt.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-119">Figure 5-5 shows the shopping basket microservice making a direct HTTP call to both the product catalog and pricing microservices.</span></span>

![Direkte HTTP-Kommunikation](./media/direct-http-communication.png)

<span data-ttu-id="e8b3b-121">**Abbildung 5-5**.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-121">**Figure 5-5**.</span></span> <span data-ttu-id="e8b3b-122">Direkte HTTP-Kommunikation</span><span class="sxs-lookup"><span data-stu-id="e8b3b-122">Direct HTTP communication</span></span>

<span data-ttu-id="e8b3b-123">Obwohl es möglich ist, die Implementierung von zu implementieren, haben wir in Kapitel 4 erläutert, wie direkte http-Aufrufe über mehrere Microsoft-Dienste hinweg mit dem System zu tun haben.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-123">While feasible to implement, in chapter 4 we discussed how direct HTTP calls across microservices couple the system and aren't considered a good practice.</span></span>

<span data-ttu-id="e8b3b-124">In Abbildung 5-6 wird ein in Abbildung angezeiteter Aggregator implementiert.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-124">We could implement an aggregator microservice shown in Figure 5-6.</span></span>

![Aggregator-mikroservice](./media/aggregator-microservice.png)

<span data-ttu-id="e8b3b-126">**Abbildung 5-6.**</span><span class="sxs-lookup"><span data-stu-id="e8b3b-126">**Figure 5-6.**</span></span> <span data-ttu-id="e8b3b-127">Aggregator-mikroservice</span><span class="sxs-lookup"><span data-stu-id="e8b3b-127">Aggregator microservice</span></span>

<span data-ttu-id="e8b3b-128">Während dieser Ansatz den Workflow für den Geschäftsbetrieb in einem einzelnen microservice kapselt, erhöht er die Komplexität und führt weiterhin zu direkten http-aufrufen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-128">While this approach encapsulates the business operation workflow in an individual microservice, it adds complexity and still results in direct HTTP calls.</span></span>

<span data-ttu-id="e8b3b-129">Ein gängiger Ansatz zum Ausführen von Dienst übergreifenden Abfragen verwendet das [materialisierte Ansichts Muster](https://docs.microsoft.com/azure/architecture/patterns/materialized-view), wie in Abbildung 5-7 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-129">A common approach for executing cross-service queries uses the [Materialized View Pattern](https://docs.microsoft.com/azure/architecture/patterns/materialized-view), shown in Figure 5-7.</span></span>

![Muster für materialisierte Sichten](./media/materialized-view-pattern.png)

<span data-ttu-id="e8b3b-131">**Figure5-7**.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-131">**Figure5-7**.</span></span> <span data-ttu-id="e8b3b-132">Muster für materialisierte Sichten</span><span class="sxs-lookup"><span data-stu-id="e8b3b-132">Materialized View Pattern</span></span>

<span data-ttu-id="e8b3b-133">Bei diesem Muster platzieren Sie direkt eine lokale Tabelle (als *Lese Modell*bezeichnet) im Warenkorb-Dienst, der eine denormalisierte Kopie der Daten enthält, die vom Produkt und den Preisen der microservices benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-133">With this pattern, you directly place a local table (known as a *read model*) in the shopping basket service that contains a denormalized copy of the data that is needed from the product and pricing microservices.</span></span> <span data-ttu-id="e8b3b-134">Wenn Sie diese Daten innerhalb des Warenkorb-microservice ablegen, entfällt die Notwendigkeit, teure Dienst übergreifende Aufrufe aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-134">Placing that data inside the shopping basket microservice eliminates the need for invoking expensive cross-service calls.</span></span> <span data-ttu-id="e8b3b-135">Mit den lokalen Daten für den Dienst verbessern Sie die Reaktionszeit und die Zuverlässigkeit.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-135">With the data local to the service, you improve response time and reliability.</span></span>

<span data-ttu-id="e8b3b-136">Der catch-Ansatz bei diesem Ansatz besteht darin, dass Sie jetzt doppelte Daten in Ihrem System haben.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-136">The catch with this approach is you now have duplicate data in your system.</span></span> <span data-ttu-id="e8b3b-137">In nativen cloudsystemen werden doppelte Daten nicht als [Antimuster](https://en.wikipedia.org/wiki/Anti-pattern) betrachtet und häufig in cloudbasierten Systemen implementiert.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-137">In cloud-native systems, duplicate data isn't considered an [anti-pattern](https://en.wikipedia.org/wiki/Anti-pattern) and is commonly implemented in cloud-native systems.</span></span> <span data-ttu-id="e8b3b-138">Allerdings kann ein und nur ein System der Besitzer eines beliebigen Datasets sein, und Sie müssen einen Synchronisierungs Mechanismus implementieren, damit das Datensatz-System alle zugeordneten Lese Modelle aktualisieren kann, wenn eine Änderung an den zugrunde liegenden Daten auftritt.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-138">However, one and only one system can be the owner of any dataset, and you'll need to implement a synchronization mechanism for the system of record to update all of the associated read models, whenever a change to its underlying data occurs.</span></span>

## <a name="transactional-support"></a><span data-ttu-id="e8b3b-139">Transaktionale Unterstützung</span><span class="sxs-lookup"><span data-stu-id="e8b3b-139">Transactional support</span></span>

<span data-ttu-id="e8b3b-140">Während Abfragen für alle mikrodienste schwierig sind, kann die Implementierung einer Transaktion über mehrere mikrodienste hinweg sehr komplex sein.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-140">While queries across microservices are challenging, implementing a transaction across microservices can be complex.</span></span> <span data-ttu-id="e8b3b-141">Die inhärente Herausforderung, die Datenkonsistenz über Datenquellen hinweg beizubehalten, die sich in verschiedenen-Diensten befinden, kann nicht unterschätzt werden.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-141">The inherent challenge of maintaining data consistency across data sources that reside in different microservices can't be understated.</span></span> <span data-ttu-id="e8b3b-142">In Abbildung 5-8 wird das Problem gezeigt.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-142">Figure 5-8 shows the problem.</span></span>

![Transaktion in Saga-Muster](./media/saga-transaction-operation.png)

<span data-ttu-id="e8b3b-144">**Abbildung 5-8**.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-144">**Figure 5-8**.</span></span> <span data-ttu-id="e8b3b-145">Transaktionsübergreifende Implementierung einer Transaktion</span><span class="sxs-lookup"><span data-stu-id="e8b3b-145">Implementing a transaction across microservices</span></span>

<span data-ttu-id="e8b3b-146">Beachten Sie, dass in der vorherigen Abbildung fünf unabhängige mikrodienste alle an einer verteilten *Create Order* -Transaktion teilnehmen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-146">Note how in the previous figure five independent microservices all participate in a distributed *Create Order* transaction.</span></span> <span data-ttu-id="e8b3b-147">Allerdings muss die Transaktion für jeden der fünf einzelnen mikrodienste erfolgreich sein, oder der Vorgang muss abgebrochen und ein Rollback für den Vorgang durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-147">However, the transaction for each of the five individual microservices must succeed, or all must abort and roll back the operation.</span></span> <span data-ttu-id="e8b3b-148">Obwohl die integrierte Transaktionsunterstützung innerhalb der einzelnen-Dienste verfügbar ist, gibt es keine Unterstützung für eine verteilte Transaktion in allen fünf Diensten.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-148">While built-in transactional support is available inside each of the microservices, there's no support for a distributed transaction across all five services.</span></span>

<span data-ttu-id="e8b3b-149">Da die Transaktionsunterstützung für diesen Vorgang unabdingbar ist, damit die Daten in den einzelnen-Diensten konsistent bleiben, müssen Sie eine verteilte Transaktion Programm gesteuert erstellen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-149">Since transactional support is essential for this operation to keep the data consistent in each of the microservices, you have to programmatically construct a distributed transaction.</span></span>

<span data-ttu-id="e8b3b-150">Ein gängiges Muster für das programmgesteuerte Hinzufügen von transaktionaler Unterstützung ist das [Saga-Muster](https://blog.couchbase.com/saga-pattern-implement-business-transactions-using-microservices-part/).</span><span class="sxs-lookup"><span data-stu-id="e8b3b-150">A popular pattern for programmatically adding transactional support is the [Saga pattern](https://blog.couchbase.com/saga-pattern-implement-business-transactions-using-microservices-part/).</span></span> <span data-ttu-id="e8b3b-151">Sie wird implementiert, indem lokale Transaktionen gruppiert und nacheinander nacheinander aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-151">It's implemented by grouping local transactions together and sequentially invoking each one.</span></span> <span data-ttu-id="e8b3b-152">Wenn eine lokale Transaktion fehlschlägt, bricht die Saga den Vorgang ab und Ruft einen Satz [kompensierender Transaktionen](https://docs.microsoft.com/azure/architecture/patterns/compensating-transaction) auf, um die von den vorangehenden lokalen Transaktionen vorgenommenen Änderungen rückgängig zu machen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-152">If a local transaction fails, the Saga aborts the operation and invokes a set of [compensating transactions](https://docs.microsoft.com/azure/architecture/patterns/compensating-transaction) to undo the changes made by the preceding local transactions.</span></span> <span data-ttu-id="e8b3b-153">In Abbildung 5-9 wird eine Transaktion mit dem Muster "Saga" angezeigt.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-153">Figure 5-9 shows a failed transaction with the Saga pattern.</span></span>

![Rollback im Saga-Muster](./media/saga-rollback-operation.png)

<span data-ttu-id="e8b3b-155">**Abbildung 5-9**.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-155">**Figure 5-9**.</span></span> <span data-ttu-id="e8b3b-156">Rollback einer Transaktion</span><span class="sxs-lookup"><span data-stu-id="e8b3b-156">Rolling back a transaction</span></span>

<span data-ttu-id="e8b3b-157">Beachten Sie, dass in der vorherigen Abbildung der *generatecontent* -Vorgang im Music-mikroservice fehlgeschlagen ist.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-157">Note how in the previous figure the *GenerateContent* operation has failed in the music microservice.</span></span> <span data-ttu-id="e8b3b-158">Die Saga ruft kompensierende Transaktionen (in rot) auf, um den Inhalt zu entfernen, die Zahlung abzubrechen und die Bestellung abzubrechen und die Daten für jeden Mikro Dienst wieder in einen konsistenten Zustand zurückzusetzen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-158">The Saga invokes compensating transactions (in red) to remove the content, cancel the payment, and cancel the order, returning the data for each microservice back to a consistent state.</span></span>

<span data-ttu-id="e8b3b-159">Saga-Muster werden in der Regel als eine Reihe verwandter Ereignisse und als eine Reihe verwandter Befehle orchestriert.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-159">Saga patterns are typically choreographed as a series of related events or orchestrated as a set of related commands.</span></span>

## <a name="cqrs-pattern"></a><span data-ttu-id="e8b3b-160">Cqrs-Muster</span><span class="sxs-lookup"><span data-stu-id="e8b3b-160">CQRS pattern</span></span>

<span data-ttu-id="e8b3b-161">Cqrs (oder [Command and Query Responsibility Segregation](https://docs.microsoft.com/azure/architecture/patterns/cqrs)) ist ein Architekturmuster, das Vorgänge trennt, die Daten von denjenigen lesen, die Daten schreiben.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-161">CQRS, or [Command and Query Responsibility Segregation](https://docs.microsoft.com/azure/architecture/patterns/cqrs), is an architectural pattern that separate operations that read data from those that write data.</span></span> <span data-ttu-id="e8b3b-162">Dieses Muster kann dabei helfen, die Leistung, Skalierbarkeit und Sicherheit zu maximieren.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-162">This pattern can help maximize performance, scalability, and security.</span></span>

<span data-ttu-id="e8b3b-163">In normalen Datenzugriffs Szenarien implementieren Sie ein einzelnes Modell (Entitäts-und Repository-Objekt), die *sowohl* Lese-als auch Schreibvorgänge durchführen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-163">In normal data access scenarios, you implement a single model (entity and repository object) that perform *both* read and write data operations.</span></span>

<span data-ttu-id="e8b3b-164">Allerdings kann ein erweitertes Datenzugriffs Szenario von separaten Modellen und Datentabellen für Lese-und Schreibvorgänge profitieren.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-164">However, a more advanced data access scenario might benefit from separate models and data tables for reads and writes.</span></span> <span data-ttu-id="e8b3b-165">Um die Leistung zu verbessern, könnte der Lesevorgang, der als *Abfrage*bezeichnet wird, Abfragen für eine hochgradig denormalisierte Darstellung der Daten durchführt, um teure wiederkehrende Tabellen Joins zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-165">To improve performance, the read operation, known as a *query*, might query against a highly denormalized representation of the data to avoid expensive repetitive table joins.</span></span> <span data-ttu-id="e8b3b-166">Während der *Schreib* Vorgang, der als *Befehl*bezeichnet wird, mit einer vollständig normalisierten Darstellung der Daten möglicherweise aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-166">Whereas the *write* operation, known as a *command*, might update against a fully normalized representation of the data.</span></span> <span data-ttu-id="e8b3b-167">Sie müssen dann einen Mechanismus implementieren, um beide Darstellungen synchron zu halten. Wenn die Schreib Tabelle geändert wird, löst Sie in der Regel ein Ereignis aus, das die Datenänderung in die Lese Tabelle repliziert.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-167">You would then need to implement a mechanism to keep both representations in sync. Typically, whenever the write table is modified, it raises an event that replicates the data modification to the read table.</span></span>

<span data-ttu-id="e8b3b-168">In Abbildung 5-10 wird eine Implementierung des cqrs-Musters gezeigt.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-168">Figure 5-10 shows an implementation of the CQRS pattern.</span></span>

![Cqrs-Implementierung](./media/cqrs-implementation.png)

<span data-ttu-id="e8b3b-170">**Abbildung 5-10**.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-170">**Figure 5-10**.</span></span> <span data-ttu-id="e8b3b-171">Cqrs-Implementierung</span><span class="sxs-lookup"><span data-stu-id="e8b3b-171">CQRS implementation</span></span>

<span data-ttu-id="e8b3b-172">Beachten Sie, dass in der vorherigen Abbildung separate Befehls-und Abfrage Modelle implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-172">Note how in the previous figure separate command and query models are implemented.</span></span> <span data-ttu-id="e8b3b-173">Darüber hinaus wird jeder Daten Schreibvorgang im Schreib Speicher gespeichert und dann an den Lese Speicher weitergegeben.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-173">Moreover, each data write operation is saved to the write store and then propagated to the read store.</span></span> <span data-ttu-id="e8b3b-174">Achten Sie genau darauf, wie der propagierungs Prozess auf das Prinzip der [letztlichen Konsistenz](https://www.cloudcomputingpatterns.org/eventual_consistency/)angewendet wird, während das Lese Modell schließlich mit dem schreibmodell synchronisiert wird, es kann jedoch zu einer gewissen Verzögerung im Prozess kommen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-174">Pay close attention to how the propagation process operates on the principle of [eventual consistency](https://www.cloudcomputingpatterns.org/eventual_consistency/), whereas the read model eventually synchronizes with the write model, but there may be some lag in the process.</span></span>

<span data-ttu-id="e8b3b-175">Durch Implementieren der Trennung haben Sie die Möglichkeit, Lese-und Schreibvorgänge separat zu skalieren.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-175">By implementing separation, you have the ability to scale reads and writes separately.</span></span> <span data-ttu-id="e8b3b-176">Außerdem können Sie eine strengere Sicherheit bei Schreibvorgängen erzwingen als bei Lesevorgängen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-176">As well, you might impose tighter security on write operations than those concerning reads.</span></span>

<span data-ttu-id="e8b3b-177">In der Regel werden cqrs-Muster auf bestimmte spezifische Bereiche Ihres Systems angewendet.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-177">Typically, CQRS patterns are applied to limited sections of your system based upon specific needs.</span></span>

## <a name="relational-vs-nosql"></a><span data-ttu-id="e8b3b-178">Relationales vs nosql</span><span class="sxs-lookup"><span data-stu-id="e8b3b-178">Relational vs NoSQL</span></span>

<span data-ttu-id="e8b3b-179">Die Auswirkungen von [nosql](https://www.geeksforgeeks.org/introduction-to-nosql/) -Technologien können nicht überschrieben werden, insbesondere bei verteilten cloudbasierten Systemen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-179">The impact of [NoSQL](https://www.geeksforgeeks.org/introduction-to-nosql/) technologies can't be overstated, especially for distributed cloud-native systems.</span></span> <span data-ttu-id="e8b3b-180">Durch die Verbreitung neuer Daten Technologien in diesem Bereich wurden Lösungen gestört, die sich ausschließlich auf relationale Datenbanken stützten.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-180">The proliferation of new data technologies in this space has disrupted solutions that once exclusively relied on relational databases.</span></span>

<span data-ttu-id="e8b3b-181">Auf der 1-Seite waren relationale Datenbanken seit Jahrzehnten eine weit verbreitete Technologie.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-181">On the one side, relational databases have been a prevalent technology for decades.</span></span> <span data-ttu-id="e8b3b-182">Sie sind ausgereifte, bewährte und weit verbreitete Implementierung.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-182">They're mature, proven, and widely implemented.</span></span> <span data-ttu-id="e8b3b-183">Konkurrierende Daten Bankprodukte, Fachkenntnisse und Tools sind reichlich vorhanden.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-183">Competing database products, expertise and tooling abounds.</span></span> <span data-ttu-id="e8b3b-184">Relationale Datenbanken bieten einen Speicher verwandter Datentabellen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-184">Relational databases provide a store of related data tables.</span></span> <span data-ttu-id="e8b3b-185">Diese Tabellen verfügen über ein festes Schema, verwenden SQL (strukturierte Abfragesprache), um Daten zu verwalten, und haben [Acid](https://www.geeksforgeeks.org/acid-properties-in-dbms/) -Garantien (Atomicity, Konsistenz, Isolation und Dauerhaftigkeit).</span><span class="sxs-lookup"><span data-stu-id="e8b3b-185">These tables have a fixed schema, use SQL (Structured Query Language) to manage data and have [ACID](https://www.geeksforgeeks.org/acid-properties-in-dbms/) (also known as Atomicity, Consistency, Isolation, and Durability) guarantees.</span></span>

<span data-ttu-id="e8b3b-186">Keine SQL-Datenbanken auf der anderen Seite beziehen sich auf leistungsstarke, nicht relationale Datenspeicher.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-186">No-SQL databases, on the other side, refer to high-performance, non-relational data stores.</span></span> <span data-ttu-id="e8b3b-187">Sie sind in der Benutzerfreundlichkeit, Skalierbarkeit, Resilienz und Verfügbarkeits Merkmalen von Excel.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-187">They excel in their ease-of-use, scalability, resilience, and availability characteristics.</span></span> <span data-ttu-id="e8b3b-188">Anstatt Tabellen mit normalisierten Daten zu verbinden, speichert nosql selbst beschreibende (Schema lose) Daten in der Regel in JSON-Dokumenten.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-188">Instead of joining tables of normalized data, NoSQL stores self-describing (schemaless) data typically in JSON documents.</span></span> <span data-ttu-id="e8b3b-189">Sie bieten keine [Acid](https://www.geeksforgeeks.org/acid-properties-in-dbms/) -Garantien.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-189">They don't offer [ACID](https://www.geeksforgeeks.org/acid-properties-in-dbms/) guarantees.</span></span>

<span data-ttu-id="e8b3b-190">Eine Möglichkeit, die Unterschiede zwischen diesen Datenbanktypen zu verstehen, finden Sie im [Cap-Theorem](https://towardsdatascience.com/cap-theorem-and-distributed-database-management-systems-5c2be977950e), einem Satz von Prinzipien, die auf verteilte Systeme angewendet werden können, in denen der Status gespeichert wird.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-190">A way to understand the differences between these types of databases can be found in the [CAP theorem](https://towardsdatascience.com/cap-theorem-and-distributed-database-management-systems-5c2be977950e), a set of principles that can be applied to distributed systems that store state.</span></span> <span data-ttu-id="e8b3b-191">In Abbildung 5-11 werden die drei Eigenschaften des Cap-Theorem angezeigt.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-191">Figure 5-11 shows the three properties of the CAP theorem.</span></span>

![CAP-Theorem](./media/cap-theorem.png)

<span data-ttu-id="e8b3b-193">**Abbildung 5-11**.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-193">**Figure 5-11**.</span></span> <span data-ttu-id="e8b3b-194">Das Cap-Theorem</span><span class="sxs-lookup"><span data-stu-id="e8b3b-194">The CAP theorem</span></span>

<span data-ttu-id="e8b3b-195">Das Theorem besagt, dass ein beliebiges verteiltes Datensystem einen Kompromiss zwischen Konsistenz, Verfügbarkeit und Partitions Toleranz bietet und dass jede Datenbank nur zwei der drei Eigenschaften garantieren kann:</span><span class="sxs-lookup"><span data-stu-id="e8b3b-195">The theorem states that any distributed data system will offer a trade-off between consistency, availability, and partition tolerance, and that any database can only guarantee two of the three properties:</span></span>

- <span data-ttu-id="e8b3b-196">*Konsistenz*: jeder Knoten im Cluster antwortet mit den neuesten Daten, auch wenn eine Anforderung blockiert werden muss, bis alle Replikate ordnungsgemäß aktualisiert wurden.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-196">*Consistency*: every node in the cluster will respond with the most recent data, even if it requires blocking a request until all replicas are correctly updated.</span></span>

- <span data-ttu-id="e8b3b-197">*Verfügbarkeit*: jeder Knoten gibt eine Antwort in einem angemessenen Zeitraum zurück, auch wenn diese Antwort nicht die neuesten Daten ist.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-197">*Availability*: every node will return a response in a reasonable amount of time, even if that response isn't the most recent data.</span></span>

- <span data-ttu-id="e8b3b-198">*Partitions Toleranz*: gewährleistet, dass das System den Betrieb fortsetzt, wenn ein Knoten ausfällt oder die Konnektivität mit einem anderen verliert.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-198">*Partition Tolerance*: guarantees that the system will continue operating if a node fails or loses connectivity with another.</span></span>

<span data-ttu-id="e8b3b-199">Relationale Datenbanken weisen Konsistenz und Verfügbarkeit auf, aber keine Partitions Toleranz.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-199">Relational databases exhibit consistency and availability, but not partition tolerance.</span></span> <span data-ttu-id="e8b3b-200">Das Partitionieren einer relationalen Datenbank (z. b. Sharding) ist schwierig und kann die Leistung beeinträchtigen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-200">Partitioning a relational database, such as sharding, is difficult and can impact performance.</span></span>

<span data-ttu-id="e8b3b-201">Auf der anderen Seite weisen nosql-Datenbanken in der Regel Partitions Toleranz auf, die als horizontale Skalierbarkeit und hohe Verfügbarkeit bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-201">On the other hand, NoSQL databases typically exhibit partition tolerance, known as horizontal scalability, and high availability.</span></span> <span data-ttu-id="e8b3b-202">Wie das Cap-Theorem angibt, können Sie nur über zwei der drei Prinzipien verfügen, und Sie verlieren die Konsistenz Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-202">As the CAP theorem specifies, you can only have two of the three principles, and you lose the  consistency property.</span></span>

<span data-ttu-id="e8b3b-203">Nosql-Datenbanken werden verteilt und in der Regel über mehrere Server hinweg skaliert.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-203">NoSQL databases are distributed and commonly scaled out across commodity servers.</span></span> <span data-ttu-id="e8b3b-204">Dadurch kann eine hohe Verfügbarkeit sowohl innerhalb als auch über geografische Regionen hinweg zu geringeren Kosten gewährleistet werden.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-204">Doing so can provide great availability, both within and across geographical regions at a reduced cost.</span></span> <span data-ttu-id="e8b3b-205">Daten können auf diesen Computern oder Knoten partitioniert und repliziert werden, um Redundanz und Fehlertoleranz bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-205">Data can be partitioned and replicated across these machines, or nodes, providing redundancy and fault tolerance.</span></span> <span data-ttu-id="e8b3b-206">Der Nachteil ist die Konsistenz.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-206">The downside is consistency.</span></span> <span data-ttu-id="e8b3b-207">Eine Änderung an den Daten auf einem nosql-Knoten kann einige Zeit in Anspruch nehmen, um an andere Knoten weiterzugeben.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-207">A change to data on one NoSQL node can take some time to propagate to other nodes.</span></span> <span data-ttu-id="e8b3b-208">In der Regel stellt ein nosql-Datenbankknoten eine sofortige Antwort auf eine Abfrage bereit, selbst wenn die Daten, die Sie darstellen, veraltet sind und noch nicht aktualisiert wurden.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-208">Typically, a NoSQL database node will provide an immediate response to a query, even if the data that it is presenting is stale and has not been updated yet.</span></span>

<span data-ttu-id="e8b3b-209">Dies ist eine bekannte [letztliche Konsistenz](https://www.cloudcomputingpatterns.org/eventual_consistency/), ein Merkmal verteilter Datensysteme, bei denen ACID-Transaktionen nicht unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-209">This is known [eventual consistency](https://www.cloudcomputingpatterns.org/eventual_consistency/), a characteristic of distributed data systems where ACID transactions aren't supported.</span></span> <span data-ttu-id="e8b3b-210">Es handelt sich um eine kurze Verzögerung zwischen dem Update eines Datenelements und der Zeit, die es dauert, dieses Update an jeden Replikat Knoten weiterzugeben.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-210">It's a brief delay between the update of a data item and time that it takes to propagate that update to each of the replica nodes.</span></span> <span data-ttu-id="e8b3b-211">Wenn Sie ein Produkt Element in einer nosql-Datenbank in der USA aktualisieren, aber gleichzeitig das gleiche Datenelement von einem Replikat Knoten in Europa Abfragen, rufen Sie möglicherweise die früheren Produktinformationen ab, bis der Europäische Knoten mit Produktänderungen aktualisiert wurde.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-211">If you update a product item in a NoSQL database in the United States, but at same time query that same data item from a replica node in Europe, you might retrieve the earlier product information - until the European node has been updated with product change.</span></span> <span data-ttu-id="e8b3b-212">Der Nachteil besteht darin, dass Sie durch eine [hohe Konsistenz](https://en.wikipedia.org/wiki/Strong_consistency), die auf die Aktualisierung aller Replikat Knoten wartet, bevor Sie ein Abfrageergebnis zurückgeben, das umfangreiche skalieren und das Datenverkehrs Volumen unterstützen, aber mit der Möglichkeit, ältere Daten darzustellen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-212">The trade-off is that by giving up [strong consistency](https://en.wikipedia.org/wiki/Strong_consistency),  waiting for all replica nodes to update before returning a query result, you can support enormous scale and traffic volume, but with the possibility of presenting older data.</span></span>

<span data-ttu-id="e8b3b-213">Nosql-Datenbanken können nach den folgenden vier Modellen kategorisiert werden:</span><span class="sxs-lookup"><span data-stu-id="e8b3b-213">NoSQL databases can be categorized by the following four models:</span></span>

- <span data-ttu-id="e8b3b-214">*Dokument Speicher* (MongoDB, couchdb, couchbase): Daten (und entsprechende Metadaten) werden nicht relationell in denormalisierten JSON-basierten Dokumenten in der Datenbank gespeichert.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-214">*Document Store* (MongoDB, CouchDB, Couchbase): data (and corresponding metadata) is stored non-relationally in denormalized JSON-based documents inside the database.</span></span>

- <span data-ttu-id="e8b3b-215">*Schlüssel-Wert-Speicher* (redis, Riak, memcached): Daten werden in einfachen Schlüssel-Wert-Paaren mit System Vorgängen gespeichert, die für einen eindeutigen Zugriffsschlüssel ausgeführt werden, der einem Wert von Benutzerdaten zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-215">*Key/Value Store* (Redis, Riak, memcached): data is stored in simple key-value pairs with system operations performed against a unique access key that is mapped to a value of user data.</span></span>

- <span data-ttu-id="e8b3b-216">*Wide Column Store* (HBase, Cassandra): verknüpfte Daten werden in einem Spalten Format als Satz von geschachtelten Schlüssel-Wert-Paaren in einer einzelnen Spalte gespeichert, wobei Daten in der Regel als eine Einheit abgerufen werden, ohne dass mehrere Tabellen miteinander verknüpft werden müssen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-216">*Wide-Column Store* (HBase, Cassandra): related Data is stored in a columnar format as a set of nested-key/value pairs within a single column with data typically retrieved as a single unit without having to join multiple tables together.</span></span>

- <span data-ttu-id="e8b3b-217">*Graph-Speicher* (neo4j, Titan): Daten werden als grafische Darstellung innerhalb eines Knotens sowie Kanten gespeichert, die die Beziehung zwischen den Knoten angeben.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-217">*Graph stores* (neo4j, titan): data is stored as a graphical representation within a node along with edges that specify the relationship between the nodes.</span></span>

<span data-ttu-id="e8b3b-218">Nosql-Datenbanken können für den Umgang mit umfangreichen Daten optimiert werden, insbesondere dann, wenn die Daten relativ einfach sind.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-218">NoSQL databases can be optimized to deal with large-scale data, especially when the data is relatively simple.</span></span> <span data-ttu-id="e8b3b-219">Beachten Sie in folgenden Fall eine nosql-Datenbank:</span><span class="sxs-lookup"><span data-stu-id="e8b3b-219">Consider a NoSQL database when:</span></span>

- <span data-ttu-id="e8b3b-220">Ihre Arbeitsauslastung erfordert eine umfangreiche und hohe Parallelität.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-220">Your workload requires a large scale and high concurrency.</span></span>
- <span data-ttu-id="e8b3b-221">Sie verfügen über eine große Anzahl von Benutzern.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-221">You have large numbers of users.</span></span>
- <span data-ttu-id="e8b3b-222">Ihre Daten können einfach ohne Beziehungen ausgedrückt werden.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-222">Your data can be expressed simply without relationships.</span></span>
- <span data-ttu-id="e8b3b-223">Sie müssen Ihre Daten geografisch verteilen.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-223">You need to geographically distribute your data.</span></span>
- <span data-ttu-id="e8b3b-224">Sie benötigen keine Acid-Garantien.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-224">You don't need ACID guarantees.</span></span>
- <span data-ttu-id="e8b3b-225">Wird auf der Ware-Hardware bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-225">Will be deployed to commodity hardware.</span></span>

<span data-ttu-id="e8b3b-226">Stellen Sie sich dann eine relationale Datenbank vor, wenn:</span><span class="sxs-lookup"><span data-stu-id="e8b3b-226">Then, consider a relational database when:</span></span>

- <span data-ttu-id="e8b3b-227">Ihre Workloads erfordern mittlere bis große Skalierbarkeit.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-227">Your workloads require medium to large scale.</span></span>
- <span data-ttu-id="e8b3b-228">Die Parallelität ist nicht von großer Bedeutung.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-228">Concurrency isn't a major concern.</span></span>
- <span data-ttu-id="e8b3b-229">Acid-Garantien sind erforderlich.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-229">ACID guarantees are needed.</span></span>
- <span data-ttu-id="e8b3b-230">Die Daten werden am besten relationale ausgedrückt.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-230">Data is best expressed relationally.</span></span>
- <span data-ttu-id="e8b3b-231">Ihre Anwendung wird für große High-End-Hardware bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-231">Your application will be deployed to large, high-end hardware.</span></span>

<span data-ttu-id="e8b3b-232">Als nächstes betrachten wir die Datenspeicherung in der Azure-Cloud.</span><span class="sxs-lookup"><span data-stu-id="e8b3b-232">Next, we look at data storage in the Azure cloud.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="e8b3b-233">[Zurück](distributed-data.md)
>[Weiter](azure-data-storage.md)</span><span class="sxs-lookup"><span data-stu-id="e8b3b-233">[Previous](distributed-data.md)
[Next](azure-data-storage.md)</span></span>
