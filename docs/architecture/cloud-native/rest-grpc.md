---
title: REST und gRPC
description: Erfahren Sie mehr über GrpC, seine Rolle in Cloud-native Anwendungen und die Unterschiede zwischen der http-Rest-Funktion
author: robvet
ms.date: 09/08/2019
ms.openlocfilehash: 80960a9042b1514fb78e7a8c993a1854067407e8
ms.sourcegitcommit: 14ad34f7c4564ee0f009acb8bfc0ea7af3bc9541
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/01/2019
ms.locfileid: "73842050"
---
# <a name="rest-and-grpc"></a><span data-ttu-id="161cd-103">REST und gRPC</span><span class="sxs-lookup"><span data-stu-id="161cd-103">REST and gRPC</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="161cd-104">Bisher haben wir uns in diesem Buch auf die [Rest-basierte](https://docs.microsoft.com/azure/architecture/best-practices/api-design) Kommunikation konzentriert.</span><span class="sxs-lookup"><span data-stu-id="161cd-104">So far in this book, we’ve focused on [REST-based](https://docs.microsoft.com/azure/architecture/best-practices/api-design) communication.</span></span> <span data-ttu-id="161cd-105">Rest ist ein Architekturstil, der die Interoperabilität zwischen verteilten Computersystemen fördert.</span><span class="sxs-lookup"><span data-stu-id="161cd-105">REST is an architectural style that promotes interoperability between distributed computer systems.</span></span> <span data-ttu-id="161cd-106">Dabei wird ein Anforderungs-/Antwort-Modell verwendet, bei dem jede Antwort vom Server an eine Anforderung vom Client erfolgt.</span><span class="sxs-lookup"><span data-stu-id="161cd-106">It uses a request/response model where every response from the server is to a request from the client.</span></span> <span data-ttu-id="161cd-107">Rest ist zwar weit verbreitet, aber Rest ist für jedes Problem nicht optimal geeignet.</span><span class="sxs-lookup"><span data-stu-id="161cd-107">While widely popular, REST isn't a perfect fit for every problem.</span></span> <span data-ttu-id="161cd-108">Eine neuere Kommunikationstechnologie mit dem Titel "GrpC" gewinnt schnell eine Beliebtheit und macht Sie in der Cloud-Native Welt.</span><span class="sxs-lookup"><span data-stu-id="161cd-108">A newer communication technology, entitled gRPC, is rapidly gaining popularity and making its way into the cloud-native world.</span></span>

## <a name="grpc"></a><span data-ttu-id="161cd-109">gRPC</span><span class="sxs-lookup"><span data-stu-id="161cd-109">gRPC</span></span>

<span data-ttu-id="161cd-110">GrpC ist eine Open-Source-Kommunikation, die von Google stammt.</span><span class="sxs-lookup"><span data-stu-id="161cd-110">gRPC is an open-source communication that originates from Google.</span></span> <span data-ttu-id="161cd-111">Es basiert auf dem RPC-Modell [(Remote Procedure Callcenter)](https://en.wikipedia.org/wiki/Remote_procedure_call) , das bei der verteilten Verarbeitung beliebt ist.</span><span class="sxs-lookup"><span data-stu-id="161cd-111">It's built upon the [remote procedure call (RPC)](https://en.wikipedia.org/wiki/Remote_procedure_call) model, popular in distributed computing.</span></span> <span data-ttu-id="161cd-112">Nach diesem Modell stellt ein lokales Client Programm eine Prozess interne Methode zum Ausführen eines Vorgangs zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="161cd-112">Following this model, a local client program exposes an in-process method to execute an operation.</span></span> <span data-ttu-id="161cd-113">Dieser Aufruf wird im Hintergrund für einen Out-of-Process-mikroservice in einem verteilten Netzwerk aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="161cd-113">Behind the scenes, that call is invoked on an out-of-process microservice across a distributed network.</span></span> <span data-ttu-id="161cd-114">Der Entwickler codiert den Vorgang als einen lokalen Prozedur Aufruf.</span><span class="sxs-lookup"><span data-stu-id="161cd-114">The developer codes the operation as a local procedure call.</span></span> <span data-ttu-id="161cd-115">Die zugrunde liegende Plattform abstrahiert die Punkt-zu-Punkt-Netzwerkkommunikation,-Serialisierung und-Ausführung.</span><span class="sxs-lookup"><span data-stu-id="161cd-115">The underlying platform abstracts the point-to-point networking communication, serialization, and execution.</span></span>

<span data-ttu-id="161cd-116">GrpC ist ein modernes RPC-Framework, das einfach und leistungsfähig ist.</span><span class="sxs-lookup"><span data-stu-id="161cd-116">gRPC is a modern RPC framework that is lightweight and highly performant.</span></span> <span data-ttu-id="161cd-117">Für das Transportprotokoll wird http/2 verwendet.</span><span class="sxs-lookup"><span data-stu-id="161cd-117">It uses HTTP/2 for its transport protocol.</span></span> <span data-ttu-id="161cd-118">Obwohl http/2 mit HTTP 1,1 kompatibel ist, bietet es viele erweiterte Funktionen:</span><span class="sxs-lookup"><span data-stu-id="161cd-118">While compatible with HTTP 1.1, HTTP/2 features many advanced capabilities:</span></span>

- <span data-ttu-id="161cd-119">Obwohl HTTP 1,1 Daten als Klartext sendet, ist http/2 ein binäres Protokoll.</span><span class="sxs-lookup"><span data-stu-id="161cd-119">While HTTP 1.1 sends data as clear text, HTTP/2 is a binary protocol.</span></span> <span data-ttu-id="161cd-120">Sie analysiert Daten schneller mit weniger Arbeitsspeicher, verringert die Netzwerk Latenz mit den damit verbundenen Verbesserungen der Geschwindigkeit und verwaltet die Netzwerkressourcen effizienter.</span><span class="sxs-lookup"><span data-stu-id="161cd-120">It parses data faster using less memory, reduces network latency with the related improvements to speed, and manages network resources more efficiently.</span></span>
- <span data-ttu-id="161cd-121">Obwohl HTTP 1,1 auf die Verarbeitung von Roundtrip-Anforderungen/-Antworten auf einmal beschränkt ist, unterstützt HTTP/2 Multiplexing oder mehrere parallele Anforderungen über dieselbe Verbindung.</span><span class="sxs-lookup"><span data-stu-id="161cd-121">While HTTP 1.1 is limited to processing one round-trip request/response at a time, HTTP/2 supports multiplexing, or multiple parallel requests over the same connection.</span></span>
- <span data-ttu-id="161cd-122">HTTP/2 unterstützt eine Vollduplex-oder bidirektionale Kommunikation, bei der sowohl der Client als auch der Server und gleichzeitig kommunizieren können.</span><span class="sxs-lookup"><span data-stu-id="161cd-122">HTTP/2 supports full-duplex, or bidirectional communication, where both client and server and can communicate at the same time.</span></span> <span data-ttu-id="161cd-123">Der Client kann Anforderungs Daten hochladen, wenn der Serverantwort Daten zurücksendet.</span><span class="sxs-lookup"><span data-stu-id="161cd-123">The client can be uploading request data at the same time the server is sending back response data.</span></span>
- <span data-ttu-id="161cd-124">Streaming ist in http/2 integriert, was bedeutet, dass sowohl Anforderungen als auch Antworten große Datensätze asynchron streamen können.</span><span class="sxs-lookup"><span data-stu-id="161cd-124">Streaming is built into HTTP/2 meaning that both requests and responses can asynchronously stream large data sets.</span></span>
- <span data-ttu-id="161cd-125">Die Kombination von GrpC und http/2 steigert die Leistung erheblich.</span><span class="sxs-lookup"><span data-stu-id="161cd-125">Combining gRPC and HTTP/2, performance dramatically increases.</span></span> <span data-ttu-id="161cd-126">In [Windows Communication Foundation (WCF)](https://docs.microsoft.com/dotnet/framework/wcf/whats-wcf) -Parametern trifft die GrpC-Leistung zu und überschreitet die Geschwindigkeit und Effizienz von [NetTcp-Bindungen](https://docs.microsoft.com/dotnet/api/system.servicemodel.nettcpbinding?view=netframework-4.8).</span><span class="sxs-lookup"><span data-stu-id="161cd-126">In [Windows Communication Foundation (WCF)](https://docs.microsoft.com/dotnet/framework/wcf/whats-wcf) parlance, gRPC performance meets and exceeds the speed and efficiency of [NetTCP bindings](https://docs.microsoft.com/dotnet/api/system.servicemodel.nettcpbinding?view=netframework-4.8).</span></span> <span data-ttu-id="161cd-127">Anders als C# NetTcp ist GrpC jedoch nicht auf Microsoft-Sprachen wie oder VB.net beschränkt.</span><span class="sxs-lookup"><span data-stu-id="161cd-127">However, unlike NetTCP, gRPC isn't constrained to Microsoft languages such as C# or VB.NET.</span></span>

<span data-ttu-id="161cd-128">GrpC wird auf den beliebtesten Plattformen, einschließlich Java, C#, golang und nodejs, unterstützt.</span><span class="sxs-lookup"><span data-stu-id="161cd-128">gRPC is supported across most popular platforms, including Java, C#, Golang, and NodeJS.</span></span>

## <a name="protocol-buffers"></a><span data-ttu-id="161cd-129">Protokollpuffer</span><span class="sxs-lookup"><span data-stu-id="161cd-129">Protocol Buffers</span></span>

<span data-ttu-id="161cd-130">GrpC umfasst eine andere Open Source-Technologie namens [Protokollpuffer](https://developers.google.com/protocol-buffers/docs/overview) oder protobuf-Nachrichten zum Senden und empfangen von Daten.</span><span class="sxs-lookup"><span data-stu-id="161cd-130">gRPC embraces another open-source technology called [Protocol Buffers](https://developers.google.com/protocol-buffers/docs/overview) or Protobuf messages to send and receive data.</span></span> <span data-ttu-id="161cd-131">Ähnlich wie bei einem [WCF-Datenvertrag](https://docs.microsoft.com/dotnet/framework/wcf/feature-details/using-data-contracts)werden von protobuf strukturierte Daten für das Lesen und Schreiben von Systemen serialisiert.</span><span class="sxs-lookup"><span data-stu-id="161cd-131">Similar to a [WCF Data Contract](https://docs.microsoft.com/dotnet/framework/wcf/feature-details/using-data-contracts), Protobuf serializes structured data for systems to read and write.</span></span> <span data-ttu-id="161cd-132">Dadurch wird der Aufwand reduziert, der von menschenlesbaren Formaten wie XML oder JSON verursacht wird.</span><span class="sxs-lookup"><span data-stu-id="161cd-132">It reduces the overhead that human-readable formats like XML or JSON incur.</span></span>

<span data-ttu-id="161cd-133">Viele objektserialisierungstechniken reflektieren die Struktur von Datenobjekten zur Laufzeit.</span><span class="sxs-lookup"><span data-stu-id="161cd-133">Many object serialization techniques reflect across the structure of data objects at run-time.</span></span> <span data-ttu-id="161cd-134">Protobuf erfordert, dass Sie die Struktur im Vordergrund mit einer Platt Form agnostischen Sprache (Protokollpuffer Sprache) definieren.</span><span class="sxs-lookup"><span data-stu-id="161cd-134">Protobuf requires you to define the structure up front with a platform-agnostic language (Protocol Buffer Language).</span></span> <span data-ttu-id="161cd-135">Jede Definition wird in einer ". proto"-Datei gespeichert.</span><span class="sxs-lookup"><span data-stu-id="161cd-135">Each definition is stored in a ".proto" file.</span></span> <span data-ttu-id="161cd-136">Anschließend generieren Sie mithilfe des protobuf-Compilers "Proton" Client-und Servercode für jede der unterstützten Plattformen.</span><span class="sxs-lookup"><span data-stu-id="161cd-136">Then using Protobuf compiler, "Proton," you generate client and server code for any of the supported platforms.</span></span> <span data-ttu-id="161cd-137">Der generierte Code ist für die schnelle Serialisierung/Deserialisierung von Daten optimiert.</span><span class="sxs-lookup"><span data-stu-id="161cd-137">The generated code is optimized for fast serialization/deserialization of data.</span></span> <span data-ttu-id="161cd-138">Zur Laufzeit wird jede Nachricht in den stark typisierten Dienstvertrag umgeschrieben und in einer standardmäßigen protobuf-Darstellung serialisiert.</span><span class="sxs-lookup"><span data-stu-id="161cd-138">At runtime, each message is wrapped in the strongly-typed service contract and serialized in a standard Protobuf representation.</span></span>

## <a name="grpc-support-in-net"></a><span data-ttu-id="161cd-139">GrpC-Unterstützung in .net</span><span class="sxs-lookup"><span data-stu-id="161cd-139">gRPC support in .NET</span></span>

<span data-ttu-id="161cd-140">Das Microsoft .net Core-Framework 3,0 umfasst Tools und Native Unterstützung für GrpC.</span><span class="sxs-lookup"><span data-stu-id="161cd-140">The Microsoft .NET Core framework 3.0 includes tooling and native support for gRPC.</span></span> <span data-ttu-id="161cd-141">In Abbildung 4-20 wird die Visual Studio 2019-Vorlage gezeigt, die ein GrpC-Skelett Projekt für einen GrpC-Dienst gerükt.</span><span class="sxs-lookup"><span data-stu-id="161cd-141">Figure 4-20 shows the Visual Studio 2019 template that scaffolds a gRPC skeleton project for a gRPC service.</span></span> <span data-ttu-id="161cd-142">Beachten Sie, dass .net Core Windows-, Linux-und macOS-Plattformen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="161cd-142">Note how .NET Core supports the Windows, Linux, and macOS platforms.</span></span>

![GrpC-Unterstützung in Visual Studio 2019](./media/visual-studio-2019-grpc-template.png)

<span data-ttu-id="161cd-144">**Abbildung 4-20:**</span><span class="sxs-lookup"><span data-stu-id="161cd-144">**Figure 4-20**.</span></span> <span data-ttu-id="161cd-145">GrpC-Unterstützung in Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="161cd-145">gRPC support in Visual Studio 2019</span></span>

<span data-ttu-id="161cd-146">.Net Core 3,0 integriert GrpC nahtlos in sein Framework, einschließlich Endpunkt Routing, integrierter IOC-Unterstützung und Protokollierung.</span><span class="sxs-lookup"><span data-stu-id="161cd-146">.NET Core 3.0 seamlessly integrates gRPC into its framework, including endpoint routing, built-in IoC support, and logging.</span></span> <span data-ttu-id="161cd-147">Der Open Source-Kestrel-Webserver bietet vollständige Unterstützung für http/2-Verbindungen.</span><span class="sxs-lookup"><span data-stu-id="161cd-147">The open-source Kestrel web server fully supports HTTP/2 connections.</span></span>

<span data-ttu-id="161cd-148">Abbildung 4-21 zeigt die Struktur eines GrpC-Dienstanbieter in Visual Studio 2019.</span><span class="sxs-lookup"><span data-stu-id="161cd-148">Figure 4-21 shows structure of a gRPC service in Visual Studio 2019.</span></span> <span data-ttu-id="161cd-149">Beachten Sie, dass die Ordnerstruktur Ordner für die Proto-Dateien und den Dienst Code enthält.</span><span class="sxs-lookup"><span data-stu-id="161cd-149">Note how the folder structure includes folders for the proto files and service code.</span></span>

![GrpC-Projekt in Visual Studio 2019](./media/grpc-project.png  )

<span data-ttu-id="161cd-151">**Abbildung 4-21:**</span><span class="sxs-lookup"><span data-stu-id="161cd-151">**Figure 4-21**.</span></span> <span data-ttu-id="161cd-152">GrpC-Projekt in Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="161cd-152">gRPC project in Visual Studio 2019</span></span>

## <a name="grpc-usage"></a><span data-ttu-id="161cd-153">GrpC-Nutzung</span><span class="sxs-lookup"><span data-stu-id="161cd-153">gRPC Usage</span></span>

<span data-ttu-id="161cd-154">GrpC eignet sich gut für die folgenden Szenarien:</span><span class="sxs-lookup"><span data-stu-id="161cd-154">gRPC is well suited for the following scenarios:</span></span>

- <span data-ttu-id="161cd-155">Kommunikation mit niedriger Latenz und hohem Durchsatz.</span><span class="sxs-lookup"><span data-stu-id="161cd-155">Low latency and high throughput communication.</span></span> <span data-ttu-id="161cd-156">GrpC eignet sich hervorragend für Lightweight-Dienste, bei denen die Effizienz wichtig ist.</span><span class="sxs-lookup"><span data-stu-id="161cd-156">gRPC is great for lightweight microservices where efficiency is critical.</span></span>
- <span data-ttu-id="161cd-157">Punkt-zu-Punkt-Echtzeitkommunikation.</span><span class="sxs-lookup"><span data-stu-id="161cd-157">Point-to-point real-time communication.</span></span> <span data-ttu-id="161cd-158">GrpC bietet hervorragende Unterstützung für bidirektionales Streaming.</span><span class="sxs-lookup"><span data-stu-id="161cd-158">gRPC has excellent support for bi-directional streaming.</span></span> <span data-ttu-id="161cd-159">GrpC-Dienste können Nachrichten in Echtzeit ohne Abruf per Push Übertragung.</span><span class="sxs-lookup"><span data-stu-id="161cd-159">gRPC services can push messages in real time without polling.</span></span>
- <span data-ttu-id="161cd-160">Polyglot-Umgebungen – die GrpC-Tools unterstützen die meisten gängigen Entwicklungs Sprachen, sodass Sie für mehrsprachige Umgebungen geeignet sind.</span><span class="sxs-lookup"><span data-stu-id="161cd-160">Polyglot environments – gRPC tooling supports most popular development languages, making it a good choice for multi-language environments.</span></span>
- <span data-ttu-id="161cd-161">Eingeschränkte Netzwerkumgebungen – GrpC-Nachrichten werden mit protobuf serialisiert, einem einfachen Nachrichtenformat.</span><span class="sxs-lookup"><span data-stu-id="161cd-161">Network constrained environments – gRPC messages are serialized with Protobuf, a lightweight message format.</span></span> <span data-ttu-id="161cd-162">Eine GrpC-Nachricht ist immer kleiner als eine entsprechende JSON-Nachricht.</span><span class="sxs-lookup"><span data-stu-id="161cd-162">A gRPC message is always smaller than an equivalent JSON message.</span></span>

<span data-ttu-id="161cd-163">Zum Zeitpunkt des Schreibens dieses Buchs haben die meisten Browser eingeschränkte Unterstützung für GrpC.</span><span class="sxs-lookup"><span data-stu-id="161cd-163">At the time of writing of this book, most browsers have limited support for gRPC.</span></span> <span data-ttu-id="161cd-164">GrpC verwendet häufig http/2-Features, und kein Browser bietet die erforderliche Kontrolle über Webanforderungen zur Unterstützung eines GrpC-Clients.</span><span class="sxs-lookup"><span data-stu-id="161cd-164">gRPC heavily uses HTTP/2 features and no browser provides the level of control required over web requests to support a gRPC client.</span></span> <span data-ttu-id="161cd-165">GrpC wird in der Regel für die interne Kommunikation zwischen einem Dienst und einem mikroservice verwendet.</span><span class="sxs-lookup"><span data-stu-id="161cd-165">gRPC is typically used for internal microservice to microservice communication.</span></span> <span data-ttu-id="161cd-166">Abbildung 4-22 zeigt ein einfaches, aber gängiges Verwendungs Muster.</span><span class="sxs-lookup"><span data-stu-id="161cd-166">Figure 4-22 shows a simple, but common usage pattern.</span></span>

![GrpC-Verwendungs Muster](./media/grpc-usage.png)

<span data-ttu-id="161cd-168">**Abbildung 4-22.**</span><span class="sxs-lookup"><span data-stu-id="161cd-168">**Figure 4-22**.</span></span> <span data-ttu-id="161cd-169">GrpC-Verwendungs Muster</span><span class="sxs-lookup"><span data-stu-id="161cd-169">gRPC usage patterns</span></span>

<span data-ttu-id="161cd-170">Beachten Sie in der vorhergehenden Abbildung, wie der Front-End-Datenverkehr mit http aufgerufen wird, während der Back-End-Dienst für den mikrodienst GrpC verwendet.</span><span class="sxs-lookup"><span data-stu-id="161cd-170">Note in the previous figure how front-end traffic is invoked with HTTP while back-end microservice to microservice uses gRPC.</span></span>

<span data-ttu-id="161cd-171">In der Vorschau könnte GrpC eine wichtige Rolle bei der Migration der Dominanz von Rest für cloudnative Systeme spielen.</span><span class="sxs-lookup"><span data-stu-id="161cd-171">Looking ahead, gRPC could play a major role in dethroning the dominance of REST for cloud-native systems.</span></span> <span data-ttu-id="161cd-172">Die Leistungsvorteile und die einfache Entwicklung sind zu gut zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="161cd-172">The performance benefits and ease of development are too good to pass up.</span></span> <span data-ttu-id="161cd-173">Es ist jedoch kein Fehler, Rest ist für einen längeren Zeitraum weiterhin erreichbar.</span><span class="sxs-lookup"><span data-stu-id="161cd-173">However, make no mistake, REST will still be around for a long time.</span></span> <span data-ttu-id="161cd-174">Dies ist für öffentlich verfügbar gemachte APIs und aus Gründen der Abwärtskompatibilität weiterhin hervorragend.</span><span class="sxs-lookup"><span data-stu-id="161cd-174">It still excels for publicly exposed APIs and for backward compatibility reasons.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="161cd-175">[Zurück](service-to-service-communication.md)
>[Weiter](service-mesh-communication-infrastructure.md)</span><span class="sxs-lookup"><span data-stu-id="161cd-175">[Previous](service-to-service-communication.md)
[Next](service-mesh-communication-infrastructure.md)</span></span>
