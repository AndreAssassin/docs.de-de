---
title: Bereitstellen von eShopOnContainers in Azure
description: Bereitstellen der eshoponcontainers-Anwendung mithilfe von Azure Kubernetes Service, Helm und Devspaces.
ms.date: 06/30/2019
ms.openlocfilehash: 21033cc904dc595193c69f3452ce2522740f8ff6
ms.sourcegitcommit: 55f438d4d00a34b9aca9eedaac3f85590bb11565
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/23/2019
ms.locfileid: "73840490"
---
# <a name="deploying-eshoponcontainers-to-azure"></a><span data-ttu-id="d9313-103">Bereitstellen von eShopOnContainers in Azure</span><span class="sxs-lookup"><span data-stu-id="d9313-103">Deploying eShopOnContainers to Azure</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="d9313-104">Die Logik, die die eshoponcontainers-Anwendung unterstützt, kann von Azure mithilfe einer Vielzahl von Diensten unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="d9313-104">The logic supporting the eShopOnContainers application can be supported by Azure using a variety of services.</span></span> <span data-ttu-id="d9313-105">Die empfohlene Vorgehensweise ist die Nutzung von Kubernetes mit Azure Kubernetes Service (AKS).</span><span class="sxs-lookup"><span data-stu-id="d9313-105">The recommended approach is to leverage Kubernetes using Azure Kubernetes Service (AKS).</span></span> <span data-ttu-id="d9313-106">Dies kann mit der Helm-Bereitstellung kombiniert werden, um eine leicht wiederholende Infrastruktur Konfiguration sicherzustellen</span><span class="sxs-lookup"><span data-stu-id="d9313-106">This can be combined with Helm deployment to ensure easily repeated infrastructure configuration.</span></span> <span data-ttu-id="d9313-107">Optional können Entwickler im Rahmen Ihres Entwicklungsprozesses Azure dev Spaces für Kubernetes nutzen.</span><span class="sxs-lookup"><span data-stu-id="d9313-107">Optionally, developers can leverage Azure Dev Spaces for Kubernetes as part of their development process.</span></span> <span data-ttu-id="d9313-108">Eine weitere Möglichkeit besteht darin, die Funktionen der App mithilfe von Features von Azure Server less wie Azure Functions und Azure Logic apps zu hosten.</span><span class="sxs-lookup"><span data-stu-id="d9313-108">Another option is to host the functionality of the app using Azure Serverless features like Azure Functions and Azure Logic Apps.</span></span>

## <a name="azure-kubernetes-service"></a><span data-ttu-id="d9313-109">Azure Kubernetes Service</span><span class="sxs-lookup"><span data-stu-id="d9313-109">Azure Kubernetes Service</span></span>

<span data-ttu-id="d9313-110">Wenn Sie die Anwendung eshoponcontainers in Ihrem eigenen AKS-Cluster hosten möchten, besteht der erste Schritt darin, den Cluster zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="d9313-110">If you'd like to host the eShopOnContainers application in your own AKS cluster, the first step is to create your cluster.</span></span> <span data-ttu-id="d9313-111">Hierzu können Sie das Azure-Portal verwenden, das Sie durch die erforderlichen Schritte führt, oder Sie können die Azure CLI verwenden. Achten Sie dabei darauf, dass Sie die rollenbasierte Access Control (Role-Based, RBAC) und das Anwendungs Routing aktivieren.</span><span class="sxs-lookup"><span data-stu-id="d9313-111">You can do this using the Azure portal, which will walk you through the required steps, or you can use the Azure CLI, taking care to ensure you enable Role-Based Access Control (RBAC) and application routing when you do so.</span></span> <span data-ttu-id="d9313-112">In der Dokumentation zu eshoponcontainers werden die Schritte zum Erstellen eines eigenen AKS-Clusters beschrieben.</span><span class="sxs-lookup"><span data-stu-id="d9313-112">The eShopOnContainers' documentation describes the steps involved in creating your own AKS cluster.</span></span> <span data-ttu-id="d9313-113">Nachdem der Cluster erstellt wurde, müssen Sie den Zugriff auf das Kubernetes-Dashboard aktivieren. an diesem Punkt sollten Sie zum Kubernetes-Dashboard navigieren können, um den Cluster zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="d9313-113">Once the cluster is created, you must enable access to the Kubernetes dashboard, at which point you should be able to browse to the Kubernetes dashboard to manage the cluster.</span></span>

<span data-ttu-id="d9313-114">Nachdem der Cluster erstellt und konfiguriert wurde, können Sie die Anwendung mithilfe von Helm und Tiller bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="d9313-114">Once the cluster has been created and configured, you can deploy the application to it using Helm and Tiller.</span></span>

## <a name="deploying-to-azure-kubernetes-service-using-helm"></a><span data-ttu-id="d9313-115">Bereitstellen in Azure Kubernetes Dienst mithilfe von Helm</span><span class="sxs-lookup"><span data-stu-id="d9313-115">Deploying to Azure Kubernetes Service using Helm</span></span>

<span data-ttu-id="d9313-116">Bei einfachen bereit Stellungen für AKS können benutzerdefinierte CLI-Skripts oder einfache Bereitstellungs Dateien verwendet werden. komplexere Anwendungen sollten jedoch ein Tool für die Abhängigkeits Verwaltung wie Helm verwenden.</span><span class="sxs-lookup"><span data-stu-id="d9313-116">Basic deployments to AKS may use custom CLI scripts or simple deployment files, but more complex applications should use a dependency management tool like Helm.</span></span> <span data-ttu-id="d9313-117">Helm wird von der Cloud Native Computing Foundation verwaltet und unterstützt Sie beim definieren, installieren und Upgraden von Kubernetes-Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="d9313-117">Helm is maintained by the Cloud-native Computing Foundation and helps you define, install, and upgrade Kubernetes applications.</span></span> <span data-ttu-id="d9313-118">Helm besteht aus einem Befehlszeilen Client, Helm, der Helm-Diagramme verwendet, und einer in-Cluster-Komponente (Tiller).</span><span class="sxs-lookup"><span data-stu-id="d9313-118">Helm is composed of a command-line client, helm, which uses helm charts, and an in-cluster component, Tiller.</span></span> <span data-ttu-id="d9313-119">Helm-Diagramme verwenden standardmäßige YAML-formatierte Dateien, um einen zugehörigen Satz von Kubernetes-Ressourcen zu beschreiben, und werden in der Regel neben der von Ihnen beschriebenen Anwendung versioniert.</span><span class="sxs-lookup"><span data-stu-id="d9313-119">Helm Charts use standard YAML-formatted files to describe a related set of Kubernetes resources and are typically versioned alongside the application they describe.</span></span> <span data-ttu-id="d9313-120">Helm-Diagramme reichen von einfachen bis zu komplexen Anforderungen, je nach den Anforderungen der von Ihnen beschriebenen Installation.</span><span class="sxs-lookup"><span data-stu-id="d9313-120">Helm Charts range from simple to complex depending on the requirements of the installation they describe.</span></span>

<span data-ttu-id="d9313-121">Sie finden die eshoponcontainers Helm-Diagramme im Ordner "/k8s/Helm".</span><span class="sxs-lookup"><span data-stu-id="d9313-121">You'll find the eShopOnContainers helm charts in the /k8s/helm folder.</span></span> <span data-ttu-id="d9313-122">In Abbildung 2-6 wird dargestellt, wie die verschiedenen Komponenten der Anwendung in einer Ordnerstruktur angeordnet sind, die von Helm zum Definieren und Verwalten von bereit Stellungen verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="d9313-122">Figure 2-6 shows how the different components of the application are organized into a folder structure used by helm to define and managed deployments.</span></span>

<span data-ttu-id="d9313-123">![eshoponcontainers-Architektur](./media/eshoponcontainers-helm-folder.png)
**Abbildung 2-6**.</span><span class="sxs-lookup"><span data-stu-id="d9313-123">![eShopOnContainers Architecture](./media/eshoponcontainers-helm-folder.png)
**Figure 2-6**.</span></span> <span data-ttu-id="d9313-124">Der Ordner "eshoponcontainers Helm".</span><span class="sxs-lookup"><span data-stu-id="d9313-124">The eShopOnContainers helm folder.</span></span>

<span data-ttu-id="d9313-125">Jede einzelne Komponente wird mit einem `helm install` Befehl installiert.</span><span class="sxs-lookup"><span data-stu-id="d9313-125">Each individual component is installed using a `helm install` command.</span></span> <span data-ttu-id="d9313-126">Diese Befehle können problemlos in Skripts geschrieben werden, und eshoponcontainers stellt ein "alle bereitstellen"-Skript bereit, das die verschiedenen Komponenten durchläuft und Sie mithilfe der jeweiligen Helm-Diagramme installiert.</span><span class="sxs-lookup"><span data-stu-id="d9313-126">These commands are easily scripted, and eShopOnContainers provides a "deploy all" script that loops through the different components and installs them using their respective helm charts.</span></span> <span data-ttu-id="d9313-127">Das Ergebnis ist ein wiederholbarer Prozess, der mit der Anwendung in der Quell Code Verwaltung versioniert ist, die jeder Person im Team mit einem einzeiligen Skript Befehl in einem AKS-Cluster bereitstellen kann.</span><span class="sxs-lookup"><span data-stu-id="d9313-127">The result is a repeatable process, versioned with the application in source control, that anyone on the team can deploy to an AKS cluster with a one-line script command.</span></span> <span data-ttu-id="d9313-128">Insbesondere in Kombination mit Azure dev Spaces ist es für Entwickler einfach, Ihre individuellen Änderungen an Ihren auf dem eigenen Dienst basierenden cloudbasierten apps zu diagnostizieren und zu testen.</span><span class="sxs-lookup"><span data-stu-id="d9313-128">Especially when combined with Azure Dev Spaces, this makes it easy for developers to diagnose and test their individual changes to their microservice-based cloud-native apps.</span></span>

## <a name="azure-dev-spaces"></a><span data-ttu-id="d9313-129">Azure Dev Spaces</span><span class="sxs-lookup"><span data-stu-id="d9313-129">Azure Dev Spaces</span></span>

<span data-ttu-id="d9313-130">Azure dev Spaces unterstützt einzelne Entwickler bei der Entwicklung bei der Host Ausführung ihrer eigenen eindeutigen Version der AKS-Cluster in Azure.</span><span class="sxs-lookup"><span data-stu-id="d9313-130">Azure Dev Spaces helps individual developers host their own unique version of AKS clusters in Azure during development.</span></span> <span data-ttu-id="d9313-131">Dies minimiert die Anforderungen an den lokalen Computer und ermöglicht es Teammitgliedern, schnell zu sehen, wie sich Ihre Änderungen in einer echten AKS-Umgebung Verhalten.</span><span class="sxs-lookup"><span data-stu-id="d9313-131">This minimizes local machine requirements and allows team members to quickly see how their changes will behave in a real AKS environment.</span></span> <span data-ttu-id="d9313-132">Azure dev Spaces bietet eine Befehlszeilenschnittstelle, mit der Entwickler ihre Entwickler Räume verwalten und bei Bedarf auf einem bestimmten untergeordneten Entwicklungsbereich bereitstellen können.</span><span class="sxs-lookup"><span data-stu-id="d9313-132">Azure Dev Spaces offers a CLI for developers to use to manage their dev spaces and to deploy to a specific child dev space as needed.</span></span> <span data-ttu-id="d9313-133">Auf jeden untergeordneten Entwicklungsbereich wird unter Verwendung einer eindeutigen URL-Unterdomäne verwiesen. Dies ermöglicht die parallele Bereitstellung von geänderten Clustern, sodass einzelne Entwickler Konflikte zwischen den einzelnen in Bearbeitung befindlichen Aufgaben vermeiden können.</span><span class="sxs-lookup"><span data-stu-id="d9313-133">Each child dev space is referenced using a unique URL subdomain, allowing side-by-side deployments of modified clusters so that individual developers can avoid conflicting with each other's work in progress.</span></span> <span data-ttu-id="d9313-134">In Abbildung 2-7 können Sie sehen, wie Entwickler Susie ihre eigene Version des Bikes-mikroservice in Ihrem Entwicklungsbereich bereitgestellt haben.</span><span class="sxs-lookup"><span data-stu-id="d9313-134">In Figure 2-7 you can see how developer Susie has deployed her own version of the Bikes microservice into her dev space.</span></span> <span data-ttu-id="d9313-135">Sie kann Ihre Änderungen dann mithilfe einer benutzerdefinierten URL testen, beginnend mit dem Namen Ihres Platzes (Susie.s.dev.MyApp.EUS.azds.IO).</span><span class="sxs-lookup"><span data-stu-id="d9313-135">She's then able to test her changes using a custom URL starting with the name of her space (susie.s.dev.myapp.eus.azds.io).</span></span>

<span data-ttu-id="d9313-136">![eshoponcontainers-Architektur](./media/azure-devspaces-one.png)
**Abbildung 2-7**.</span><span class="sxs-lookup"><span data-stu-id="d9313-136">![eShopOnContainers Architecture](./media/azure-devspaces-one.png)
**Figure 2-7**.</span></span> <span data-ttu-id="d9313-137">Developer Susie stellt eine eigene Version des Bikes-mikroservice bereit und testet Sie.</span><span class="sxs-lookup"><span data-stu-id="d9313-137">Developer Susie deploys her own version of the Bikes microservice and tests it.</span></span>

<span data-ttu-id="d9313-138">Gleichzeitig passt der Entwickler John den "Reservierungen"-mikroservice an und muss seine Änderungen testen.</span><span class="sxs-lookup"><span data-stu-id="d9313-138">At the same time, developer John is customizing the Reservations microservice and needs to test his changes.</span></span> <span data-ttu-id="d9313-139">Er ist in der Lage, seine Änderungen in seinem eigenen Entwicklungsbereich bereitzustellen, ohne in Konflikt mit den Änderungen von Susie zu stehen, wie in Abbildung 2-8 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="d9313-139">He's able to deploy his changes to his own dev space without conflicting with Susie's changes as shown in Figure 2-8.</span></span> <span data-ttu-id="d9313-140">Er kann seine Änderungen mit seiner eigenen URL testen, der der Name seines leer Zeichens (John.s.dev.MyApp.EUS.azds.IO) vorangestellt ist.</span><span class="sxs-lookup"><span data-stu-id="d9313-140">He can test his changes using his own URL which is prefixed with the name of his space (john.s.dev.myapp.eus.azds.io).</span></span>

<span data-ttu-id="d9313-141">![eshoponcontainers-Architektur](./media/azure-devspaces-two.png)
**Abbildung 2-8**.</span><span class="sxs-lookup"><span data-stu-id="d9313-141">![eShopOnContainers Architecture](./media/azure-devspaces-two.png)
**Figure 2-8**.</span></span> <span data-ttu-id="d9313-142">Entwickler John stellt seine eigene Version des Reservierungs-und Test Dienstanbieter bereit und testet diese, ohne mit anderen Entwicklern in Konflikt zu geraten.</span><span class="sxs-lookup"><span data-stu-id="d9313-142">Developer John deploys his own version of the Reservations microservice and tests it without conflicting with other developers.</span></span>

<span data-ttu-id="d9313-143">Mithilfe Azure dev Spaces können Teams direkt mit AKS arbeiten, während Sie Ihre Änderungen unabhängig voneinander ändern, bereitstellen und testen.</span><span class="sxs-lookup"><span data-stu-id="d9313-143">Using Azure Dev Spaces, teams can work directly with AKS while independently changing, deploying, and testing their changes.</span></span> <span data-ttu-id="d9313-144">Diese Vorgehensweise verringert den Bedarf an separaten dedizierten gehosteten Umgebungen, da jeder Entwickler effektiv über eine eigene AKS-Umgebung verfügt.</span><span class="sxs-lookup"><span data-stu-id="d9313-144">This approach reduces the need for separate dedicated hosted environments since every developer effectively has their own AKS environment.</span></span> <span data-ttu-id="d9313-145">Entwickler können mit der Befehlszeilenschnittstelle Azure dev Spaces arbeiten oder Ihre Anwendung starten, um direkt von Visual Studio aus zu Azure dev Spaces.</span><span class="sxs-lookup"><span data-stu-id="d9313-145">Developers can work with Azure Dev Spaces using its CLI or launch their application to Azure Dev Spaces directly from Visual Studio.</span></span> [<span data-ttu-id="d9313-146">Erfahren Sie mehr darüber, wie Azure dev Spaces funktioniert und konfiguriert ist.</span><span class="sxs-lookup"><span data-stu-id="d9313-146">Learn more about how Azure Dev Spaces works and is configured.</span></span>](https://docs.microsoft.com/azure/dev-spaces/how-dev-spaces-works)

## <a name="azure-functions-and-logic-apps-serverless"></a><span data-ttu-id="d9313-147">Azure Functions und Logic Apps (Server lose)</span><span class="sxs-lookup"><span data-stu-id="d9313-147">Azure Functions and Logic Apps (Serverless)</span></span>

<span data-ttu-id="d9313-148">Das eshoponcontainers-Beispiel bietet Unterstützung für die Nachverfolgung von Online Marketingkampagnen.</span><span class="sxs-lookup"><span data-stu-id="d9313-148">The eShopOnContainers sample includes support for tracking online marketing campaigns.</span></span> <span data-ttu-id="d9313-149">Eine Azure-Funktion wird zum Abrufen von Marketingkampagnen Details für eine bestimmte Kampagnen-ID verwendet.</span><span class="sxs-lookup"><span data-stu-id="d9313-149">An Azure Function is used to pull marketing campaign details for a given campaign ID.</span></span> <span data-ttu-id="d9313-150">Anstatt zu diesem Zweck eine komplette ASP.net Core Anwendung zu erstellen, ist ein einzelner Azure-Funktions Endpunkt einfacher und ausreichend.</span><span class="sxs-lookup"><span data-stu-id="d9313-150">Rather than creating a complete ASP.NET Core application for this purpose, a single Azure Function endpoint is simpler and sufficient.</span></span> <span data-ttu-id="d9313-151">Azure Functions haben ein viel einfacheres Build-und Bereitstellungs Modell als vollständige ASP.net Core Anwendungen, insbesondere, wenn es für die Verwendung in Kubernetes konfiguriert ist.</span><span class="sxs-lookup"><span data-stu-id="d9313-151">Azure Functions have a much simpler build and deployment model than full ASP.NET Core applications, especially when configured to run in Kubernetes.</span></span> <span data-ttu-id="d9313-152">Das Bereitstellen der Funktion erfolgt mithilfe von Azure Resource Manager (Arm)-Vorlagen und der Azure CLI.</span><span class="sxs-lookup"><span data-stu-id="d9313-152">Deploying the function is scripted using Azure Resource Manager (ARM) templates and the Azure CLI.</span></span> <span data-ttu-id="d9313-153">Dieser felddetailsmikrodienst ist nicht kundenseitig und hat nicht die gleichen Anforderungen wie der Online Shop, sodass er für Azure Functions geeignet ist.</span><span class="sxs-lookup"><span data-stu-id="d9313-153">This campaign details microservice isn't customer-facing and doesn't have the same requirements as the online store, making it a good candidate for Azure Functions.</span></span> <span data-ttu-id="d9313-154">Die Funktion erfordert, dass einige Konfigurationen ordnungsgemäß funktionieren, wie z. b. Daten bankverbindungs Zeichenfolgen-Daten und URI-Basis Einstellungen</span><span class="sxs-lookup"><span data-stu-id="d9313-154">The function requires some configuration to work properly, such as database connection string data and image base URI settings.</span></span> <span data-ttu-id="d9313-155">Sie konfigurieren Azure Functions im Azure-Portal.</span><span class="sxs-lookup"><span data-stu-id="d9313-155">You configure Azure Functions in the Azure Portal.</span></span>

## <a name="references"></a><span data-ttu-id="d9313-156">Verweise</span><span class="sxs-lookup"><span data-stu-id="d9313-156">References</span></span>

- <span data-ttu-id="d9313-157">[eshoponcontainers: Erstellen eines Kubernetes-Clusters in AKS](https://github.com/dotnet-architecture/eShopOnContainers/wiki/Deploy-to-Azure-Kubernetes-Service-(AKS)#create-kubernetes-cluster-in-aks)</span><span class="sxs-lookup"><span data-stu-id="d9313-157">[eShopOnContainers: Create Kubernetes cluster in AKS](https://github.com/dotnet-architecture/eShopOnContainers/wiki/Deploy-to-Azure-Kubernetes-Service-(AKS)#create-kubernetes-cluster-in-aks)</span></span>
- [<span data-ttu-id="d9313-158">eshoponcontainers: Azure dev Spaces</span><span class="sxs-lookup"><span data-stu-id="d9313-158">eShopOnContainers: Azure Dev Spaces</span></span>](https://github.com/dotnet-architecture/eShopOnContainers/wiki/Azure-Dev-Spaces)
- [<span data-ttu-id="d9313-159">Azure Dev Spaces</span><span class="sxs-lookup"><span data-stu-id="d9313-159">Azure Dev Spaces</span></span>](https://docs.microsoft.com/azure/dev-spaces/about)

>[!div class="step-by-step"]
><span data-ttu-id="d9313-160">[Zurück](map-eshoponcontainers-azure-services.md)
>[Weiter](centralized-configuration.md)</span><span class="sxs-lookup"><span data-stu-id="d9313-160">[Previous](map-eshoponcontainers-azure-services.md)
[Next](centralized-configuration.md)</span></span>
