---
title: gRPC
description: Erfahren Sie mehr über gRPC, seine Rolle in Cloud-nativen Anwendungen und wie es sich von der HTTP RESTful-Kommunikation unterscheidet.
author: robvet
ms.date: 03/31/2020
ms.openlocfilehash: 28a07ad5ec105d3fc5b65e4cf0ac0cd85eb16627
ms.sourcegitcommit: 79b0dd8bfc63f33a02137121dd23475887ecefda
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/01/2020
ms.locfileid: "80524208"
---
# <a name="grpc"></a><span data-ttu-id="6d54c-103">gRPC</span><span class="sxs-lookup"><span data-stu-id="6d54c-103">gRPC</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="6d54c-104">Bisher haben wir uns in diesem Buch auf [REST-basierte](https://docs.microsoft.com/azure/architecture/best-practices/api-design) Kommunikation konzentriert.</span><span class="sxs-lookup"><span data-stu-id="6d54c-104">So far in this book, we've focused on [REST-based](https://docs.microsoft.com/azure/architecture/best-practices/api-design) communication.</span></span> <span data-ttu-id="6d54c-105">Wir haben gesehen, dass REST ein flexibler Architekturstil ist, der CRUD-basierte Vorgänge für Entitätsressourcen definiert.</span><span class="sxs-lookup"><span data-stu-id="6d54c-105">We've seen that REST is a flexible architectural style that defines CRUD-based operations against entity resources.</span></span> <span data-ttu-id="6d54c-106">Clients interagieren mit Ressourcen über HTTP mit einem Anforderungs-/Antwortkommunikationsmodell.</span><span class="sxs-lookup"><span data-stu-id="6d54c-106">Clients interact with resources across HTTP with a request/response communication model.</span></span> <span data-ttu-id="6d54c-107">Während REST weithin implementiert ist, hat eine neuere Kommunikationstechnologie, gRPC, enorme Dynamik in der Cloud-nativen Community gewonnen.</span><span class="sxs-lookup"><span data-stu-id="6d54c-107">While REST is widely implemented, a newer communication technology, gRPC, has gained tremendous momentum across the cloud-native community.</span></span>

## <a name="what-is-grpc"></a><span data-ttu-id="6d54c-108">Was ist gRPC?</span><span class="sxs-lookup"><span data-stu-id="6d54c-108">What is gRPC?</span></span>

<span data-ttu-id="6d54c-109">gRPC ist ein modernes, leistungsstarkes Framework, das das uralte [RPC-Protokoll (Remote Procedure Call)](https://en.wikipedia.org/wiki/Remote_procedure_call) weiterentwickelt.</span><span class="sxs-lookup"><span data-stu-id="6d54c-109">gRPC is a modern, high-performance framework that evolves the age-old [remote procedure call (RPC)](https://en.wikipedia.org/wiki/Remote_procedure_call) protocol.</span></span> <span data-ttu-id="6d54c-110">Auf Anwendungsebene optimiert gRPC die Nachrichtenübermittlung zwischen Clients und Back-End-Diensten.</span><span class="sxs-lookup"><span data-stu-id="6d54c-110">At the application level, gRPC streamlines messaging between clients and back-end services.</span></span> <span data-ttu-id="6d54c-111">gRPC stammt von Google und ist Open Source und Teil des [Cloud Native Computing Foundation (CNCF)](https://www.cncf.io/) Ökosystems von Cloud-nativen Angeboten.</span><span class="sxs-lookup"><span data-stu-id="6d54c-111">Originating from Google, gRPC is open source and part of the  [Cloud Native Computing Foundation (CNCF)](https://www.cncf.io/) ecosystem of cloud-native offerings.</span></span> <span data-ttu-id="6d54c-112">CNCF betrachtet gRPC als [Inkubationsprojekt](https://github.com/cncf/toc/blob/master/process/graduation_criteria.adoc).</span><span class="sxs-lookup"><span data-stu-id="6d54c-112">CNCF considers gRPC an [incubating project](https://github.com/cncf/toc/blob/master/process/graduation_criteria.adoc).</span></span> <span data-ttu-id="6d54c-113">Inkubation bedeutet, dass Endbenutzer die Technologie in Produktionsanwendungen verwenden, und das Projekt hat eine gesunde Anzahl von Mitwirkenden.</span><span class="sxs-lookup"><span data-stu-id="6d54c-113">Incubating means end users are using the technology in production applications, and the project has a healthy number of contributors.</span></span>

<span data-ttu-id="6d54c-114">Eine typische gRPC-Client-App macht eine lokale, prozessverarbeitende Funktion verfügbar, die einen Geschäftsvorgang implementiert.</span><span class="sxs-lookup"><span data-stu-id="6d54c-114">A typical gRPC client app will expose a local, in-process function that implements a business operation.</span></span> <span data-ttu-id="6d54c-115">Unter den Abdeckungen ruft diese lokale Funktion eine andere Funktion auf einem Remotecomputer auf.</span><span class="sxs-lookup"><span data-stu-id="6d54c-115">Under the covers, that local function invokes another function on a remote machine.</span></span> <span data-ttu-id="6d54c-116">Was wie ein lokaler Anruf aussieht, wird im Wesentlichen zu einem transparenten, out-of-process-Aufruf an einen Remotedienst.</span><span class="sxs-lookup"><span data-stu-id="6d54c-116">What appears to be a local call essentially becomes a transparent out-of-process call to a remote service.</span></span> <span data-ttu-id="6d54c-117">Das RPC-Rohr abstrahiert die Punkt-zu-Punkt-Netzwerkkommunikation, Serialisierung und Ausführung zwischen Computern.</span><span class="sxs-lookup"><span data-stu-id="6d54c-117">The RPC plumbing abstracts the point-to-point networking communication, serialization, and execution between computers.</span></span>

<span data-ttu-id="6d54c-118">In Cloud-nativen Anwendungen arbeiten Entwickler häufig über Programmiersprachen, Frameworks und Technologien hinweg.</span><span class="sxs-lookup"><span data-stu-id="6d54c-118">In cloud-native applications, developers often work across programming languages, frameworks, and technologies.</span></span> <span data-ttu-id="6d54c-119">Diese *Interoperabilität* erschwert Nachrichtenverträge und die für die plattformübergreifende Kommunikation erforderlichen Sanitäranlagen.</span><span class="sxs-lookup"><span data-stu-id="6d54c-119">This *interoperability* complicates message contracts and the plumbing required for cross-platform communication.</span></span>  <span data-ttu-id="6d54c-120">gRPC bietet eine "einheitliche horizontale Ebene", die diese Bedenken abstrahiert.</span><span class="sxs-lookup"><span data-stu-id="6d54c-120">gRPC provides a "uniform horizontal layer" that abstracts these concerns.</span></span> <span data-ttu-id="6d54c-121">Entwicklercode in ihrer nativen Plattform konzentrierte sich auf Geschäftsfunktionen, während gRPC Kommunikationsinstallationen verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="6d54c-121">Developers code in their native platform focused on business functionality, while gRPC handles communication plumbing.</span></span>

<span data-ttu-id="6d54c-122">gRPC bietet umfassende Unterstützung für die meisten gängigen Entwicklungs-Stacks, einschließlich Java, JavaScript, C-, Go-, Swift- und NodeJS-Dateien.</span><span class="sxs-lookup"><span data-stu-id="6d54c-122">gRPC offers comprehensive support across most popular development stacks, including Java, JavaScript, C#, Go, Swift, and NodeJS.</span></span>

## <a name="grpc-benefits"></a><span data-ttu-id="6d54c-123">gRPC Vorteile</span><span class="sxs-lookup"><span data-stu-id="6d54c-123">gRPC Benefits</span></span>

<span data-ttu-id="6d54c-124">gRPC verwendet HTTP/2 für sein Transportprotokoll.</span><span class="sxs-lookup"><span data-stu-id="6d54c-124">gRPC uses HTTP/2 for its transport protocol.</span></span> <span data-ttu-id="6d54c-125">Obwohl HTTP/2 mit HTTP 1.1 kompatibel ist, verfügt es über viele erweiterte Funktionen:</span><span class="sxs-lookup"><span data-stu-id="6d54c-125">While compatible with HTTP 1.1, HTTP/2 features many advanced capabilities:</span></span>

- <span data-ttu-id="6d54c-126">Ein binäres Protokoll für den Datentransport - im Gegensatz zu HTTP 1.1, das Daten als Klartext sendet.</span><span class="sxs-lookup"><span data-stu-id="6d54c-126">A binary protocol for data transport - unlike HTTP 1.1, which sends data as clear text.</span></span>
- <span data-ttu-id="6d54c-127">Multiplexing-Unterstützung für das Senden mehrerer paralleler Anforderungen über dieselbe Verbindung – HTTP 1.1 beschränkt die Verarbeitung auf jeweils eine Anforderungs-/Antwortnachricht.</span><span class="sxs-lookup"><span data-stu-id="6d54c-127">Multiplexing support for sending multiple parallel requests over the same connection - HTTP 1.1 limits processing to one request/response message at a time.</span></span>
- <span data-ttu-id="6d54c-128">Bidirektionale Vollduplex-Kommunikation zum gleichzeitigen Senden von Clientanforderungen und Serverantworten.</span><span class="sxs-lookup"><span data-stu-id="6d54c-128">Bidirectional full-duplex communication for sending both client requests and server responses simultaneously.</span></span>
- <span data-ttu-id="6d54c-129">Integriertes Streaming ermöglicht Anforderungen und Antworten zum asynchronen Streamen großer Datensätze.</span><span class="sxs-lookup"><span data-stu-id="6d54c-129">Built-in streaming enabling requests and responses to asynchronously stream large data sets.</span></span>

<span data-ttu-id="6d54c-130">gRPC ist leicht und leistungsstark.</span><span class="sxs-lookup"><span data-stu-id="6d54c-130">gRPC is lightweight and highly performant.</span></span> <span data-ttu-id="6d54c-131">Es kann bis zu 8x schneller als JSON Serialisierung mit Nachrichten 60-80% kleiner sein.</span><span class="sxs-lookup"><span data-stu-id="6d54c-131">It can be up to 8x faster than JSON serialization with messages 60-80% smaller.</span></span> <span data-ttu-id="6d54c-132">In der Sprache der Microsoft [Windows Communication Foundation (WCF)](https://docs.microsoft.com/dotnet/framework/wcf/whats-wcf) übertrifft die gRPC-Leistung die Geschwindigkeit und Effizienz der hochoptimierten [NetTCP-Bindungen](https://docs.microsoft.com/dotnet/api/system.servicemodel.nettcpbinding?view=netframework-4.8).</span><span class="sxs-lookup"><span data-stu-id="6d54c-132">In Microsoft [Windows Communication Foundation (WCF)](https://docs.microsoft.com/dotnet/framework/wcf/whats-wcf) parlance, gRPC performance exceeds the speed and efficiency of the highly optimized [NetTCP bindings](https://docs.microsoft.com/dotnet/api/system.servicemodel.nettcpbinding?view=netframework-4.8).</span></span> <span data-ttu-id="6d54c-133">Im Gegensatz zu NetTCP, das den Microsoft-Stack bevorzugt, ist gRPC plattformübergreifend.</span><span class="sxs-lookup"><span data-stu-id="6d54c-133">Unlike NetTCP, which favors the Microsoft stack, gRPC is cross-platform.</span></span>

## <a name="protocol-buffers"></a><span data-ttu-id="6d54c-134">Protokollpuffer</span><span class="sxs-lookup"><span data-stu-id="6d54c-134">Protocol Buffers</span></span>

<span data-ttu-id="6d54c-135">gRPC umfasst eine Open-Source-Technologie namens [Protocol Buffers](https://developers.google.com/protocol-buffers/docs/overview).</span><span class="sxs-lookup"><span data-stu-id="6d54c-135">gRPC embraces an open-source technology called [Protocol Buffers](https://developers.google.com/protocol-buffers/docs/overview).</span></span> <span data-ttu-id="6d54c-136">Sie bieten ein hocheffizientes und plattformneutrales Serialisierungsformat für die Serialisierung strukturierter Nachrichten, die Dienste aneinander senden.</span><span class="sxs-lookup"><span data-stu-id="6d54c-136">They provide a highly efficient and platform-neutral serialization format for serializing structured messages that services send to each other.</span></span> <span data-ttu-id="6d54c-137">Mithilfe einer plattformübergreifenden Interface Definition Language (IDL) definieren Entwickler einen Servicevertrag für jeden Microservice.</span><span class="sxs-lookup"><span data-stu-id="6d54c-137">Using a cross-platform Interface Definition Language (IDL), developers define a service contract for each microservice.</span></span> <span data-ttu-id="6d54c-138">Der Vertrag, der als `.proto` textbasierte Datei implementiert ist, beschreibt die Methoden, Eingaben und Ausgaben für jeden Dienst.</span><span class="sxs-lookup"><span data-stu-id="6d54c-138">The contract, implemented as a text-based `.proto` file, describes the methods, inputs, and outputs for each service.</span></span> <span data-ttu-id="6d54c-139">Die gleiche Vertragsdatei kann für gRPC-Clients und -Dienste verwendet werden, die auf verschiedenen Entwicklungsplattformen basieren.</span><span class="sxs-lookup"><span data-stu-id="6d54c-139">The same contract file can be used for gRPC clients and services built on different development platforms.</span></span>

<span data-ttu-id="6d54c-140">Mit der Proto-Datei generiert der `protoc`Protobuf-Compiler sowohl Client- als auch Dienstcode für Ihre Zielplattform.</span><span class="sxs-lookup"><span data-stu-id="6d54c-140">Using the proto file, the Protobuf compiler, `protoc`, generates both client and service code for your target platform.</span></span> <span data-ttu-id="6d54c-141">Der Code enthält die folgenden Komponenten:</span><span class="sxs-lookup"><span data-stu-id="6d54c-141">The code includes the following components:</span></span>

- <span data-ttu-id="6d54c-142">Stark typisierte Objekte, die vom Client und Dienst gemeinsam genutzt werden und die Dienstvorgänge und Datenelemente für eine Nachricht darstellen.</span><span class="sxs-lookup"><span data-stu-id="6d54c-142">Strongly-typed objects, shared by the client and service, that represent the service operations and data elements for a message.</span></span>
- <span data-ttu-id="6d54c-143">Eine stark typisierte Basisklasse mit den erforderlichen Netzwerkinstallationen, die der Remote-gRPC-Dienst erben und erweitern kann.</span><span class="sxs-lookup"><span data-stu-id="6d54c-143">A strongly-typed base class with the required network plumbing that the remote gRPC service can inherit and extend.</span></span>
- <span data-ttu-id="6d54c-144">Ein Client-Stub, der die erforderlichen Installationen zum Aufrufen des Remote-gRPC-Dienstes enthält.</span><span class="sxs-lookup"><span data-stu-id="6d54c-144">A client stub that contains the required plumbing to invoke the remote gRPC service.</span></span>

<span data-ttu-id="6d54c-145">Zur Laufzeit wird jede Nachricht als standardmäßige Protobuf-Darstellung serialisiert und zwischen Client und Remotedienst ausgetauscht.</span><span class="sxs-lookup"><span data-stu-id="6d54c-145">At runtime, each message is serialized as a standard Protobuf representation and exchanged between the client and remote service.</span></span> <span data-ttu-id="6d54c-146">Im Gegensatz zu JSON oder XML werden Protobuf-Nachrichten als kompilierte Binärbytes serialisiert.</span><span class="sxs-lookup"><span data-stu-id="6d54c-146">Unlike JSON or XML, Protobuf messages are serialized as compiled binary bytes.</span></span>

<span data-ttu-id="6d54c-147">Das Buch [gRPC for WCF Developers](https://docs.microsoft.com/dotnet/architecture/grpc-for-wcf-developers/), verfügbar auf der Microsoft Architecture-Website, bietet eine detaillierte Abdeckung von gRPC- und Protokollpuffern.</span><span class="sxs-lookup"><span data-stu-id="6d54c-147">The book, [gRPC for WCF Developers](https://docs.microsoft.com/dotnet/architecture/grpc-for-wcf-developers/), available from the Microsoft Architecture site, provides in-depth coverage of gRPC and Protocol Buffers.</span></span>

## <a name="grpc-support-in-net"></a><span data-ttu-id="6d54c-148">gRPC-Unterstützung in .NET</span><span class="sxs-lookup"><span data-stu-id="6d54c-148">gRPC support in .NET</span></span>

<span data-ttu-id="6d54c-149">gRPC ist in .NET Core 3.0 SDK oder höher integriert.</span><span class="sxs-lookup"><span data-stu-id="6d54c-149">gRPC is integrated into .NET Core 3.0 SDK or later.</span></span> <span data-ttu-id="6d54c-150">Die folgenden Tools unterstützen sie:</span><span class="sxs-lookup"><span data-stu-id="6d54c-150">The following tools support it:</span></span>

- <span data-ttu-id="6d54c-151">Visual Studio 2019, Version 16.3 oder höher, mit installierter Webentwicklungs-Workload.</span><span class="sxs-lookup"><span data-stu-id="6d54c-151">Visual Studio 2019, version 16.3 or later, with the web development workload installed.</span></span>
- <span data-ttu-id="6d54c-152">Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="6d54c-152">Visual Studio Code</span></span>
- <span data-ttu-id="6d54c-153">die dotnet CLI</span><span class="sxs-lookup"><span data-stu-id="6d54c-153">the dotnet CLI</span></span>

<span data-ttu-id="6d54c-154">Das SDK umfasst Tools für Endpunktrouting, integriertes IoC und Protokollierung.</span><span class="sxs-lookup"><span data-stu-id="6d54c-154">The SDK includes tooling for endpoint routing, built-in IoC, and logging.</span></span> <span data-ttu-id="6d54c-155">Der Open-Source-Kestrel-Webserver unterstützt HTTP/2-Verbindungen.</span><span class="sxs-lookup"><span data-stu-id="6d54c-155">The open-source Kestrel web server supports HTTP/2 connections.</span></span> <span data-ttu-id="6d54c-156">Abbildung 4-20 zeigt eine Visual Studio 2019-Vorlage, die ein Skelettprojekt für einen gRPC-Dienst aufbereitet.</span><span class="sxs-lookup"><span data-stu-id="6d54c-156">Figure 4-20 shows a Visual Studio 2019 template that scaffolds a skeleton project for a gRPC service.</span></span> <span data-ttu-id="6d54c-157">Beachten Sie, dass .NET Core Windows, Linux und macOS vollständig unterstützt.</span><span class="sxs-lookup"><span data-stu-id="6d54c-157">Note how .NET Core fully supports Windows, Linux, and macOS.</span></span>

![gRPC-Unterstützung in Visual Studio 2019](./media/visual-studio-2019-grpc-template.png)

<span data-ttu-id="6d54c-159">**Abbildung 4-20:**</span><span class="sxs-lookup"><span data-stu-id="6d54c-159">**Figure 4-20**.</span></span> <span data-ttu-id="6d54c-160">gRPC-Unterstützung in Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="6d54c-160">gRPC support in Visual Studio 2019</span></span>
  
<span data-ttu-id="6d54c-161">Abbildung 4-21 zeigt den Skelett-gRPC-Dienst, der aus dem integrierten Gerüst generiert wurde, das in Visual Studio 2019 enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="6d54c-161">Figure 4-21 shows the skeleton gRPC service generated from the built-in scaffolding included in Visual Studio 2019.</span></span>  

![gRPC-Projekt in Visual Studio 2019](./media/grpc-project.png  )

<span data-ttu-id="6d54c-163">**Abbildung 4-21:**</span><span class="sxs-lookup"><span data-stu-id="6d54c-163">**Figure 4-21**.</span></span> <span data-ttu-id="6d54c-164">gRPC-Projekt in Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="6d54c-164">gRPC project in Visual Studio 2019</span></span>

<span data-ttu-id="6d54c-165">Beachten Sie in der vorherigen Abbildung die Proto-Beschreibungsdatei und den Servicecode.</span><span class="sxs-lookup"><span data-stu-id="6d54c-165">In the previous figure, note the proto description file and service code.</span></span> <span data-ttu-id="6d54c-166">Wie Sie in Kürze sehen werden, generiert Visual Studio zusätzliche Konfiguration sowohl in der Startklasse als auch in der zugrunde liegenden Projektdatei.</span><span class="sxs-lookup"><span data-stu-id="6d54c-166">As you'll see shortly, Visual Studio generates additional configuration in both the Startup class and underlying project file.</span></span>

## <a name="grpc-usage"></a><span data-ttu-id="6d54c-167">gRPC-Nutzung</span><span class="sxs-lookup"><span data-stu-id="6d54c-167">gRPC usage</span></span>

<span data-ttu-id="6d54c-168">Bevorzugen Sie gRPC für die folgenden Szenarien:</span><span class="sxs-lookup"><span data-stu-id="6d54c-168">Favor gRPC for the following scenarios:</span></span>

- <span data-ttu-id="6d54c-169">Synchrone Backend-Microservice-zu-Microservice-Kommunikation, bei der eine sofortige Reaktion erforderlich ist, um die Verarbeitung fortzusetzen.</span><span class="sxs-lookup"><span data-stu-id="6d54c-169">Synchronous backend microservice-to-microservice communication where an immediate response is required to continue processing.</span></span>
- <span data-ttu-id="6d54c-170">Polyglot-Umgebungen, die gemischte Programmierplattformen unterstützen müssen.</span><span class="sxs-lookup"><span data-stu-id="6d54c-170">Polyglot environments that need to support mixed programming platforms.</span></span>
- <span data-ttu-id="6d54c-171">Niedrige Latenz und Kommunikation mit hohem Durchsatz, bei denen die Leistung entscheidend ist.</span><span class="sxs-lookup"><span data-stu-id="6d54c-171">Low latency and high throughput communication where performance is critical.</span></span>
- <span data-ttu-id="6d54c-172">Punkt-zu-Punkt-Echtzeitkommunikation - gRPC kann Nachrichten in Echtzeit ohne Polling übertragen und bietet hervorragende Unterstützung für bidirektionales Streaming.</span><span class="sxs-lookup"><span data-stu-id="6d54c-172">Point-to-point real-time communication - gRPC can push messages in real time without polling and has excellent support for bi-directional streaming.</span></span>
- <span data-ttu-id="6d54c-173">Netzwerkeingeschränkte Umgebungen – binäre gRPC-Nachrichten sind immer kleiner als eine entsprechende textbasierte JSON-Nachricht.</span><span class="sxs-lookup"><span data-stu-id="6d54c-173">Network constrained environments – binary gRPC messages are always smaller than an equivalent text-based JSON message.</span></span>

<span data-ttu-id="6d54c-174">Zu diesem Zeitpunkt wird gRPC hauptsächlich mit Backend-Diensten verwendet.</span><span class="sxs-lookup"><span data-stu-id="6d54c-174">At the time, of this writing, gRPC is primarily used with backend services.</span></span> <span data-ttu-id="6d54c-175">Die meisten modernen Browser können nicht die Ebene der HTTP/2-Steuerung bereitstellen, die erforderlich ist, um einen Front-End-gRPC-Client zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="6d54c-175">Most modern browsers can't provide the level of HTTP/2 control required to support a front-end gRPC client.</span></span> <span data-ttu-id="6d54c-176">Dennoch gibt es eine [frühe Initiative,](https://devblogs.microsoft.com/aspnet/grpc-web-experiment/) die die gRPC-Kommunikation von browserbasierten Apps ermöglicht, die mit JavaScript- oder Blazor WebAssembly-Technologien erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="6d54c-176">That said, there's an [early initiative](https://devblogs.microsoft.com/aspnet/grpc-web-experiment/) that enables gRPC communication from browser-based apps built with JavaScript or Blazor WebAssembly technologies.</span></span> <span data-ttu-id="6d54c-177">Das [gRPC-Web für .NET](https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-WEB.md) ermöglicht es einer ASP.NET Core gRPC-App, gRPC-Funktionen in Browser-Apps zu unterstützen:</span><span class="sxs-lookup"><span data-stu-id="6d54c-177">The  [gRPC-Web for .NET](https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-WEB.md) enables an ASP.NET Core gRPC app to support gRPC features in browser apps:</span></span>

- <span data-ttu-id="6d54c-178">Stark typisierte codegenerierte Clients</span><span class="sxs-lookup"><span data-stu-id="6d54c-178">Strongly-typed code-generated clients</span></span>
- <span data-ttu-id="6d54c-179">Kompakte Protobuf-Meldungen</span><span class="sxs-lookup"><span data-stu-id="6d54c-179">Compact Protobuf messages</span></span>
- <span data-ttu-id="6d54c-180">Server-Streaming</span><span class="sxs-lookup"><span data-stu-id="6d54c-180">Server streaming</span></span>

## <a name="grpc-implementation"></a><span data-ttu-id="6d54c-181">gRPC-Implementierung</span><span class="sxs-lookup"><span data-stu-id="6d54c-181">gRPC implementation</span></span>

<span data-ttu-id="6d54c-182">Die Microservice-Referenzarchitektur [eShop on Containers](https://github.com/dotnet-architecture/eShopOnContainers)von Microsoft zeigt, wie gRPC-Dienste in .NET Core-Anwendungen implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="6d54c-182">The microservice reference architecture, [eShop on Containers](https://github.com/dotnet-architecture/eShopOnContainers), from Microsoft, shows how to implement gRPC services in .NET Core applications.</span></span> <span data-ttu-id="6d54c-183">Abbildung 4-22 zeigt die Back-End-Architektur.</span><span class="sxs-lookup"><span data-stu-id="6d54c-183">Figure 4-22 presents the back-end architecture.</span></span>

![Backend-Architektur für eShop on Containers](./media/eshop-with-aggregators.png)

<span data-ttu-id="6d54c-185">**Abbildung 4-22.**</span><span class="sxs-lookup"><span data-stu-id="6d54c-185">**Figure 4-22**.</span></span> <span data-ttu-id="6d54c-186">Backend-Architektur für eShop on Containers</span><span class="sxs-lookup"><span data-stu-id="6d54c-186">Backend architecture for eShop on Containers</span></span>

<span data-ttu-id="6d54c-187">Beachten Sie in der vorherigen Abbildung, wie eShop das [Backend for Frontends-Muster](https://docs.microsoft.com/azure/architecture/patterns/backends-for-frontends) (BFF) umfasst, indem mehrere API-Gateways freigelegt werden.</span><span class="sxs-lookup"><span data-stu-id="6d54c-187">In the previous figure, note how eShop embraces the [Backend for Frontends pattern](https://docs.microsoft.com/azure/architecture/patterns/backends-for-frontends) (BFF) by exposing multiple API gateways.</span></span> <span data-ttu-id="6d54c-188">Wir haben das BFF-Muster weiter oben in diesem Kapitel erörtert.</span><span class="sxs-lookup"><span data-stu-id="6d54c-188">We discussed the BFF pattern earlier in this chapter.</span></span> <span data-ttu-id="6d54c-189">Achten Sie genau auf den Aggregator-Mikrodienst (in grau), der sich zwischen dem Web-Shopping API Gateway und den Backend Shopping-Microservices befindet.</span><span class="sxs-lookup"><span data-stu-id="6d54c-189">Pay close attention to the Aggregator microservice (in gray) that sits between the Web-Shopping API Gateway and backend Shopping microservices.</span></span> <span data-ttu-id="6d54c-190">Der Aggregator empfängt eine einzelne Anforderung von einem Client, sendet sie an verschiedene Microservices, aggregiert die Ergebnisse und sendet sie an den anfordernden Client zurück.</span><span class="sxs-lookup"><span data-stu-id="6d54c-190">The Aggregator receives a single request from a client, dispatches it to various microservices, aggregates the results, and sends them back to the requesting client.</span></span> <span data-ttu-id="6d54c-191">Solche Vorgänge erfordern in der Regel eine synchrone Kommunikation, um eine sofortige Reaktion zu erzeugen.</span><span class="sxs-lookup"><span data-stu-id="6d54c-191">Such operations typically require synchronous communication as to produce an immediate response.</span></span> <span data-ttu-id="6d54c-192">Im eShop werden Backend-Aufrufe vom Aggregator mit gRPC ausgeführt, wie in Abbildung 4-23 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="6d54c-192">In eShop, backend calls from the Aggregator are performed using gRPC as shown in Figure 4-23.</span></span>

![gRPC im eShop auf Containern](./media/grpc-implementation.png)

<span data-ttu-id="6d54c-194">**Abbildung 4-23.**</span><span class="sxs-lookup"><span data-stu-id="6d54c-194">**Figure 4-23**.</span></span> <span data-ttu-id="6d54c-195">gRPC im eShop auf Containern</span><span class="sxs-lookup"><span data-stu-id="6d54c-195">gRPC in eShop on Containers</span></span>

<span data-ttu-id="6d54c-196">die gRPC-Kommunikation erfordert sowohl Client- als auch Serverkomponenten.</span><span class="sxs-lookup"><span data-stu-id="6d54c-196">gRPC communication requires both client and server components.</span></span> <span data-ttu-id="6d54c-197">Beachten Sie in der vorherigen Abbildung, wie der Shopping Aggregator einen gRPC-Client implementiert.</span><span class="sxs-lookup"><span data-stu-id="6d54c-197">In the previous figure, note how the Shopping Aggregator implements a gRPC client.</span></span> <span data-ttu-id="6d54c-198">Der Client führt synchrone gRPC-Aufrufe (rot) an Backend-Microservices durch, von denen jeder einen gRPC-Server implementiert.</span><span class="sxs-lookup"><span data-stu-id="6d54c-198">The client makes synchronous gRPC calls (in red) to backend microservices, each of which implement a gRPC server.</span></span> <span data-ttu-id="6d54c-199">Sowohl der Client als auch der Server nutzen die integrierten gRPC-Installationen aus dem .NET Core 3.0 SDK.</span><span class="sxs-lookup"><span data-stu-id="6d54c-199">Both the client and server take advantage of the built-in gRPC plumbing from the .NET Core 3.0 SDK.</span></span> <span data-ttu-id="6d54c-200">Clientseitige *Stubs* stellen die Installation zum Aufrufen von Remote-gRPC-Aufrufen bereit.</span><span class="sxs-lookup"><span data-stu-id="6d54c-200">Client-side *stubs* provide the plumbing to invoke remote gRPC calls.</span></span> <span data-ttu-id="6d54c-201">Serverseitige Komponenten stellen gRPC-Installationen bereit, die benutzerdefinierte Serviceklassen erben und verbrauchen können.</span><span class="sxs-lookup"><span data-stu-id="6d54c-201">Server-side components provide gRPC plumbing that custom service classes can inherit and consume.</span></span>

<span data-ttu-id="6d54c-202">Microservices, die sowohl eine RESTful API als auch eine gRPC-Kommunikation verfügbar machen, erfordern mehrere Endpunkte, um datenverkehr zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="6d54c-202">Microservices that expose both a RESTful API and gRPC communication require multiple endpoints to manage traffic.</span></span> <span data-ttu-id="6d54c-203">Sie würden einen Endpunkt öffnen, der HTTP-Datenverkehr auf die RESTful-Aufrufe und einen weiteren für gRPC-Aufrufe abhört.</span><span class="sxs-lookup"><span data-stu-id="6d54c-203">You would open an endpoint that listens for HTTP traffic for the RESTful calls and another for gRPC calls.</span></span> <span data-ttu-id="6d54c-204">Der gRPC-Endpunkt muss für das HTTP/2-Protokoll konfiguriert werden, das für die gRPC-Kommunikation erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="6d54c-204">The gRPC endpoint must be configured for the HTTP/2 protocol that is required for gRPC communication.</span></span>

<span data-ttu-id="6d54c-205">Während wir bestrebt sind, Microservices mit asynchronen Kommunikationsmustern zu entkoppeln, erfordern einige Vorgänge direkte Aufrufe.</span><span class="sxs-lookup"><span data-stu-id="6d54c-205">While we strive to decouple microservices with asynchronous communication patterns, some operations require direct calls.</span></span> <span data-ttu-id="6d54c-206">gRPC sollte die primäre Wahl für die direkte synchrone Kommunikation zwischen Microservices sein.</span><span class="sxs-lookup"><span data-stu-id="6d54c-206">gRPC should be the primary choice for direct synchronous communication between microservices.</span></span> <span data-ttu-id="6d54c-207">Sein leistungsstarkes Kommunikationsprotokoll, das auf HTTP/2- und Protokollpuffern basiert, macht es zu einer perfekten Wahl.</span><span class="sxs-lookup"><span data-stu-id="6d54c-207">Its high-performance communication protocol, based on HTTP/2 and protocol buffers, make it a perfect choice.</span></span>

## <a name="looking-ahead"></a><span data-ttu-id="6d54c-208">Blick in die Zukunft</span><span class="sxs-lookup"><span data-stu-id="6d54c-208">Looking ahead</span></span>

<span data-ttu-id="6d54c-209">Mit Blick auf die Zukunft wird gRPC weiterhin an Zugkraft für Cloud-native Systeme gewinnen.</span><span class="sxs-lookup"><span data-stu-id="6d54c-209">Looking ahead, gRPC will continue to gain traction for cloud-native systems.</span></span> <span data-ttu-id="6d54c-210">Die Leistungsvorteile und die einfache Entwicklung sind überzeugend.</span><span class="sxs-lookup"><span data-stu-id="6d54c-210">The performance benefits and ease of development are compelling.</span></span> <span data-ttu-id="6d54c-211">Rest wird es jedoch wahrscheinlich noch lange geben.</span><span class="sxs-lookup"><span data-stu-id="6d54c-211">However, REST will likely be around for a long time.</span></span> <span data-ttu-id="6d54c-212">Es zeichnet sich durch öffentlich verfügbar gemachte APIs und aus Gründen der Abwärtskompatibilität aus.</span><span class="sxs-lookup"><span data-stu-id="6d54c-212">It excels for publicly exposed APIs and for backward compatibility reasons.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="6d54c-213">[VorherigeS](service-to-service-communication.md)
>[Weiter](service-mesh-communication-infrastructure.md)</span><span class="sxs-lookup"><span data-stu-id="6d54c-213">[Previous](service-to-service-communication.md)
[Next](service-mesh-communication-infrastructure.md)</span></span>
