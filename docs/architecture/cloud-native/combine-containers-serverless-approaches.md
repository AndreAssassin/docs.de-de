---
title: Kombinieren von Containern und serverlosen Ansätzen
description: Kombinieren von Containern und Kubernetes mit Server losen Ansätzen
ms.date: 06/30/2019
ms.openlocfilehash: 58aff43adbdd2e629370cc685f32c7b61c25f85e
ms.sourcegitcommit: 55f438d4d00a34b9aca9eedaac3f85590bb11565
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/23/2019
ms.locfileid: "73840592"
---
# <a name="combining-containers-and-serverless-approaches"></a><span data-ttu-id="e1848-103">Kombinieren von Containern und serverlosen Ansätzen</span><span class="sxs-lookup"><span data-stu-id="e1848-103">Combining containers and serverless approaches</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="e1848-104">Häufig basieren auf auf Anwendungen basierende Anwendungen stark auf Containern, Orchestrierungen und Nachrichten Übergabe für die Kommunikation zwischen Knoten.</span><span class="sxs-lookup"><span data-stu-id="e1848-104">Frequently, microservices-based applications rely heavily on containers, orchestration, and message-passing for communication between nodes.</span></span> <span data-ttu-id="e1848-105">Dieses Messaging ist eine ideale Aufgabe für Azure Functions, aber mit dem Rest der Anwendung, die mit Kubernetes und zugehörigen Tools konfiguriert und bereitgestellt wird, wäre es sinnvoll, Azure Functions innerhalb desselben Toolsets zu nutzen.</span><span class="sxs-lookup"><span data-stu-id="e1848-105">This messaging is an ideal task for Azure Functions, but with the rest of the application configured and deployed using Kubernetes and related tools, it would be nice to be able to leverage Azure Functions within this same toolset.</span></span> <span data-ttu-id="e1848-106">Glücklicherweise können Sie Azure Functions in docker-Containern einschließen und diese mithilfe der gleichen Prozesse und Tools bereitstellen, wie Sie es auch im Rest ihrer Kubernetes-basierten APP tun.</span><span class="sxs-lookup"><span data-stu-id="e1848-106">Fortunately, you can wrap Azure Functions in Docker containers and deploy them using the same processes and tools as the rest of your Kubernetes-based app.</span></span>

## <a name="when-does-it-make-sense-to-use-containers-with-serverless"></a><span data-ttu-id="e1848-107">Wann ist es sinnvoll, Container mit Serverless zu verwenden?</span><span class="sxs-lookup"><span data-stu-id="e1848-107">When does it make sense to use containers with serverless?</span></span>

<span data-ttu-id="e1848-108">Standardmäßig haben Ihre Server losen Funktionen keine Kenntnis von der Plattform, auf der Sie ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="e1848-108">By default, your serverless functions have no knowledge of the platform on which they'll run.</span></span> <span data-ttu-id="e1848-109">In einigen Fällen haben Sie jedoch möglicherweise bestimmte Anforderungen, die es Ihnen wichtig machen, das Container Image anzupassen, in dem der Code ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="e1848-109">However, in some cases you may have specific requirements that make it important for you to customize the container image in which your code will run.</span></span> <span data-ttu-id="e1848-110">Möglicherweise möchten Sie ein benutzerdefiniertes Image verwenden, da ihre Funktion auf einer bestimmten Sprachversion basiert oder Abhängigkeiten oder Konfigurations Anforderungen aufweist, die vom Standard Image nicht unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="e1848-110">You may want to use a custom image because your function relies on a specific language version or has dependencies or configuration requirements that aren't supported by the default image.</span></span> <span data-ttu-id="e1848-111">In diesen Fällen ist es möglicherweise sinnvoll, ihren eigenen Container anzupassen und die Funktion in einem benutzerdefinierten docker-Container bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="e1848-111">In these cases, it may make sense to customize your own container and deploy your function in a custom Docker container.</span></span>

## <a name="when-should-you-avoid-using-containers-with-azure-functions"></a><span data-ttu-id="e1848-112">Wann sollten Sie die Verwendung von Containern mit Azure Functions vermeiden?</span><span class="sxs-lookup"><span data-stu-id="e1848-112">When should you avoid using containers with Azure Functions?</span></span>

<span data-ttu-id="e1848-113">Wenn Sie von der Abrechnung des Verbrauchs Plans für ihre Funktion profitieren möchten, können Sie dies nicht tun, wenn Sie Ihren eigenen Container verwenden.</span><span class="sxs-lookup"><span data-stu-id="e1848-113">If you're expecting to benefit from the consumption plan billing for your function, you won't be able to do so if you're using your own container.</span></span> <span data-ttu-id="e1848-114">Wenn Sie über die Verwendung eines docker-Containers hinausgehen und ihre Funktionen in Ihrem eigenen Kubernetes-Cluster bereitstellen, profitieren Sie nicht mehr von der integrierten Skalierung, die von Azure Functions bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="e1848-114">What's more, if you go beyond just using a Docker container and deploy your functions to your own Kubernetes cluster, you'll no longer benefit from the built-in scaling provided by Azure Functions.</span></span> <span data-ttu-id="e1848-115">Sie müssen die Skalierungs Features von Kubernetes verwenden, die unten beschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="e1848-115">You'll need to use Kubernetes' scaling features, described below.</span></span>

## <a name="how-to-combine-serverless-and-docker-containers"></a><span data-ttu-id="e1848-116">Kombinieren von Server losen und docker-Containern</span><span class="sxs-lookup"><span data-stu-id="e1848-116">How to combine serverless and Docker containers</span></span>

<span data-ttu-id="e1848-117">Wenn Sie eine Azure-Funktion in einem docker-Container einbinden möchten, installieren Sie die Azure Functions Core Tools, und führen Sie dann den folgenden Befehl aus:</span><span class="sxs-lookup"><span data-stu-id="e1848-117">To wrap an Azure Function in a Docker container, install the Azure Functions Core Tools and then run the following command:</span></span>

```console
func init ProjectName --docker
```

<span data-ttu-id="e1848-118">Wählen Sie aus den folgenden Optionen die gewünschte workerlaufzeit aus:</span><span class="sxs-lookup"><span data-stu-id="e1848-118">Choose which worker runtime you want from the following options:</span></span>

- <span data-ttu-id="e1848-119">`dotnet` (C#)</span><span class="sxs-lookup"><span data-stu-id="e1848-119">`dotnet` (C#)</span></span>
- <span data-ttu-id="e1848-120">`node` (JavaScript)</span><span class="sxs-lookup"><span data-stu-id="e1848-120">`node` (JavaScript)</span></span>
- `python`

<span data-ttu-id="e1848-121">Wenn das Projekt erstellt wird, enthält es eine dockerfile-Datei.</span><span class="sxs-lookup"><span data-stu-id="e1848-121">When the project is created, it will include a Dockerfile.</span></span> <span data-ttu-id="e1848-122">Nun können Sie Ihre Funktion lokal erstellen und testen.</span><span class="sxs-lookup"><span data-stu-id="e1848-122">Now, you can create and test your function locally.</span></span> <span data-ttu-id="e1848-123">Erstellen und führen Sie es mithilfe der Befehle `docker build` und `docker run` aus.</span><span class="sxs-lookup"><span data-stu-id="e1848-123">Build and run it using the  `docker build` and `docker run` commands.</span></span> <span data-ttu-id="e1848-124">Ausführliche Schritte zum Erstellen von Azure Functions mit der Docker-Unterstützung finden Sie im Tutorial [Erstellen einer Funktion unter Linux mithilfe eines benutzerdefinierten Images](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image) .</span><span class="sxs-lookup"><span data-stu-id="e1848-124">For detailed steps to get started building Azure Functions with Docker support, see the [Create a function on Linux using a custom image](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image) tutorial.</span></span>

## <a name="how-to-combine-serverless-and-kubernetes-with-keda"></a><span data-ttu-id="e1848-125">Kombinieren von Server lose und Kubernetes mit Keda</span><span class="sxs-lookup"><span data-stu-id="e1848-125">How to combine serverless and Kubernetes with KEDA</span></span>

<span data-ttu-id="e1848-126">Azure Functions wird automatisch skaliert, um die Nachfrage basierend auf der Rate der Ereignisse zu erfüllen, die eine bestimmte Funktion als Ziel haben.</span><span class="sxs-lookup"><span data-stu-id="e1848-126">Azure functions scale automatically to meet demand based on the rate of events that are targeting a given function.</span></span> <span data-ttu-id="e1848-127">Darüber hinaus können Sie Kubernetes nutzen, um ihre Funktionen zu hosten und die Kubernetes-basierte ereignisgesteuerte automatische Skalierung oder Keda zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="e1848-127">Additionally, you can leverage Kubernetes to host your functions and use Kubernetes-based Event Driven Autoscaling, or KEDA.</span></span> <span data-ttu-id="e1848-128">Wenn keine Ereignisse auftreten, kann Keda auf 0 Instanzen herunterskaliert werden. Anschließend kann es als Reaktion auf Ereignisse die Anzahl der Container zentral hochskalieren, um die Anforderung mithilfe der horizontalen Pod-AutoScaler zu erfüllen.</span><span class="sxs-lookup"><span data-stu-id="e1848-128">When no events are occurring, KEDA can scale down to 0 instances, and then in response to events it can scale up the number of containers to meet the demand using its horizontal pod autoscaler.</span></span> <span data-ttu-id="e1848-129">[Erfahren Sie mehr über das Skalieren von Azure Functions mit Keda](https://docs.microsoft.com/azure/azure-functions/functions-kubernetes-keda).</span><span class="sxs-lookup"><span data-stu-id="e1848-129">[Learn more about scaling Azure functions with KEDA](https://docs.microsoft.com/azure/azure-functions/functions-kubernetes-keda).</span></span>

## <a name="references"></a><span data-ttu-id="e1848-130">Verweise</span><span class="sxs-lookup"><span data-stu-id="e1848-130">References</span></span>

- [<span data-ttu-id="e1848-131">Ausführen von Azure Functions in einem docker-Container</span><span class="sxs-lookup"><span data-stu-id="e1848-131">Run Azure Functions in a Docker Container</span></span>](https://markheath.net/post/azure-functions-docker)
- [<span data-ttu-id="e1848-132">Erstellen einer Funktion unter Linux mithilfe eines benutzerdefinierten Images</span><span class="sxs-lookup"><span data-stu-id="e1848-132">Create a function on Linux using a custom image</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image)
- [<span data-ttu-id="e1848-133">Azure Functions mit Kubernetes-ereignisgesteuerte automatische Skalierung</span><span class="sxs-lookup"><span data-stu-id="e1848-133">Azure Functions with Kubernetes Event Driven Autoscaling</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-kubernetes-keda)

>[!div class="step-by-step"]
><span data-ttu-id="e1848-134">[Zurück](leverage-serverless-functions.md)
>[Weiter](deploy-containers-azure.md)</span><span class="sxs-lookup"><span data-stu-id="e1848-134">[Previous](leverage-serverless-functions.md)
[Next](deploy-containers-azure.md)</span></span>
