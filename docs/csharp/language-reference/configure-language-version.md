---
title: 'Leitfaden für C#: Auswählen der C#-Sprachversion'
description: Konfigurieren des Compilers zum Ausführen der Syntaxüberprüfung mithilfe einer spezifischen Compilerversion
ms.date: 02/28/2019
ms.openlocfilehash: feb3e51a107f9830071b55c7985f202edc842f4a
ms.sourcegitcommit: 859b2ba0c74a1a5a4ad0d59a3c3af23450995981
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 04/11/2019
ms.locfileid: "59480741"
---
# <a name="select-the-c-language-version"></a><span data-ttu-id="a2950-103">Auswählen der C#-Sprachversion</span><span class="sxs-lookup"><span data-stu-id="a2950-103">Select the C# language version</span></span>

<span data-ttu-id="a2950-104">Der C#-Compiler bestimmt eine Standardsprachversion, basierend auf dem oder den Zielframeworks Ihres Projekts.</span><span class="sxs-lookup"><span data-stu-id="a2950-104">The C# compiler determines a default language version based on your project's target framework or frameworks.</span></span> <span data-ttu-id="a2950-105">Wenn Ihr Projekt auf eine Vorschauframework abzielt, das eine entsprechende Vorschausprachversion besitzt, wird die Vorschausprachversion als Sprachversion verwendet.</span><span class="sxs-lookup"><span data-stu-id="a2950-105">When your project targets a preview framework that has a corresponding preview language version, the language version used is the preview language version.</span></span> <span data-ttu-id="a2950-106">Wenn Ihr Projekt nicht auf ein Vorschauframework abzielt, wird die höchste Nebenversion als Sprachversion verwendet.</span><span class="sxs-lookup"><span data-stu-id="a2950-106">When your project doesn't target a preview framework, the language version used is the latest minor version.</span></span>

<span data-ttu-id="a2950-107">Beispielsweise verwendet jedes Projekt, das während des Vorschauzeitraums für .NET Core 3.0 auf `netcoreapp3.0` oder `netstandard2.1` abzielt (beide in der Vorschauphase), die C# 8.0-Sprache (ebenfalls in der Vorschauphase).</span><span class="sxs-lookup"><span data-stu-id="a2950-107">For example, during the preview period for .NET Core 3.0, any project that targets `netcoreapp3.0` or `netstandard2.1` (both in preview) will use the C# 8.0 language (also in preview).</span></span> <span data-ttu-id="a2950-108">Projekte, die auf eine veröffentlichte Version abzielen, verwenden C# 7.3 (die neueste veröffentlichte Version).</span><span class="sxs-lookup"><span data-stu-id="a2950-108">Projects targeting any released version will use C# 7.3 (the latest released version).</span></span> <span data-ttu-id="a2950-109">Dieses Verhalten bedeutet, dass jedes Projekt, das auf .NET Framework abzielt, die neueste Version verwendet (C# 7.3).</span><span class="sxs-lookup"><span data-stu-id="a2950-109">This behavior means that any project targeting .NET Framework will use latest (C# 7.3).</span></span> 

<span data-ttu-id="a2950-110">Diese Funktion entkoppelt das Installieren neuer Versionen vom SDK und den Tools in Ihrer Entwicklungsumgebung von der Entscheidung, neue Sprachfeatures in einem Projekt zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="a2950-110">This capability decouples the decision to install new versions of the SDK and tools in your development environment from the decision to incorporate new language features in a project.</span></span> <span data-ttu-id="a2950-111">Sie können das neueste SDK und die neuesten Tools auf Ihrem Buildcomputer installieren.</span><span class="sxs-lookup"><span data-stu-id="a2950-111">You can install the latest SDK and tools on your build machine.</span></span> <span data-ttu-id="a2950-112">Jedes Projekt kann dazu konfiguriert werden, eine spezifische Version der Sprache für das Build zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="a2950-112">Each project can be configured to use a specific version of the language for its build.</span></span> <span data-ttu-id="a2950-113">Das Standardverhalten bedeutet, dass alle Sprachfunktionen, die von neuen Typen oder neuem CLR-Verhalten abhängig sind, nur aktiviert sind, wenn das Projekt auf diese Frameworks abzielt.</span><span class="sxs-lookup"><span data-stu-id="a2950-113">The default behavior means that any language features that rely on new types or new CLR behavior are enabled only when projects target those frameworks.</span></span>

<span data-ttu-id="a2950-114">Sie können das Standardverhalten überschreiben, indem Sie eine Sprachversion angeben.</span><span class="sxs-lookup"><span data-stu-id="a2950-114">You can override the default behavior by specifying a language version.</span></span> <span data-ttu-id="a2950-115">Es gibt verschiedene Möglichkeiten, die Sprachversion einzurichten:</span><span class="sxs-lookup"><span data-stu-id="a2950-115">There are several ways to set the language version:</span></span>

- <span data-ttu-id="a2950-116">Verwenden einer [Visual Studio-Schnellaktion](#visual-studio-quick-action)</span><span class="sxs-lookup"><span data-stu-id="a2950-116">Rely on a [Visual Studio quick action](#visual-studio-quick-action).</span></span>
- <span data-ttu-id="a2950-117">Festlegen der Sprachversion in der [Visual Studio-Benutzeroberfläche](#set-the-language-version-in-visual-studio)</span><span class="sxs-lookup"><span data-stu-id="a2950-117">Set the language version in the [Visual Studio UI](#set-the-language-version-in-visual-studio).</span></span>
- <span data-ttu-id="a2950-118">Manuelles Bearbeiten der [**CSPROJ**-Datei](#edit-the-csproj-file)</span><span class="sxs-lookup"><span data-stu-id="a2950-118">Manually edit your [**.csproj** file](#edit-the-csproj-file).</span></span>
- <span data-ttu-id="a2950-119">Festlegen der Sprachversion [für mehrere Projekte in einem Unterverzeichnis](#configure-multiple-projects)</span><span class="sxs-lookup"><span data-stu-id="a2950-119">Set the language version [for multiple projects in a subdirectory](#configure-multiple-projects).</span></span>
- <span data-ttu-id="a2950-120">Konfigurieren der [Compileroption `-langversion`](#set-the-langversion-compiler-option)</span><span class="sxs-lookup"><span data-stu-id="a2950-120">Configure the [`-langversion` compiler option](#set-the-langversion-compiler-option).</span></span>

## <a name="visual-studio-quick-action"></a><span data-ttu-id="a2950-121">Visual Studio-Schnellaktion</span><span class="sxs-lookup"><span data-stu-id="a2950-121">Visual Studio quick action</span></span>

<span data-ttu-id="a2950-122">Visual Studio unterstützt Sie beim Auswählen der erforderlichen Sprachversion.</span><span class="sxs-lookup"><span data-stu-id="a2950-122">Visual Studio helps you determine the language version you need.</span></span> <span data-ttu-id="a2950-123">Wenn Sie ein Sprachfeature verwenden, das in der derzeit konfigurierten Version nicht verfügbar ist, zeigt Visual Studio eine mögliche Lösung zum Aktualisieren der Sprachversion für das Projekt an.</span><span class="sxs-lookup"><span data-stu-id="a2950-123">If you use a language feature that is not available for the currently configured version, Visual Studio shows a potential fix to update the language version for the project.</span></span>

## <a name="set-the-language-version-in-visual-studio"></a><span data-ttu-id="a2950-124">Festlegen der Sprachversion in Visual Studio</span><span class="sxs-lookup"><span data-stu-id="a2950-124">Set the language version in Visual Studio</span></span>

<span data-ttu-id="a2950-125">Sie können die Version in Visual Studio festlegen.</span><span class="sxs-lookup"><span data-stu-id="a2950-125">You can set the version in Visual Studio.</span></span> <span data-ttu-id="a2950-126">Klicken Sie im Projektmappen-Explorer mit der rechten Maustaste auf den Projektknoten, und wählen Sie **Eigenschaften** aus.</span><span class="sxs-lookup"><span data-stu-id="a2950-126">Right-click on the project node in Solution Explorer and select **Properties**.</span></span> <span data-ttu-id="a2950-127">Wählen Sie die Registerkarte **Build** aus, und klicken Sie auf **Erweitert**.</span><span class="sxs-lookup"><span data-stu-id="a2950-127">Select the **Build** tab and select the **Advanced** button.</span></span> <span data-ttu-id="a2950-128">Wählen Sie in der Dropdownliste die Version aus.</span><span class="sxs-lookup"><span data-stu-id="a2950-128">In the dropdown, select the version.</span></span> <span data-ttu-id="a2950-129">Die folgende Abbildung zeigt die „aktuellste“ Einstellung:</span><span class="sxs-lookup"><span data-stu-id="a2950-129">The following image shows the "latest" setting:</span></span>

![Screenshot der erweiterten Buildeinstellungen, in denen Sie die Sprachversion festlegen können](./media/configure-language-version/advanced-build-settings.png)

> [!NOTE]
> <span data-ttu-id="a2950-131">Wenn Sie die Visual Studio-IDE verwenden, um Ihre CSPROJ-Dateien zu aktualisieren, werden separate Knoten für jede Buildkonfiguration von der IDE erstellt.</span><span class="sxs-lookup"><span data-stu-id="a2950-131">If you use the Visual Studio IDE to update your csproj files, the IDE creates separate nodes for each build configuration.</span></span> <span data-ttu-id="a2950-132">In der Regel legen Sie den gleichen Wert in allen Buildkonfigurationen fest, dennoch müssen Sie ihn für jede Buildkonfiguration explizit festlegen oder beim Ändern dieser Einstellung „Alle Konfigurationen“ auswählen.</span><span class="sxs-lookup"><span data-stu-id="a2950-132">You'll typically set the value the same in all build configurations, but you need to set it explicitly for each build configuration, or select "All Configurations" when you modify this setting.</span></span> <span data-ttu-id="a2950-133">Folgendes wird dann in Ihrer CSPROJ-Datei angezeigt:</span><span class="sxs-lookup"><span data-stu-id="a2950-133">You'll see the following in your csproj file:</span></span>
>
>```xml
> <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|AnyCPU'">
>  <LangVersion>latest</LangVersion>
></PropertyGroup>
>
> <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|AnyCPU'">
>  <LangVersion>latest</LangVersion>
> </PropertyGroup>
> ```
>

## <a name="edit-the-csproj-file"></a><span data-ttu-id="a2950-134">Bearbeiten der CSPROJ-Datei</span><span class="sxs-lookup"><span data-stu-id="a2950-134">Edit the csproj file</span></span>

<span data-ttu-id="a2950-135">Sie können die Sprachversion in der **CSPROJ**-Datei festlegen.</span><span class="sxs-lookup"><span data-stu-id="a2950-135">You can set the language version in your **.csproj** file.</span></span> <span data-ttu-id="a2950-136">Fügen Sie ein Element wie das Folgende ein:</span><span class="sxs-lookup"><span data-stu-id="a2950-136">Add an element like the following:</span></span>

```xml
<PropertyGroup>
   <LangVersion>latest</LangVersion>
</PropertyGroup>
```

<span data-ttu-id="a2950-137">Der Wert `latest` verwendet die neueste Nebenversion der C#-Sprache.</span><span class="sxs-lookup"><span data-stu-id="a2950-137">The value `latest` uses the latest minor version of the C# language.</span></span> <span data-ttu-id="a2950-138">Gültige Werte sind:</span><span class="sxs-lookup"><span data-stu-id="a2950-138">Valid values are:</span></span>

|<span data-ttu-id="a2950-139">Wert</span><span class="sxs-lookup"><span data-stu-id="a2950-139">Value</span></span>|<span data-ttu-id="a2950-140">Bedeutung</span><span class="sxs-lookup"><span data-stu-id="a2950-140">Meaning</span></span>|
|------------|-------------|
|<span data-ttu-id="a2950-141">preview</span><span class="sxs-lookup"><span data-stu-id="a2950-141">preview</span></span>|<span data-ttu-id="a2950-142">Der Compiler akzeptiert jede gültige Sprachsyntax der letzten Vorschauversion.</span><span class="sxs-lookup"><span data-stu-id="a2950-142">The compiler accepts all valid language syntax from the latest preview version.</span></span>|
|<span data-ttu-id="a2950-143">latest</span><span class="sxs-lookup"><span data-stu-id="a2950-143">latest</span></span>|<span data-ttu-id="a2950-144">Der Compiler akzeptiert die Syntax der neuesten veröffentlichte Version des Compilers (einschließlich Nebenversionen).</span><span class="sxs-lookup"><span data-stu-id="a2950-144">The compiler accepts syntax from the latest released version of the compiler (including minor version).</span></span>|
|<span data-ttu-id="a2950-145">latestMajor</span><span class="sxs-lookup"><span data-stu-id="a2950-145">latestMajor</span></span>|<span data-ttu-id="a2950-146">Der Compiler akzeptiert die Syntax der neuesten veröffentlichte Hauptversion des Compilers.</span><span class="sxs-lookup"><span data-stu-id="a2950-146">The compiler accepts syntax from the latest released major version of the compiler.</span></span>|
|<span data-ttu-id="a2950-147">8.0</span><span class="sxs-lookup"><span data-stu-id="a2950-147">8.0</span></span>|<span data-ttu-id="a2950-148">Der Compiler akzeptiert nur Syntax, die in C# 8.0 oder niedriger enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="a2950-148">The compiler accepts only syntax that is included in C# 8.0 or lower.</span></span>|
|<span data-ttu-id="a2950-149">7.3</span><span class="sxs-lookup"><span data-stu-id="a2950-149">7.3</span></span>|<span data-ttu-id="a2950-150">Der Compiler akzeptiert nur Syntax, die in C# 7.3 oder früher enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="a2950-150">The compiler accepts only syntax that is included in C# 7.3 or lower.</span></span>|
|<span data-ttu-id="a2950-151">7.2</span><span class="sxs-lookup"><span data-stu-id="a2950-151">7.2</span></span>|<span data-ttu-id="a2950-152">Der Compiler akzeptiert nur Syntax, die in C# 7.2 oder früher enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="a2950-152">The compiler accepts only syntax that is included in C# 7.2 or lower.</span></span>|
|<span data-ttu-id="a2950-153">7.1</span><span class="sxs-lookup"><span data-stu-id="a2950-153">7.1</span></span>|<span data-ttu-id="a2950-154">Der Compiler akzeptiert nur Syntax, die in C# 7.1 oder früher enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="a2950-154">The compiler accepts only syntax that is included in C# 7.1 or lower.</span></span>|
|<span data-ttu-id="a2950-155">7</span><span class="sxs-lookup"><span data-stu-id="a2950-155">7</span></span>|<span data-ttu-id="a2950-156">Der Compiler akzeptiert nur Syntax, die in C# 7.0 oder früher enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="a2950-156">The compiler accepts only syntax that is included in C# 7.0 or lower.</span></span>|
|<span data-ttu-id="a2950-157">6</span><span class="sxs-lookup"><span data-stu-id="a2950-157">6</span></span>|<span data-ttu-id="a2950-158">Der Compiler akzeptiert nur Syntax, die in C# 6.0 oder früher enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="a2950-158">The compiler accepts only syntax that is included in C# 6.0 or lower.</span></span>|
|<span data-ttu-id="a2950-159">5</span><span class="sxs-lookup"><span data-stu-id="a2950-159">5</span></span>|<span data-ttu-id="a2950-160">Der Compiler akzeptiert nur Syntax, die in C# 5.0 oder früher enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="a2950-160">The compiler accepts only syntax that is included in C# 5.0 or lower.</span></span>|
|<span data-ttu-id="a2950-161">4</span><span class="sxs-lookup"><span data-stu-id="a2950-161">4</span></span>|<span data-ttu-id="a2950-162">Der Compiler akzeptiert nur Syntax, die in C# 4.0 oder früher enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="a2950-162">The compiler accepts only syntax that is included in C# 4.0 or lower.</span></span>|
|<span data-ttu-id="a2950-163">3</span><span class="sxs-lookup"><span data-stu-id="a2950-163">3</span></span>|<span data-ttu-id="a2950-164">Der Compiler akzeptiert nur Syntax, die in C# 3.0 oder früher enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="a2950-164">The compiler accepts only syntax that is included in C# 3.0 or lower.</span></span>|
|<span data-ttu-id="a2950-165">ISO-2</span><span class="sxs-lookup"><span data-stu-id="a2950-165">ISO-2</span></span>|<span data-ttu-id="a2950-166">Der Compiler akzeptiert nur Syntax, die in ISO/IEC 23270:2006 C# (2.0) enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="a2950-166">The compiler accepts only syntax that is included in ISO/IEC 23270:2006 C# (2.0)</span></span> |
|<span data-ttu-id="a2950-167">ISO-1</span><span class="sxs-lookup"><span data-stu-id="a2950-167">ISO-1</span></span>|<span data-ttu-id="a2950-168">Der Compiler akzeptiert nur Syntax, die in ISO/IEC 23270:2003 C# (1.0/1.2) enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="a2950-168">The compiler accepts only syntax that is included in ISO/IEC 23270:2003 C# (1.0/1.2)</span></span> |

## <a name="configure-multiple-projects"></a><span data-ttu-id="a2950-169">Konfigurieren mehrerer Projekte</span><span class="sxs-lookup"><span data-stu-id="a2950-169">Configure multiple projects</span></span>

<span data-ttu-id="a2950-170">Sie können eine **Directory.Build.props**-Datei erstellen, die das Element `<LangVersion>` enthält, um mehrere Verzeichnisse zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="a2950-170">You can create a **Directory.Build.props** file that contains the `<LangVersion>` element to configure multiple directories.</span></span> <span data-ttu-id="a2950-171">In der Regel führen Sie dies im Projektmappenverzeichnis durch.</span><span class="sxs-lookup"><span data-stu-id="a2950-171">You typically do that in your solution directory.</span></span> <span data-ttu-id="a2950-172">Fügen Sie Folgendes in eine **Directory.Build.props**-Datei in Ihrem Projektmappenverzeichnis ein:</span><span class="sxs-lookup"><span data-stu-id="a2950-172">Add the following to a **Directory.Build.props** file in your solution directory:</span></span>

```xml
<Project>
 <PropertyGroup>
   <LangVersion>7.3</LangVersion>
 </PropertyGroup>
</Project>
```

<span data-ttu-id="a2950-173">Nun verwenden alle Unterverzeichnisse des Verzeichnisses, das diese Datei enthält, die Syntax der Version 7.3 von C#.</span><span class="sxs-lookup"><span data-stu-id="a2950-173">Now, builds in every subdirectory of the directory containing that file will use C# version 7.3 syntax.</span></span> <span data-ttu-id="a2950-174">Weitere Informationen finden Sie im Artikel zum [Anpassen Ihres Builds](/visualstudio/msbuild/customize-your-build).</span><span class="sxs-lookup"><span data-stu-id="a2950-174">For more information, see the article on [Customize your build](/visualstudio/msbuild/customize-your-build).</span></span>

## <a name="set-the-langversion-compiler-option"></a><span data-ttu-id="a2950-175">Festlegen der Compileroption „langversion“</span><span class="sxs-lookup"><span data-stu-id="a2950-175">Set the langversion compiler option</span></span>

<span data-ttu-id="a2950-176">Sie können die Befehlszeilenoption `-langversion` verwenden.</span><span class="sxs-lookup"><span data-stu-id="a2950-176">You can use the `-langversion` command-line option.</span></span> <span data-ttu-id="a2950-177">Weitere Informationen finden Sie im Artikel zur Compileroption [-langversion](../language-reference/compiler-options/langversion-compiler-option.md).</span><span class="sxs-lookup"><span data-stu-id="a2950-177">For more information, see the article on the [-langversion](../language-reference/compiler-options/langversion-compiler-option.md) compiler option.</span></span> <span data-ttu-id="a2950-178">Sie können eine Liste der gültigen Werte anzeigen, indem Sie `csc -langversion:?` eingeben.</span><span class="sxs-lookup"><span data-stu-id="a2950-178">You can see a list of the valid values by typing  `csc -langversion:?`.</span></span>
