---
title: Arbeiten mit dem Semantikmodell für .NET Compiler Platform SDK
description: In dieser Übersicht werden die Typen vorgestellt, die Sie zum Verstehen und Bearbeiten von Semantikmodellen Ihres Codes verwenden.
ms.date: 10/15/2017
ms.custom: mvc
ms.openlocfilehash: 8575988cd98a4c0ba3f24107788f065f7472f55d
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 03/14/2020
ms.locfileid: "79156934"
---
# <a name="work-with-semantics"></a><span data-ttu-id="c2be2-103">Arbeiten mit der Semantik</span><span class="sxs-lookup"><span data-stu-id="c2be2-103">Work with semantics</span></span>

<span data-ttu-id="c2be2-104">[Syntaxstrukturen](work-with-syntax.md) stellen die lexikalische und syntaktische Struktur des Quellcodes dar.</span><span class="sxs-lookup"><span data-stu-id="c2be2-104">[Syntax trees](work-with-syntax.md) represent the lexical and syntactic structure of source code.</span></span> <span data-ttu-id="c2be2-105">Diese Informationen reichen zwar schon aus, um alle Deklarationen und die Logik in der Quelle zu beschreiben, jedoch reichen sie nicht aus, um Verweise zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="c2be2-105">Although this information alone is enough to describe all the declarations and logic in the source, it is not enough information to identify what is being referenced.</span></span> <span data-ttu-id="c2be2-106">Ein Name kann Folgendes darstellen:</span><span class="sxs-lookup"><span data-stu-id="c2be2-106">A name may represent:</span></span>

- <span data-ttu-id="c2be2-107">einen Typ</span><span class="sxs-lookup"><span data-stu-id="c2be2-107">a type</span></span>
- <span data-ttu-id="c2be2-108">ein Feld</span><span class="sxs-lookup"><span data-stu-id="c2be2-108">a field</span></span>
- <span data-ttu-id="c2be2-109">eine Methode</span><span class="sxs-lookup"><span data-stu-id="c2be2-109">a method</span></span>
- <span data-ttu-id="c2be2-110">eine lokale Variable</span><span class="sxs-lookup"><span data-stu-id="c2be2-110">a local variable</span></span>

<span data-ttu-id="c2be2-111">Zwar sind diese Elemente alle eindeutig, jedoch sind häufig tiefgreifende Kenntnisse über die Sprachregeln erforderlich, um zu bestimmen, auf welches Element ein Bezeichner verweist.</span><span class="sxs-lookup"><span data-stu-id="c2be2-111">Although each of these is uniquely different, determining which one an identifier actually refers to often requires a deep understanding of the language rules.</span></span>

<span data-ttu-id="c2be2-112">Im Quellcode werden Programmelemente dargestellt. Außerdem können Programme auf zuvor erstellte Bibliotheken verweisen, die in Assemblydateien gepackt wurden.</span><span class="sxs-lookup"><span data-stu-id="c2be2-112">There are program elements represented in source code, and programs can also refer to previously compiled libraries, packaged in assembly files.</span></span> <span data-ttu-id="c2be2-113">Zwar ist kein Quellcode für Assemblys verfügbar, und daher auch keine Syntaxknoten oder -strukturen, jedoch können Programme auf Elemente innerhalb der Assemblys verweisen.</span><span class="sxs-lookup"><span data-stu-id="c2be2-113">Although no source code, and therefore no syntax nodes or trees, are available for assemblies, programs can still refer to elements inside them.</span></span>

<span data-ttu-id="c2be2-114">Für Aufgaben wie diese benötigen Sie das **Semantikmodell**.</span><span class="sxs-lookup"><span data-stu-id="c2be2-114">For those tasks, you need the **Semantic model**.</span></span>

<span data-ttu-id="c2be2-115">Neben einem syntaktischen Modell des Quellcodes kapselt ein Semantikmodell die Sprachregeln, sodass Sie Bezeichner problemlos dem richtigen Programmelement zuordnen können, auf das verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="c2be2-115">In addition to a syntactic model of the source code, a semantic model encapsulates the language rules, giving you an easy way to correctly match identifiers with the correct program element being referenced.</span></span>

## <a name="compilation"></a><span data-ttu-id="c2be2-116">Kompilierung</span><span class="sxs-lookup"><span data-stu-id="c2be2-116">Compilation</span></span>

<span data-ttu-id="c2be2-117">Bei einer Kompilierung handelt es sich um eine Darstellung sämtlicher Elemente, die zum Kompilieren eines C#- oder Visual Basic-Programms benötigt werden. Dies umfasst alle Assemblyverweise, Compileroptionen und Quelldateien.</span><span class="sxs-lookup"><span data-stu-id="c2be2-117">A compilation is a representation of everything needed to compile a C# or Visual Basic program, which includes all the assembly references, compiler options, and source files.</span></span>

<span data-ttu-id="c2be2-118">Da all diese Informationen an demselben Ort gespeichert sind, können die Elemente, die im Quellcode enthalten sind, detaillierter beschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="c2be2-118">Because all this information is in one place, the elements contained in the source code can be described in more detail.</span></span> <span data-ttu-id="c2be2-119">Die Kompilierung stellt sämtliche deklarierten Typen, Member oder Variablen als verschiedene Symbole dar.</span><span class="sxs-lookup"><span data-stu-id="c2be2-119">The compilation represents each declared type, member, or variable as a symbol.</span></span> <span data-ttu-id="c2be2-120">Sie enthält verschiedene Methoden, die Sie dabei unterstützen, Symbole, die entweder im Quellcode deklariert sind oder als Metadaten aus einer Assembly importiert wurden, zu finden und Beziehungen dazu herzustellen.</span><span class="sxs-lookup"><span data-stu-id="c2be2-120">The compilation contains a variety of methods that help you find and relate the symbols that have either been declared in the source code or imported as metadata from an assembly.</span></span>

<span data-ttu-id="c2be2-121">Ähnlich wie Syntaxstrukturen sind Kompilierungen unveränderlich.</span><span class="sxs-lookup"><span data-stu-id="c2be2-121">Similar to syntax trees, compilations are immutable.</span></span> <span data-ttu-id="c2be2-122">Nachdem Sie eine Kompilierung erstellt haben, kann diese weder von Ihnen noch von anderen Personen verändert werden, mit denen Sie sie teilen.</span><span class="sxs-lookup"><span data-stu-id="c2be2-122">After you create a compilation, it cannot be changed by you or anyone else you might be sharing it with.</span></span> <span data-ttu-id="c2be2-123">Allerdings können Sie eine neue Kompilierung aus einer bereits vorhandenen erstellen und dabei Änderungen vornehmen.</span><span class="sxs-lookup"><span data-stu-id="c2be2-123">However, you can create a new compilation from an existing compilation, specifying a change as you do so.</span></span> <span data-ttu-id="c2be2-124">So können Sie z.B. eine Kompilierung erstellen, die einer bereits vorhandenen Kompilierung weitestgehend entspricht, aber eine zusätzliche Quelldatei oder einen zusätzlichen Quellverweis enthält.</span><span class="sxs-lookup"><span data-stu-id="c2be2-124">For example, you might create a compilation that is the same in every way as an existing compilation, except it may include an additional source file or assembly reference.</span></span>

## <a name="symbols"></a><span data-ttu-id="c2be2-125">Symbole</span><span class="sxs-lookup"><span data-stu-id="c2be2-125">Symbols</span></span>

<span data-ttu-id="c2be2-126">Ein Symbol stellt ein eindeutiges Element dar, das vom Quellcode deklariert wird oder aus einer Assembly als Metadatenelement importiert wird.</span><span class="sxs-lookup"><span data-stu-id="c2be2-126">A symbol represents a distinct element declared by the source code or imported from an assembly as metadata.</span></span> <span data-ttu-id="c2be2-127">Jeder einzelne Namespace, Typ, Parameter, jede einzelne Methode, Eigenschaft, lokale Variable und jedes einzelne Feld oder Ereignis wird von einem eigenen Symbol dargestellt.</span><span class="sxs-lookup"><span data-stu-id="c2be2-127">Every namespace, type, method, property, field, event, parameter, or local variable is represented by a symbol.</span></span>

<span data-ttu-id="c2be2-128">Mithilfe verschiedener Methoden und Eigenschaften des <xref:Microsoft.CodeAnalysis.Compilation>-Typs können Sie Symbole finden.</span><span class="sxs-lookup"><span data-stu-id="c2be2-128">A variety of methods and properties on the <xref:Microsoft.CodeAnalysis.Compilation> type help you find symbols.</span></span> <span data-ttu-id="c2be2-129">Beispielsweise können Sie ein Symbol für einen deklarierten Typ über einen allgemeinen Metadatennamen finden.</span><span class="sxs-lookup"><span data-stu-id="c2be2-129">For example, you can find a symbol for a declared type by its common metadata name.</span></span> <span data-ttu-id="c2be2-130">Außerdem können Sie auf die gesamte Symboltabelle als Symbolstruktur zugreifen, deren Stamm der globale Namespace ist.</span><span class="sxs-lookup"><span data-stu-id="c2be2-130">You can also access the entire symbol table as a tree of symbols rooted by the global namespace.</span></span>

<span data-ttu-id="c2be2-131">Außerdem enthalten Symbole zusätzliche Informationen, die der Compiler über die Quelle oder über Metadaten wie andere Symbole bestimmt, auf die verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="c2be2-131">Symbols also contain additional information that the compiler determines from the source or metadata, such as other referenced symbols.</span></span> <span data-ttu-id="c2be2-132">Jede Art von Symbol wird von einer separaten Schnittstelle dargestellt, die von <xref:Microsoft.CodeAnalysis.ISymbol> abgeleitet wird. Dabei verfügt jedes Symbol über eigene Methoden und Eigenschaften, die die vom Compiler erfassten Informationen enthalten.</span><span class="sxs-lookup"><span data-stu-id="c2be2-132">Each kind of symbol is represented by a separate interface derived from <xref:Microsoft.CodeAnalysis.ISymbol>, each with its own methods and properties detailing the information the compiler has gathered.</span></span> <span data-ttu-id="c2be2-133">Viele dieser Eigenschaften enthalten direkte Verweise auf andere Symbole.</span><span class="sxs-lookup"><span data-stu-id="c2be2-133">Many of these properties directly reference other symbols.</span></span> <span data-ttu-id="c2be2-134">Beispielsweise verweist die <xref:Microsoft.CodeAnalysis.IMethodSymbol.ReturnType?displayProperty=nameWithType>-Eigenschaft auf das tatsächliche Symbol, auf das die Methodendeklaration verweist.</span><span class="sxs-lookup"><span data-stu-id="c2be2-134">For example, the <xref:Microsoft.CodeAnalysis.IMethodSymbol.ReturnType?displayProperty=nameWithType> property tells you the actual type symbol that the method declaration references.</span></span>

<span data-ttu-id="c2be2-135">Symbole stehen für eine allgemeine Darstellungen von Namespaces, Typen und Mitgliedern zwischen Quellcode und Metadaten.</span><span class="sxs-lookup"><span data-stu-id="c2be2-135">Symbols present a common representation of namespaces, types, and members, between source code and metadata.</span></span> <span data-ttu-id="c2be2-136">Beispielsweise werden sowohl Methoden, die im Quellcode deklariert wurden, als auch Methoden, die aus Metadaten importiert wurden, von einem <xref:Microsoft.CodeAnalysis.IMethodSymbol> mit denselben Eigenschaften dargestellt.</span><span class="sxs-lookup"><span data-stu-id="c2be2-136">For example, a method that was declared in source code and a method that was imported from metadata are both represented by an <xref:Microsoft.CodeAnalysis.IMethodSymbol> with the same properties.</span></span>

<span data-ttu-id="c2be2-137">Symbole haben ein ähnliches Konzept wie CLR-Typsysteme, die von der <xref:System.Reflection>-API dargestellt werden. Allerdings sind sie umfangreicher, da sie mehr als nur Typen modellieren.</span><span class="sxs-lookup"><span data-stu-id="c2be2-137">Symbols are similar in concept to the CLR type system as represented by the <xref:System.Reflection> API, yet they are richer in that they model more than just types.</span></span> <span data-ttu-id="c2be2-138">Namespaces, lokale Variablen und Bezeichnungen sind Symbole.</span><span class="sxs-lookup"><span data-stu-id="c2be2-138">Namespaces, local variables, and labels are all symbols.</span></span> <span data-ttu-id="c2be2-139">Außerdem stellen Symbole keine CLR-Konzepte, sondern Sprachkonzepte dar.</span><span class="sxs-lookup"><span data-stu-id="c2be2-139">In addition, symbols are a representation of language concepts, not CLR concepts.</span></span> <span data-ttu-id="c2be2-140">Es gibt also einige Überlappungen, aber es werden auch wichtige Unterschiede deutlich.</span><span class="sxs-lookup"><span data-stu-id="c2be2-140">There is a lot of overlap, but there are many meaningful distinctions as well.</span></span> <span data-ttu-id="c2be2-141">Beispielsweise stellt eine Iteratormethode in C# oder Visual Basic ein einzelnes Symbol dar.</span><span class="sxs-lookup"><span data-stu-id="c2be2-141">For instance, an iterator method in C# or Visual Basic is a single symbol.</span></span> <span data-ttu-id="c2be2-142">Wenn die Iteratormethode allerdings in CLR-Metadaten übersetzt, handelt es sich dann um einen Typ und mehrere Methoden.</span><span class="sxs-lookup"><span data-stu-id="c2be2-142">However, when the iterator method is translated to CLR metadata, it is a type and multiple methods.</span></span>

## <a name="semantic-model"></a><span data-ttu-id="c2be2-143">Semantikmodell</span><span class="sxs-lookup"><span data-stu-id="c2be2-143">Semantic model</span></span>

<span data-ttu-id="c2be2-144">In einem Semantikmodell werden alle semantischen Informationen einer einzelnen Quelldatei dargestellt.</span><span class="sxs-lookup"><span data-stu-id="c2be2-144">A semantic model represents all the semantic information for a single source file.</span></span> <span data-ttu-id="c2be2-145">Sie können es verwenden, um Folgendes zu ermitteln:</span><span class="sxs-lookup"><span data-stu-id="c2be2-145">You can use it to discover the following:</span></span>

- <span data-ttu-id="c2be2-146">Die Symbole, auf die an einer bestimmten Stelle in der Quelle verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="c2be2-146">The symbols referenced at a specific location in source.</span></span>
- <span data-ttu-id="c2be2-147">Der resultierende Typ eines beliebigen Ausdrucks.</span><span class="sxs-lookup"><span data-stu-id="c2be2-147">The resultant type of any expression.</span></span>
- <span data-ttu-id="c2be2-148">Alle Diagnosen, bei denen es sich um Fehler oder Warnungen handelt.</span><span class="sxs-lookup"><span data-stu-id="c2be2-148">All diagnostics, which are errors and warnings.</span></span>
- <span data-ttu-id="c2be2-149">Die Art und Weise, wie Variablen in bestimmte Bereiche der Quelle hinein und wieder aus ihnen heraus fließen.</span><span class="sxs-lookup"><span data-stu-id="c2be2-149">How variables flow in and out of regions of source.</span></span>
- <span data-ttu-id="c2be2-150">Antworten auf Fragen mit spekulativem Charakter.</span><span class="sxs-lookup"><span data-stu-id="c2be2-150">The answers to more speculative questions.</span></span>
