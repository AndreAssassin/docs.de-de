---
title: Methoden – C#-Programmierhandbuch
ms.date: 07/20/2015
helpviewer_keywords:
- methods [C#]
- C# language, methods
ms.assetid: cc738f07-e8cd-4683-9585-9f40c0667c37
ms.openlocfilehash: 5955228d51d2f6845a363bcaf32581b6598273f6
ms.sourcegitcommit: 5f236cd78cf09593c8945a7d753e0850e96a0b80
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2020
ms.locfileid: "75714772"
---
# <a name="methods-c-programming-guide"></a><span data-ttu-id="fe182-102">Methoden (C#-Programmierhandbuch)</span><span class="sxs-lookup"><span data-stu-id="fe182-102">Methods (C# Programming Guide)</span></span>

<span data-ttu-id="fe182-103">Eine Methode ist ein Codeblock, der eine Reihe von Anweisungen enthält.</span><span class="sxs-lookup"><span data-stu-id="fe182-103">A method is a code block that contains a series of statements.</span></span> <span data-ttu-id="fe182-104">Ein Programm bewirkt die Ausführung der Anweisungen, indem die Methode aufgerufen wird und alle erforderlichen Methodenargumente angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="fe182-104">A program causes the statements to be executed by calling the method and specifying any required method arguments.</span></span> <span data-ttu-id="fe182-105">In C# werden alle Anweisungen im Kontext einer Methode ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="fe182-105">In C#, every executed instruction is performed in the context of a method.</span></span> <span data-ttu-id="fe182-106">Die Methode `Main` ist der Einstiegspunkt jeder C#-Anwendung und wird beim Start des Programms von der Common Language Runtime (CLR) aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="fe182-106">The `Main` method is the entry point for every C# application and it's called by the common language runtime (CLR) when the program is started.</span></span>

> [!NOTE]
> <span data-ttu-id="fe182-107">In diesem Artikel werden benannte Methoden erläutert.</span><span class="sxs-lookup"><span data-stu-id="fe182-107">This article discusses named methods.</span></span> <span data-ttu-id="fe182-108">Informationen über anonyme Funktionen finden Sie unter [Anonyme Funktionen](../statements-expressions-operators/anonymous-functions.md).</span><span class="sxs-lookup"><span data-stu-id="fe182-108">For information about anonymous functions, see [Anonymous Functions](../statements-expressions-operators/anonymous-functions.md).</span></span>

## <a name="method-signatures"></a><span data-ttu-id="fe182-109">Methodensignaturen</span><span class="sxs-lookup"><span data-stu-id="fe182-109">Method signatures</span></span>

<span data-ttu-id="fe182-110">Methoden werden in einer [Klasse](../../language-reference/keywords/class.md) oder [Struktur](../../language-reference/keywords/struct.md) deklariert, indem die Zugriffsebene wie z. B. `public` oder `private`, optionale Modifizierer wie z. B. `abstract` oder `sealed`, der Rückgabewert, der Name der Methode und die Methodenparameter angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="fe182-110">Methods are declared in a [class](../../language-reference/keywords/class.md) or [struct](../../language-reference/keywords/struct.md) by specifying the access level such as `public` or `private`, optional modifiers such as `abstract` or `sealed`, the return value, the name of the method, and any method parameters.</span></span> <span data-ttu-id="fe182-111">Diese Teile bilden zusammen die Signatur der Methode.</span><span class="sxs-lookup"><span data-stu-id="fe182-111">These parts together are the signature of the method.</span></span>

> [!NOTE]
> <span data-ttu-id="fe182-112">Ein Rückgabetyp einer Methode ist nicht Teil der Signatur der Methode, wenn es um die Methodenüberladung geht.</span><span class="sxs-lookup"><span data-stu-id="fe182-112">A return type of a method is not part of the signature of the method for the purposes of method overloading.</span></span> <span data-ttu-id="fe182-113">Er ist jedoch Teil der Methodensignatur, wenn die Kompatibilität zwischen einem Delegaten und der Methode bestimmt wird, auf die dieser verweist.</span><span class="sxs-lookup"><span data-stu-id="fe182-113">However, it is part of the signature of the method when determining the compatibility between a delegate and the method that it points to.</span></span>

<span data-ttu-id="fe182-114">Methodenparameter werden in Klammern eingeschlossen und durch Kommas getrennt.</span><span class="sxs-lookup"><span data-stu-id="fe182-114">Method parameters are enclosed in parentheses and are separated by commas.</span></span> <span data-ttu-id="fe182-115">Leere Klammern geben an, dass für die Methode keine Parameter erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="fe182-115">Empty parentheses indicate that the method requires no parameters.</span></span> <span data-ttu-id="fe182-116">Diese Klasse enthält vier Methoden:</span><span class="sxs-lookup"><span data-stu-id="fe182-116">This class contains four methods:</span></span>

[!code-csharp[csProgGuideObjects#40](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#40)]

## <a name="method-access"></a><span data-ttu-id="fe182-117">Methodenzugriff</span><span class="sxs-lookup"><span data-stu-id="fe182-117">Method access</span></span>

<span data-ttu-id="fe182-118">Das Aufrufen einer Methode für ein Objekt ähnelt dem Zugreifen auf ein Feld.</span><span class="sxs-lookup"><span data-stu-id="fe182-118">Calling a method on an object is like accessing a field.</span></span> <span data-ttu-id="fe182-119">Fügen Sie nach dem Objektnamen einen Punkt, den Namen der Methode und Klammern hinzu.</span><span class="sxs-lookup"><span data-stu-id="fe182-119">After the object name, add a period, the name of the method, and parentheses.</span></span> <span data-ttu-id="fe182-120">Argumente werden innerhalb der Klammern aufgelistet und durch Kommas getrennt.</span><span class="sxs-lookup"><span data-stu-id="fe182-120">Arguments are listed within the parentheses, and are separated by commas.</span></span> <span data-ttu-id="fe182-121">Die Methoden der `Motorcycle` -Klasse können also wie im folgenden Beispiel gezeigt aufgerufen werden:</span><span class="sxs-lookup"><span data-stu-id="fe182-121">The methods of the `Motorcycle` class can therefore be called as in the following example:</span></span>

[!code-csharp[csProgGuideObjects#41](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#41)]

## <a name="method-parameters-vs-arguments"></a><span data-ttu-id="fe182-122">Methodenparameter und Argumente</span><span class="sxs-lookup"><span data-stu-id="fe182-122">Method parameters vs. arguments</span></span>

<span data-ttu-id="fe182-123">Die Methodendefinition gibt die Namen und Typen aller ggf. erforderlichen Parameter an.</span><span class="sxs-lookup"><span data-stu-id="fe182-123">The method definition specifies the names and types of any parameters that are required.</span></span> <span data-ttu-id="fe182-124">Wenn aufrufender Code die Methode aufruft, werden für jeden Parameter konkrete Werte bereitgestellt, die als Argumente bezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="fe182-124">When calling code calls the method, it provides concrete values called arguments for each parameter.</span></span> <span data-ttu-id="fe182-125">Die Argumente müssen mit dem Parametertyp kompatibel sein, aber der im aufrufenden Code verwendete Name des Arguments (sofern vorhanden) muss nicht mit dem in der Methode definierten Parameternamen identisch sein.</span><span class="sxs-lookup"><span data-stu-id="fe182-125">The arguments must be compatible with the parameter type but the argument name (if any) used in the calling code doesn't have to be the same as the parameter named defined in the method.</span></span> <span data-ttu-id="fe182-126">Zum Beispiel:</span><span class="sxs-lookup"><span data-stu-id="fe182-126">For example:</span></span>

[!code-csharp[csProgGuideObjects#74](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#74)]

## <a name="passing-by-reference-vs-passing-by-value"></a><span data-ttu-id="fe182-127">Übergeben nach Verweis und Übergeben nach Wert</span><span class="sxs-lookup"><span data-stu-id="fe182-127">Passing by reference vs. passing by value</span></span>

<span data-ttu-id="fe182-128">Wenn ein Werttyp an eine Methode übergeben wird, wird anstelle des eigentlichen Objekts standardmäßig eine Kopie übergeben.</span><span class="sxs-lookup"><span data-stu-id="fe182-128">By default, when a value type is passed to a method, a copy is passed instead of the object itself.</span></span> <span data-ttu-id="fe182-129">Änderungen am Argument haben daher keine Auswirkungen auf die ursprüngliche Kopie in der aufrufenden Methode.</span><span class="sxs-lookup"><span data-stu-id="fe182-129">Therefore, changes to the argument have no effect on the original copy in the calling method.</span></span> <span data-ttu-id="fe182-130">Sie können einen Werttyp als Verweis übergeben, indem Sie das ref-Schlüsselwort verwenden.</span><span class="sxs-lookup"><span data-stu-id="fe182-130">You can pass a value-type by reference by using the ref keyword.</span></span> <span data-ttu-id="fe182-131">Weitere Informationen finden Sie unter [Übergeben von Werttypparametern](./passing-value-type-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="fe182-131">For more information, see [Passing Value-Type Parameters](./passing-value-type-parameters.md).</span></span> <span data-ttu-id="fe182-132">Eine Liste der integrierten Werttypen finden Sie unter [Tabelle der Typen und Variablen](../../language-reference/keywords/value-types-table.md).</span><span class="sxs-lookup"><span data-stu-id="fe182-132">For a list of built-in value types, see [Value Types Table](../../language-reference/keywords/value-types-table.md).</span></span>

<span data-ttu-id="fe182-133">Wenn ein Objekt eines Verweistyps an eine Methode übergeben wird, wird ein Verweis auf das Objekt übergeben.</span><span class="sxs-lookup"><span data-stu-id="fe182-133">When an object of a reference type is passed to a method, a reference to the object is passed.</span></span> <span data-ttu-id="fe182-134">Das heißt, die Methode erhält nicht das Objekt selbst, sondern ein Argument, das den Speicherort des Objekts angibt.</span><span class="sxs-lookup"><span data-stu-id="fe182-134">That is, the method receives not the object itself but an argument that indicates the location of the object.</span></span> <span data-ttu-id="fe182-135">Wenn Sie einen Member des Objekts unter Verwendung dieses Verweises ändern, wird die Änderung im Argument in der aufrufenden Methode berücksichtigt, selbst wenn Sie das Objekt als Wert übergeben.</span><span class="sxs-lookup"><span data-stu-id="fe182-135">If you change a member of the object by using this reference, the change is reflected in the argument in the calling method, even if you pass the object by value.</span></span>

<span data-ttu-id="fe182-136">Sie erstellen einen Verweistyp mithilfe des `class`-Schlüsselworts, wie im folgenden Beispiel gezeigt:</span><span class="sxs-lookup"><span data-stu-id="fe182-136">You create a reference type by using the `class` keyword, as the following example shows:</span></span>

[!code-csharp[csProgGuideObjects#42](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#42)]

<span data-ttu-id="fe182-137">Wenn Sie jetzt ein Objekt, das auf diesem Typ basiert, an eine Methode übergeben, wird ein Verweis auf das Objekt übergeben.</span><span class="sxs-lookup"><span data-stu-id="fe182-137">Now, if you pass an object that is based on this type to a method, a reference to the object is passed.</span></span> <span data-ttu-id="fe182-138">Das folgende Beispiel übergibt ein Objekt des `SampleRefType`-Typs an die `ModifyObject`-Methode:</span><span class="sxs-lookup"><span data-stu-id="fe182-138">The following example passes an object of type `SampleRefType` to method `ModifyObject`:</span></span>

[!code-csharp[csProgGuideObjects#75](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#75)]

<span data-ttu-id="fe182-139">Das Beispiel entspricht im Wesentlichen dem vorherigen Beispiel und übergibt ein Argument als Wert an eine Methode.</span><span class="sxs-lookup"><span data-stu-id="fe182-139">The example does essentially the same thing as the previous example in that it passes an argument by value to a method.</span></span> <span data-ttu-id="fe182-140">Aber da ein Verweistyp verwendet wird, unterscheidet sich das Ergebnis.</span><span class="sxs-lookup"><span data-stu-id="fe182-140">But, because a reference type is used, the result is different.</span></span> <span data-ttu-id="fe182-141">Die Änderung, die in `ModifyObject` am `value` -Feld des Parameters ( `obj`) vorgenommen wird, ändert auch das `value` -Feld des Arguments ( `rt`) in der `TestRefType` -Methode.</span><span class="sxs-lookup"><span data-stu-id="fe182-141">The modification that is made in `ModifyObject` to the `value` field of the parameter, `obj`, also changes the `value` field of the argument, `rt`, in the `TestRefType` method.</span></span> <span data-ttu-id="fe182-142">Die `TestRefType` -Methode zeigt 33 als Ausgabe an.</span><span class="sxs-lookup"><span data-stu-id="fe182-142">The `TestRefType` method displays 33 as the output.</span></span>

<span data-ttu-id="fe182-143">Weitere Informationen zum Übergeben von Verweistypen als Verweis oder als Wert finden Sie unter [Übergeben von Verweistypparametern ](./passing-reference-type-parameters.md) und [Verweistypen](../../language-reference/keywords/reference-types.md).</span><span class="sxs-lookup"><span data-stu-id="fe182-143">For more information about how to pass reference types by reference and by value, see [Passing Reference-Type Parameters](./passing-reference-type-parameters.md) and [Reference Types](../../language-reference/keywords/reference-types.md).</span></span>

## <a name="return-values"></a><span data-ttu-id="fe182-144">Rückgabewerte</span><span class="sxs-lookup"><span data-stu-id="fe182-144">Return values</span></span>

<span data-ttu-id="fe182-145">Methoden können einen Wert an die aufrufende Funktion (den Aufrufer) zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="fe182-145">Methods can return a value to the caller.</span></span> <span data-ttu-id="fe182-146">Wenn der Rückgabetyp – der vor dem Methodennamen aufgeführte Typ – nicht `void`ist, kann die Methode den Wert mithilfe des `return` -Schlüsselworts zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="fe182-146">If the return type, the type listed before the method name, is not `void`, the method can return the value by using the `return` keyword.</span></span> <span data-ttu-id="fe182-147">Eine Anweisung mit der `return` -Schlüsselwort, gefolgt von einem Wert, der dem Rückgabetyp entspricht, gibt diesen Wert an den Methodenaufrufer zurück.</span><span class="sxs-lookup"><span data-stu-id="fe182-147">A statement with the `return` keyword followed by a value that matches the return type will return that value to the method caller.</span></span>

<span data-ttu-id="fe182-148">Der Wert kann an den Aufrufer nach Wert oder, ab C# 7.0, [nach Verweis](ref-returns.md) zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="fe182-148">The value can be returned to the caller by value or, starting with C# 7.0, [by reference](ref-returns.md).</span></span> <span data-ttu-id="fe182-149">Werte werden an den Aufrufer nach Verweis zurückgegeben, wenn das Schlüsselwort `ref` in der Methodensignatur verwendet wird und auf jedes `return`-Schlüsselwort folgt.</span><span class="sxs-lookup"><span data-stu-id="fe182-149">Values are returned to the caller by reference if the `ref` keyword is used in the method signature and it follows each `return` keyword.</span></span> <span data-ttu-id="fe182-150">Die folgende Methodensignatur und Rückgabeanweisung geben an, dass die Methode eine Variable mit dem Namen `estDistance` nach Verweis an den Aufrufer zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="fe182-150">For example, the following method signature and return statement indicate that the method returns a variable names `estDistance` by reference to the caller.</span></span>

```csharp
public ref double GetEstimatedDistance()
{
    return ref estDistance;
}
```

<span data-ttu-id="fe182-151">Das `return` -Schlüsselwort beendet außerdem die Ausführung der Methode.</span><span class="sxs-lookup"><span data-stu-id="fe182-151">The `return` keyword also stops the execution of the method.</span></span> <span data-ttu-id="fe182-152">Wenn der Rückgabetyp `void`ist, ist eine `return` -Anweisung ohne Wert immer noch nützlich, um die Ausführung der Methode zu beenden.</span><span class="sxs-lookup"><span data-stu-id="fe182-152">If the return type is `void`, a `return` statement without a value is still useful to stop the execution of the method.</span></span> <span data-ttu-id="fe182-153">Ohne das `return` -Schlüsselwort wird die Ausführung der Methode beendet, wenn das Ende des Codeblocks erreicht ist.</span><span class="sxs-lookup"><span data-stu-id="fe182-153">Without the `return` keyword, the method will stop executing when it reaches the end of the code block.</span></span> <span data-ttu-id="fe182-154">Methoden mit einem anderen Rückgabetyp als „void“ müssen das `return` -Schlüsselwort verwenden, um einen Wert zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="fe182-154">Methods with a non-void return type are required to use the `return` keyword to return a value.</span></span> <span data-ttu-id="fe182-155">Die folgenden beiden Methoden verwenden z. B. das `return` -Schlüsselwort, um ganze Zahlen zurückzugeben:</span><span class="sxs-lookup"><span data-stu-id="fe182-155">For example, these two methods use the `return` keyword to return integers:</span></span>

[!code-csharp[csProgGuideObjects#44](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#44)]

<span data-ttu-id="fe182-156">Um einen von einer Methode zurückgegebenen Wert zu verwenden, kann die aufrufende Methode den Methodenaufruf selbst an jeder Stelle verwenden, an der ein Wert des gleichen Typs ausreichend ist.</span><span class="sxs-lookup"><span data-stu-id="fe182-156">To use a value returned from a method, the calling method can use the method call itself anywhere a value of the same type would be sufficient.</span></span> <span data-ttu-id="fe182-157">Sie können den Rückgabewert auch einer Variablen zuweisen.</span><span class="sxs-lookup"><span data-stu-id="fe182-157">You can also assign the return value to a variable.</span></span> <span data-ttu-id="fe182-158">Beispielsweise wird mit den folgenden beiden Codebeispiele das gleiche Ergebnis erzielt:</span><span class="sxs-lookup"><span data-stu-id="fe182-158">For example, the following two code examples accomplish the same goal:</span></span>

[!code-csharp[csProgGuideObjects#45](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#45)]

[!code-csharp[csProgGuideObjects#46](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#46)]

<span data-ttu-id="fe182-159">Die Verwendung einer lokalen Variablen, in diesem Fall `result`, zum Speichern eines Werts ist optional.</span><span class="sxs-lookup"><span data-stu-id="fe182-159">Using a local variable, in this case, `result`, to store a value is optional.</span></span> <span data-ttu-id="fe182-160">Es kann die Lesbarkeit des Codes verbessern, oder es kann notwendig sein, wenn Sie den ursprünglichen Wert des Arguments für den gesamten Gültigkeitsbereich der Methode speichern müssen.</span><span class="sxs-lookup"><span data-stu-id="fe182-160">It may help the readability of the code, or it may be necessary if you need to store the original value of the argument for the entire scope of the method.</span></span>

<span data-ttu-id="fe182-161">Um einen Wert zu verwenden, der nach Verweis von einer Methode zurückgegeben wurde, müssen Sie die Variable [ref local](ref-returns.md#ref-locals) deklarieren, wenn Sie diesen Wert modifizieren möchten.</span><span class="sxs-lookup"><span data-stu-id="fe182-161">To use a value returned by reference from a method, you must declare a [ref local](ref-returns.md#ref-locals) variable if you intend to modify its value.</span></span> <span data-ttu-id="fe182-162">Wenn die `Planet.GetEstimatedDistance`-Methode z.B. einen <xref:System.Double>-Wert nach Verweis zurückgibt, können Sie ihn mit Code wie dem folgenden als ref local-Variable definieren:</span><span class="sxs-lookup"><span data-stu-id="fe182-162">For example, if the `Planet.GetEstimatedDistance` method returns a <xref:System.Double> value by reference, you can define it as a ref local variable with code like the following:</span></span>

```csharp
ref int distance = plant
```

<span data-ttu-id="fe182-163">Die Zurückgabe eines mehrdimensionalen Arrays aus einer Methode, `M`, die den Inhalt eines Arrays modifiziert, ist nicht vonnöten, wenn die aufrufende Funktion das Array an `M` übergeben hat.</span><span class="sxs-lookup"><span data-stu-id="fe182-163">Returning a multi-dimensional array from a method, `M`, that modifies the array's contents is not necessary if the calling function passed the array into `M`.</span></span>  <span data-ttu-id="fe182-164">Sie können das resultierende Array aus `M` für den funktionalen Fluss der Werte oder aus stilistischen Gründen zurückgeben. Dies ist jedoch nicht nötig, da C# alle Referenztypen nach Wert übergibt und der Wert eines Arrayverweises ein Zeiger auf das Array ist.</span><span class="sxs-lookup"><span data-stu-id="fe182-164">You may return the resulting array from `M` for good style or functional flow of values, but it is not necessary because C# passes all reference types by value, and the value of an array reference is the pointer to the array.</span></span> <span data-ttu-id="fe182-165">In der Methode `M` werden Änderungen am Inhalt des Arrays durch jeden Code berücksichtigt, der einen Verweis auf das Array enthält, wie im folgenden Beispiel gezeigt:</span><span class="sxs-lookup"><span data-stu-id="fe182-165">In the method `M`, any changes to the array's contents are observable by any code that has a reference to the array, as shown in the following example:</span></span>

```csharp
static void Main(string[] args)
{
    int[,] matrix = new int[2, 2];
    FillMatrix(matrix);
    // matrix is now full of -1
}

public static void FillMatrix(int[,] matrix)
{
    for (int i = 0; i < matrix.GetLength(0); i++)
    {
        for (int j = 0; j < matrix.GetLength(1); j++)
        {
            matrix[i, j] = -1;
        }
    }
}
```

<span data-ttu-id="fe182-166">Weitere Informationen finden Sie unter [return](../../language-reference/keywords/return.md).</span><span class="sxs-lookup"><span data-stu-id="fe182-166">For more information, see [return](../../language-reference/keywords/return.md).</span></span>

## <a name="async-methods"></a><span data-ttu-id="fe182-167">Asynchrone Methoden</span><span class="sxs-lookup"><span data-stu-id="fe182-167">Async methods</span></span>

<span data-ttu-id="fe182-168">Mithilfe der Async-Funktion können Sie asynchrone Methoden aufrufen, ohne explizite Rückrufe verwenden oder den Code manuell über mehrere Methoden oder Lambda-Ausdrücke teilen zu müssen.</span><span class="sxs-lookup"><span data-stu-id="fe182-168">By using the async feature, you can invoke asynchronous methods without using explicit callbacks or manually splitting your code across multiple methods or lambda expressions.</span></span>

<span data-ttu-id="fe182-169">Wenn Sie eine Methode mit dem Modifizierer [async](../../language-reference/keywords/async.md) kennzeichnen, können Sie den Operator [await](../../language-reference/operators/await.md) in der Methode verwenden.</span><span class="sxs-lookup"><span data-stu-id="fe182-169">If you mark a method with the [async](../../language-reference/keywords/async.md) modifier, you can use the [await](../../language-reference/operators/await.md) operator in the method.</span></span> <span data-ttu-id="fe182-170">Wenn ein await-Ausdruck in der asynchronen Methode erreicht wird, wird die Steuerung an den Aufrufer zurückgegeben, und die Ausführung der Methode wird angehalten, bis die erwartete Aufgabe abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="fe182-170">When control reaches an await expression in the async method, control returns to the caller, and progress in the method is suspended until the awaited task completes.</span></span> <span data-ttu-id="fe182-171">Wenn die Aufgabe abgeschlossen ist, kann die Ausführung in der Methode fortgesetzt werden.</span><span class="sxs-lookup"><span data-stu-id="fe182-171">When the task is complete, execution can resume in the method.</span></span>

> [!NOTE]
> <span data-ttu-id="fe182-172">Eine asynchrone Methode wird an den Aufrufer zurückgegeben, wenn sie entweder auf das erste erwartete Objekt trifft, das noch nicht abgeschlossen wurde, oder das Ende der asynchronen Methode erreicht.</span><span class="sxs-lookup"><span data-stu-id="fe182-172">An async method returns to the caller when either it encounters the first awaited object that’s not yet complete or it gets to the end of the async method, whichever occurs first.</span></span>

<span data-ttu-id="fe182-173">Eine asynchrone Methode kann den Rückgabetyp <xref:System.Threading.Tasks.Task%601>, <xref:System.Threading.Tasks.Task>oder „void“ haben.</span><span class="sxs-lookup"><span data-stu-id="fe182-173">An async method can have a return type of <xref:System.Threading.Tasks.Task%601>, <xref:System.Threading.Tasks.Task>, or void.</span></span> <span data-ttu-id="fe182-174">Der void-Rückgabetyp wird hauptsächlich zum Definieren von Ereignishandlern verwendet, bei denen ein void-Rückgabetyp erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="fe182-174">The void return type is used primarily to define event handlers, where a void return type is required.</span></span> <span data-ttu-id="fe182-175">Auf eine asynchrone Methode, die „void“ zurückgibt, kann nicht gewartet werden, und der Aufrufer einer Methode mit void-Rückgabe kann keine Ausnahmen auffangen, die die Methode auslöst.</span><span class="sxs-lookup"><span data-stu-id="fe182-175">An async method that returns void can't be awaited, and the caller of a void-returning method can't catch exceptions that the method throws.</span></span>

<span data-ttu-id="fe182-176">Im folgenden Beispiel ist `DelayAsync` eine asynchrone Methode mit dem Rückgabetyp <xref:System.Threading.Tasks.Task%601>.</span><span class="sxs-lookup"><span data-stu-id="fe182-176">In the following example, `DelayAsync` is an async method that has a return type of <xref:System.Threading.Tasks.Task%601>.</span></span> <span data-ttu-id="fe182-177">`DelayAsync` enthält eine `return` -Anweisung, die eine ganze Zahl zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="fe182-177">`DelayAsync` has a `return` statement that returns an integer.</span></span> <span data-ttu-id="fe182-178">Aus diesem Grund muss die Methodendeklaration von `DelayAsync` den Rückgabetyp `Task<int>`haben.</span><span class="sxs-lookup"><span data-stu-id="fe182-178">Therefore the method declaration of `DelayAsync` must have a return type of `Task<int>`.</span></span> <span data-ttu-id="fe182-179">Da der Rückgabetyp `Task<int>`ist, ergibt die Auswertung des `await` -Ausdrucks in `DoSomethingAsync` eine ganze Zahl, wie die folgende Anweisung veranschaulicht: `int result = await delayTask`.</span><span class="sxs-lookup"><span data-stu-id="fe182-179">Because the return type is `Task<int>`, the evaluation of the `await` expression in `DoSomethingAsync` produces an integer as the following statement demonstrates: `int result = await delayTask`.</span></span>

<span data-ttu-id="fe182-180">Die `startButton_Click` -Methode ist ein Beispiel für eine asynchrone Methode mit void-Rückgabetyp.</span><span class="sxs-lookup"><span data-stu-id="fe182-180">The `startButton_Click` method is an example of an async method that has a return type of void.</span></span> <span data-ttu-id="fe182-181">Da `DoSomethingAsync` eine asynchrone Methode ist, muss die Aufgabe für den Aufruf von `DoSomethingAsync` abgewartet werden, wie in der folgenden Anweisung dargestellt: `await DoSomethingAsync();`.</span><span class="sxs-lookup"><span data-stu-id="fe182-181">Because `DoSomethingAsync` is an async method, the task for the call to `DoSomethingAsync` must be awaited, as the following statement shows: `await DoSomethingAsync();`.</span></span> <span data-ttu-id="fe182-182">Die `startButton_Click` -Methode muss mit dem `async` -Modifizierer definiert werden, da die Methode über einen `await` -Ausdruck verfügt.</span><span class="sxs-lookup"><span data-stu-id="fe182-182">The `startButton_Click` method must be defined with the `async` modifier because the method has an `await` expression.</span></span>

[!code-csharp[csAsyncMethod#2](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csasyncmethod/cs/mainwindow.xaml.cs#2)]

<span data-ttu-id="fe182-183">Mit einer asynchronen Methode können keine [ref](../../language-reference/keywords/ref.md) - oder [out](../../language-reference/keywords/out-parameter-modifier.md) -Parameter deklariert, jedoch Methoden aufgerufen werden, die solche Parameter aufweisen.</span><span class="sxs-lookup"><span data-stu-id="fe182-183">An async method can't declare any [ref](../../language-reference/keywords/ref.md) or [out](../../language-reference/keywords/out-parameter-modifier.md) parameters, but it can call methods that have such parameters.</span></span>

<span data-ttu-id="fe182-184">Weitere Informationen über asynchrone Methoden finden Sie unter [Asynchronous Programming with async and await (Asynchrone Programmierung mit Async und Await)](../concepts/async/index.md), [Ablaufsteuerung in asynchronen Programmen](../concepts/async/control-flow-in-async-programs.md) und [Asynchrone Rückgabetypen](../concepts/async/async-return-types.md).</span><span class="sxs-lookup"><span data-stu-id="fe182-184">For more information about async methods, see [Asynchronous Programming with async and await](../concepts/async/index.md), [Control Flow in Async Programs](../concepts/async/control-flow-in-async-programs.md), and [Async Return Types](../concepts/async/async-return-types.md).</span></span>

## <a name="expression-body-definitions"></a><span data-ttu-id="fe182-185">Ausdruckstextdefinitionen</span><span class="sxs-lookup"><span data-stu-id="fe182-185">Expression body definitions</span></span>

<span data-ttu-id="fe182-186">Es gibt häufig Methodendefinitionen, die einfach direkt das Ergebnis eines Ausdrucks zurückgeben oder eine einzige Anweisung als Text der Methode aufweisen.</span><span class="sxs-lookup"><span data-stu-id="fe182-186">It is common to have method definitions that simply return immediately with the result of an expression, or that have a single statement as the body of the method.</span></span> <span data-ttu-id="fe182-187">Es ist eine Syntaxabkürzung zur Definition solcher Methoden mithilfe von `=>`verfügbar:</span><span class="sxs-lookup"><span data-stu-id="fe182-187">There is a syntax shortcut for defining such methods using `=>`:</span></span>

```csharp
public Point Move(int dx, int dy) => new Point(x + dx, y + dy);
public void Print() => Console.WriteLine(First + " " + Last);
// Works with operators, properties, and indexers too.
public static Complex operator +(Complex a, Complex b) => a.Add(b);
public string Name => First + " " + Last;
public Customer this[long id] => store.LookupCustomer(id);
```

<span data-ttu-id="fe182-188">Wenn die Methode `void` zurückgibt oder es sich um eine asynchrone Methode handelt, muss der Text der Methode ein Anweisungsausdruck sein (wie bei Lambdas).</span><span class="sxs-lookup"><span data-stu-id="fe182-188">If the method returns `void` or is an async method, then the body of the method must be a statement expression (same as with lambdas).</span></span> <span data-ttu-id="fe182-189">Eigenschaften und Indexer müssen schreibgeschützt sein. Verwenden Sie darüber hinaus nicht das `get`-Accessorschlüsselwort.</span><span class="sxs-lookup"><span data-stu-id="fe182-189">For properties and indexers, they must be read only, and you don't use the `get` accessor keyword.</span></span>

## <a name="iterators"></a><span data-ttu-id="fe182-190">Iterators</span><span class="sxs-lookup"><span data-stu-id="fe182-190">Iterators</span></span>

<span data-ttu-id="fe182-191">Ein Iterator führt eine benutzerdefinierte Iteration durch eine Auflistung durch, z. B. eine Liste oder ein Array.</span><span class="sxs-lookup"><span data-stu-id="fe182-191">An iterator performs a custom iteration over a collection, such as a list or an array.</span></span> <span data-ttu-id="fe182-192">Ein Iterator verwendet die [yield return](../../language-reference/keywords/yield.md) -Anweisung, um jedes Element einzeln nacheinander zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="fe182-192">An iterator uses the [yield return](../../language-reference/keywords/yield.md) statement to return each element one at a time.</span></span> <span data-ttu-id="fe182-193">Wenn eine [yield return](../../language-reference/keywords/yield.md) -Anweisung erreicht wird, wird die aktuelle Position im Code gespeichert.</span><span class="sxs-lookup"><span data-stu-id="fe182-193">When a [yield return](../../language-reference/keywords/yield.md) statement is reached, the current location in code is remembered.</span></span> <span data-ttu-id="fe182-194">Wenn der Iterator das nächste Mal aufgerufen wird, wird die Ausführung von dieser Position neu gestartet.</span><span class="sxs-lookup"><span data-stu-id="fe182-194">Execution is restarted from that location when the iterator is called the next time.</span></span>

<span data-ttu-id="fe182-195">Sie rufen einen Iterator im Clientcode mithilfe einer [foreach](../../language-reference/keywords/foreach-in.md) Anweisung auf.</span><span class="sxs-lookup"><span data-stu-id="fe182-195">You call an iterator from client code by using a [foreach](../../language-reference/keywords/foreach-in.md) statement.</span></span>

<span data-ttu-id="fe182-196">Der Rückgabetyp eines Iterators kann <xref:System.Collections.IEnumerable>, <xref:System.Collections.Generic.IEnumerable%601>, <xref:System.Collections.IEnumerator> oder <xref:System.Collections.Generic.IEnumerator%601> sein.</span><span class="sxs-lookup"><span data-stu-id="fe182-196">The return type of an iterator can be <xref:System.Collections.IEnumerable>, <xref:System.Collections.Generic.IEnumerable%601>, <xref:System.Collections.IEnumerator>, or <xref:System.Collections.Generic.IEnumerator%601>.</span></span>

<span data-ttu-id="fe182-197">Weitere Informationen finden Sie unter [Iteratoren](../concepts/iterators.md).</span><span class="sxs-lookup"><span data-stu-id="fe182-197">For more information, see [Iterators](../concepts/iterators.md).</span></span>

## <a name="c-language-specification"></a><span data-ttu-id="fe182-198">C#-Sprachspezifikation</span><span class="sxs-lookup"><span data-stu-id="fe182-198">C# language specification</span></span>

[!INCLUDE[CSharplangspec](~/includes/csharplangspec-md.md)]

## <a name="see-also"></a><span data-ttu-id="fe182-199">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="fe182-199">See also</span></span>

- [<span data-ttu-id="fe182-200">C#-Programmierhandbuch</span><span class="sxs-lookup"><span data-stu-id="fe182-200">C# Programming Guide</span></span>](../index.md)
- [<span data-ttu-id="fe182-201">Klassen und Strukturen</span><span class="sxs-lookup"><span data-stu-id="fe182-201">Classes and Structs</span></span>](index.md)
- [<span data-ttu-id="fe182-202">Zugriffsmodifizierer</span><span class="sxs-lookup"><span data-stu-id="fe182-202">Access Modifiers</span></span>](access-modifiers.md)
- [<span data-ttu-id="fe182-203">Statische Klassen und statische Klassenmember</span><span class="sxs-lookup"><span data-stu-id="fe182-203">Static Classes and Static Class Members</span></span>](static-classes-and-static-class-members.md)
- [<span data-ttu-id="fe182-204">Vererbung</span><span class="sxs-lookup"><span data-stu-id="fe182-204">Inheritance</span></span>](inheritance.md)
- [<span data-ttu-id="fe182-205">Abstrakte und versiegelte Klassen und Klassenmember</span><span class="sxs-lookup"><span data-stu-id="fe182-205">Abstract and Sealed Classes and Class Members</span></span>](abstract-and-sealed-classes-and-class-members.md)
- [<span data-ttu-id="fe182-206">params</span><span class="sxs-lookup"><span data-stu-id="fe182-206">params</span></span>](../../language-reference/keywords/params.md)
- [<span data-ttu-id="fe182-207">return</span><span class="sxs-lookup"><span data-stu-id="fe182-207">return</span></span>](../../language-reference/keywords/return.md)
- [<span data-ttu-id="fe182-208">out</span><span class="sxs-lookup"><span data-stu-id="fe182-208">out</span></span>](../../language-reference/keywords/out.md)
- [<span data-ttu-id="fe182-209">ref</span><span class="sxs-lookup"><span data-stu-id="fe182-209">ref</span></span>](../../language-reference/keywords/ref.md)
- [<span data-ttu-id="fe182-210">Übergeben von Parametern</span><span class="sxs-lookup"><span data-stu-id="fe182-210">Passing Parameters</span></span>](passing-parameters.md)
