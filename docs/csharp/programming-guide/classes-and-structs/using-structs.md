---
title: Verwenden von Strukturen – C#-Programmierhandbuch
ms.custom: seodec18
ms.date: 07/20/2015
helpviewer_keywords:
- structs [C#], using
ms.assetid: cea4a459-9eb9-442b-8d08-490e0797ba38
ms.openlocfilehash: d2e89c842ae83a5be65c7500e47beb7f302e23be
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 04/18/2019
ms.locfileid: "59427187"
---
# <a name="using-structs-c-programming-guide"></a><span data-ttu-id="e8412-102">Verwenden von Strukturen (C#-Programmierhandbuch)</span><span class="sxs-lookup"><span data-stu-id="e8412-102">Using Structs (C# Programming Guide)</span></span>
<span data-ttu-id="e8412-103">Der `struct` -Typ eignet sich für die Darstellung von kompakten Objekten, z. B. `Point`, `Rectangle`und `Color`.</span><span class="sxs-lookup"><span data-stu-id="e8412-103">The `struct` type is suitable for representing lightweight objects such as `Point`, `Rectangle`, and `Color`.</span></span> <span data-ttu-id="e8412-104">Obwohl es ebenso einfach ist, einen Punkt als [Klasse](../../../csharp/language-reference/keywords/class.md) mit [automatisch implementierten Eigenschaften](../../../csharp/programming-guide/classes-and-structs/auto-implemented-properties.md)darzustellen, kann eine [Struktur](../../../csharp/language-reference/keywords/struct.md) in verschiedenen Szenarien effizienter sein.</span><span class="sxs-lookup"><span data-stu-id="e8412-104">Although it is just as convenient to represent a point as a [class](../../../csharp/language-reference/keywords/class.md) with [Auto-Implemented Properties](../../../csharp/programming-guide/classes-and-structs/auto-implemented-properties.md), a [struct](../../../csharp/language-reference/keywords/struct.md) might be more efficient in some scenarios.</span></span> <span data-ttu-id="e8412-105">Bei der Deklaration eines Arrays mit 1.000 `Point` -Objekten belegen Sie z. B. zusätzlichen Arbeitsspeicher, damit auf jedes Objekt verwiesen werden kann. In diesem Fall wäre eine Struktur weniger speicherintensiv.</span><span class="sxs-lookup"><span data-stu-id="e8412-105">For example, if you declare an array of 1000 `Point` objects, you will allocate additional memory for referencing each object; in this case, a struct would be less expensive.</span></span> <span data-ttu-id="e8412-106">Da [!INCLUDE[dnprdnshort](~/includes/dnprdnshort-md.md)] ein Objekt mit dem Namen <xref:System.Drawing.Point>enthält, wird die Struktur in diesem Beispiel stattdessen „Coords“ genannt.</span><span class="sxs-lookup"><span data-stu-id="e8412-106">Because the [!INCLUDE[dnprdnshort](~/includes/dnprdnshort-md.md)] contains an object called <xref:System.Drawing.Point>, the struct in this example is named "Coords" instead.</span></span>  
  
 [!code-csharp[csProgGuideObjects#1](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#1)]  
  
 <span data-ttu-id="e8412-107">Die Definition eines (parameterlosen) Standardkonstruktors für eine Struktur verursacht einen Fehler.</span><span class="sxs-lookup"><span data-stu-id="e8412-107">It is an error to define a default (parameterless) constructor for a struct.</span></span> <span data-ttu-id="e8412-108">Auch durch die Initialisierung eines Instanzenfelds in einem Strukturtext wird ein Fehler generiert.</span><span class="sxs-lookup"><span data-stu-id="e8412-108">It is also an error to initialize an instance field in a struct body.</span></span> <span data-ttu-id="e8412-109">Die extern verfügbaren Strukturmember können nur mithilfe eines parametrisierten Konstruktors, dem expliziten Standardkonstruktor, einem [Objektinitialisierer](../../../csharp/programming-guide/classes-and-structs/object-and-collection-initializers.md) oder durch jeweils einzelnen Zugriff auf die Member im Anschluss an die Deklaration der Struktur initialisiert werden.</span><span class="sxs-lookup"><span data-stu-id="e8412-109">You can initialize externally accessible struct members only by using a parameterized constructor, the implicit, default constructor, an [object initializer](../../../csharp/programming-guide/classes-and-structs/object-and-collection-initializers.md), or by accessing the members individually after the struct is declared.</span></span> <span data-ttu-id="e8412-110">Alle privaten oder auf andere Weise gesperrten Member erfordern die ausschließliche Verwendung von Konstruktoren.</span><span class="sxs-lookup"><span data-stu-id="e8412-110">Any private or otherwise inaccessible members require the use of constructors exclusively.</span></span>
  
 <span data-ttu-id="e8412-111">Wenn Sie ein Strukturobjekt mit dem Operator [new](../../../csharp/language-reference/keywords/new.md) erzeugen, wird das Objekt erstellt und der geeignete Konstruktor gemäß der [Signatur des Konstruktors](../../../csharp/programming-guide/classes-and-structs/constructors.md#constructor-syntax) aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="e8412-111">When you create a struct object using the [new](../../../csharp/language-reference/keywords/new.md) operator, it gets created and the appropriate constructor is called according to the [constructor's signature](../../../csharp/programming-guide/classes-and-structs/constructors.md#constructor-syntax).</span></span> <span data-ttu-id="e8412-112">Strukturen können im Gegensatz zu Klassen ohne den Operator `new` instanziiert werden.</span><span class="sxs-lookup"><span data-stu-id="e8412-112">Unlike classes, structs can be instantiated without using the `new` operator.</span></span> <span data-ttu-id="e8412-113">In einem solchen Fall gibt es keinen Konstruktoraufruf, sodass die Zuordnung effizienter ausgeführt werden kann.</span><span class="sxs-lookup"><span data-stu-id="e8412-113">In such a case, there is no constructor call, which makes the allocation more efficient.</span></span> <span data-ttu-id="e8412-114">Die Felder werden jedoch nicht zugewiesen, und das Objekt kann erst verwendet werden, nachdem alle Felder initialisiert wurden.</span><span class="sxs-lookup"><span data-stu-id="e8412-114">However, the fields will remain unassigned and the object cannot be used until all of the fields are initialized.</span></span> <span data-ttu-id="e8412-115">Dazu gehört die Unfähigkeit, Werte abzurufen oder festzulegen.</span><span class="sxs-lookup"><span data-stu-id="e8412-115">This includes the inability to get or set values through properties.</span></span>
 
 <span data-ttu-id="e8412-116">Wenn Sie ein Strukturobjekt unter Verwendung des parameterlosen Standardkonstruktors instanziieren, werden alle Werte gemäß ihrer [Standardwerte](../../../csharp/programming-guide/statements-expressions-operators/default-value-expressions.md) zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="e8412-116">If you instantiate a struct object using the default, parameterless constructor, all members are assigned according to their [default values](../../../csharp/programming-guide/statements-expressions-operators/default-value-expressions.md).</span></span>
  
 <span data-ttu-id="e8412-117">Wenn Sie einen Konstruktor mit Parametern für eine Struktur schreiben, müssen Sie alle Member explizit initialisieren. Andernfalls bleibt mindestens ein Member nicht zugewiesen, die Struktur kann nicht verwendet werden, und der Compilerfehler CS0171 wird ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="e8412-117">When writing a constructor with parameters for a struct, you must explicitly initialize all members; otherwise one or more members remain unassigned and the struct cannot be used, producing compiler error CS0171.</span></span>  
  
 <span data-ttu-id="e8412-118">Bei Strukturen findet keine Vererbung wie bei Klassen statt.</span><span class="sxs-lookup"><span data-stu-id="e8412-118">There is no inheritance for structs as there is for classes.</span></span> <span data-ttu-id="e8412-119">Eine Struktur kann nicht von einer anderen Struktur oder Klasse erben, und sie kann auch nicht die Basis einer Klasse sein.</span><span class="sxs-lookup"><span data-stu-id="e8412-119">A struct cannot inherit from another struct or class, and it cannot be the base of a class.</span></span> <span data-ttu-id="e8412-120">Stattdessen erben Strukturen von der <xref:System.Object>-Basisklasse.</span><span class="sxs-lookup"><span data-stu-id="e8412-120">Structs, however, inherit from the base class <xref:System.Object>.</span></span> <span data-ttu-id="e8412-121">Eine Struktur kann Schnittstellen implementieren. Dies geschieht auf dieselbe Weise wie bei Klassen.</span><span class="sxs-lookup"><span data-stu-id="e8412-121">A struct can implement interfaces, and it does that exactly as classes do.</span></span>  
  
 <span data-ttu-id="e8412-122">Sie können keine Klasse mit dem `struct`-Schlüsselwort deklarieren.</span><span class="sxs-lookup"><span data-stu-id="e8412-122">You cannot declare a class using the keyword `struct`.</span></span> <span data-ttu-id="e8412-123">Klassen und Strukturen weisen in C# semantische Unterschiede auf.</span><span class="sxs-lookup"><span data-stu-id="e8412-123">In C#, classes and structs are semantically different.</span></span> <span data-ttu-id="e8412-124">Eine Struktur ist ein Werttyp, während eine Klasse ein Referenztyp ist.</span><span class="sxs-lookup"><span data-stu-id="e8412-124">A struct is a value type, while a class is a reference type.</span></span> <span data-ttu-id="e8412-125">Weitere Informationen finden Sie unter [Werttypen](../../../csharp/language-reference/keywords/value-types.md).</span><span class="sxs-lookup"><span data-stu-id="e8412-125">For more information, see [Value Types](../../../csharp/language-reference/keywords/value-types.md).</span></span>  
  
 <span data-ttu-id="e8412-126">Sofern keine Semantik für Verweistypen benötigt wird, kann das System kleine Klassen effizienter verarbeiten, wenn diese als Struktur definiert werden.</span><span class="sxs-lookup"><span data-stu-id="e8412-126">Unless you need reference-type semantics, a small class may be more efficiently handled by the system if you declare it as a struct instead.</span></span>  
  
## <a name="example-1"></a><span data-ttu-id="e8412-127">Beispiel 1</span><span class="sxs-lookup"><span data-stu-id="e8412-127">Example 1</span></span>  
  
### <a name="description"></a><span data-ttu-id="e8412-128">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="e8412-128">Description</span></span>  
 <span data-ttu-id="e8412-129">In diesem Beispiel wird die `struct` -Initialisierung sowohl unter Verwendung von Standardkonstruktoren als auch unter Verwendung von parametrisierten Konstruktoren veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="e8412-129">This example demonstrates `struct` initialization using both default and parameterized constructors.</span></span>  
  
### <a name="code"></a><span data-ttu-id="e8412-130">Code</span><span class="sxs-lookup"><span data-stu-id="e8412-130">Code</span></span>  
 [!code-csharp[csProgGuideObjects#1](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#1)]  
  
 [!code-csharp[csProgGuideObjects#2](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#2)]  
  
## <a name="example-2"></a><span data-ttu-id="e8412-131">Beispiel 2</span><span class="sxs-lookup"><span data-stu-id="e8412-131">Example 2</span></span>  
  
### <a name="description"></a><span data-ttu-id="e8412-132">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="e8412-132">Description</span></span>  
 <span data-ttu-id="e8412-133">Dieses Beispiel veranschaulicht ein Feature, das ausschließlich auf Strukturen anwendbar ist.</span><span class="sxs-lookup"><span data-stu-id="e8412-133">This example demonstrates a feature that is unique to structs.</span></span> <span data-ttu-id="e8412-134">Es wird ein Coords-Objekt ohne Verwendung des Operators `new` erstellt.</span><span class="sxs-lookup"><span data-stu-id="e8412-134">It creates a Coords object without using the `new` operator.</span></span> <span data-ttu-id="e8412-135">Wenn Sie den Begriff `struct` durch `class`ersetzen, wird das Programm nicht kompiliert.</span><span class="sxs-lookup"><span data-stu-id="e8412-135">If you replace the word `struct` with the word `class`, the program will not compile.</span></span>  
  
### <a name="code"></a><span data-ttu-id="e8412-136">Code</span><span class="sxs-lookup"><span data-stu-id="e8412-136">Code</span></span>  
 [!code-csharp[csProgGuideObjects#1](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#1)]  
  
 [!code-csharp[csProgGuideObjects#3](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#3)]  
  
## <a name="see-also"></a><span data-ttu-id="e8412-137">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="e8412-137">See also</span></span>

- [<span data-ttu-id="e8412-138">C#-Programmierhandbuch</span><span class="sxs-lookup"><span data-stu-id="e8412-138">C# Programming Guide</span></span>](../../../csharp/programming-guide/index.md)
- [<span data-ttu-id="e8412-139">Klassen und Strukturen</span><span class="sxs-lookup"><span data-stu-id="e8412-139">Classes and Structs</span></span>](../../../csharp/programming-guide/classes-and-structs/index.md)
- [<span data-ttu-id="e8412-140">Strukturen</span><span class="sxs-lookup"><span data-stu-id="e8412-140">Structs</span></span>](../../../csharp/programming-guide/classes-and-structs/structs.md)
