---
title: 'Tutorial: Klassifizieren von Integritätsverstößen mit dem Modell-Generator'
description: In diesem Tutorial wird veranschaulicht, wie Sie mithilfe des ML.NET-Modell-Generator ein Multiklassenklassifizierungsmodell zum Klassifizieren des Schweregrads von Integritätsverletzungen in Restaurants in San Francisco erstellen.
author: luisquintanilla
ms.author: luquinta
ms.date: 11/21/2019
ms.topic: tutorial
ms.custom: mvc,mlnet-tooling
ms.openlocfilehash: e94313277a025d482105a6d78b6608d4df442c43
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 03/15/2020
ms.locfileid: "79185834"
---
# <a name="tutorial-classify-the-severity-of-restaurant-health-violations-with-model-builder"></a><span data-ttu-id="89610-103">Tutorial: Klassifizieren des Schweregrads von Integritätsverletzungen in Restaurants mit dem Modell-Generator</span><span class="sxs-lookup"><span data-stu-id="89610-103">Tutorial: Classify the severity of restaurant health violations with Model Builder</span></span>

<span data-ttu-id="89610-104">Informieren Sie sich, wie Sie mithilfe des Modell-Generators ein Multiklassenklassifizierungsmodell zum Kategorisieren der Risikostufe von Verstößen in Restaurants erstellen, die bei Integritätsprüfungen festgestellt wurden.</span><span class="sxs-lookup"><span data-stu-id="89610-104">Learn how to build a multiclass classification model using Model Builder to categorize the risk level of restaurant violations found during health inspections.</span></span>

<span data-ttu-id="89610-105">In diesem Tutorial lernen Sie, wie die folgenden Aufgaben ausgeführt werden:</span><span class="sxs-lookup"><span data-stu-id="89610-105">In this tutorial, you learn how to:</span></span>

> [!div class="checklist"]
>
> - <span data-ttu-id="89610-106">Vorbereiten und Verstehen der Daten</span><span class="sxs-lookup"><span data-stu-id="89610-106">Prepare and understand the data</span></span>
> - <span data-ttu-id="89610-107">Auswählen eines Szenarios</span><span class="sxs-lookup"><span data-stu-id="89610-107">Choose a scenario</span></span>
> - <span data-ttu-id="89610-108">Laden von Daten aus einer Datenbank</span><span class="sxs-lookup"><span data-stu-id="89610-108">Load data from a database</span></span>
> - <span data-ttu-id="89610-109">Trainieren des Modells</span><span class="sxs-lookup"><span data-stu-id="89610-109">Train the model</span></span>
> - <span data-ttu-id="89610-110">Evaluieren des Modells</span><span class="sxs-lookup"><span data-stu-id="89610-110">Evaluate the model</span></span>
> - <span data-ttu-id="89610-111">Verwenden des Modells für Vorhersagen</span><span class="sxs-lookup"><span data-stu-id="89610-111">Use the model for predictions</span></span>

> [!NOTE]
> <span data-ttu-id="89610-112">Der Modell-Generator befindet sich derzeit in der Vorschauphase.</span><span class="sxs-lookup"><span data-stu-id="89610-112">Model Builder is currently in Preview.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="89610-113">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="89610-113">Prerequisites</span></span>

<span data-ttu-id="89610-114">Eine Liste der Voraussetzungen und Installationsanweisungen finden Sie in der [Installationsanleitung für den Modell-Generator](../how-to-guides/install-model-builder.md).</span><span class="sxs-lookup"><span data-stu-id="89610-114">For a list of prerequisites and installation instructions, visit the [Model Builder installation guide](../how-to-guides/install-model-builder.md).</span></span>

## <a name="model-builder-multiclass-classification-overview"></a><span data-ttu-id="89610-115">Übersicht über die Multiklassenklassifizierung des Modell-Generators</span><span class="sxs-lookup"><span data-stu-id="89610-115">Model Builder multiclass classification overview</span></span>

<span data-ttu-id="89610-116">In diesem Beispiel wird eine C# .NET Core-Konsolenanwendung erstellt, die mithilfe eines mit dem Modell-Generator erstellten Machine Learning-Modells das Risiko von Integritätsverstößen kategorisiert.</span><span class="sxs-lookup"><span data-stu-id="89610-116">This sample creates a C# .NET Core console application that categorizes the risk of health violations using a machine learning model built with Model Builder.</span></span> <span data-ttu-id="89610-117">Sie finden den Quellcode für dieses Tutorial im GitHub-Repository [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations).</span><span class="sxs-lookup"><span data-stu-id="89610-117">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="create-a-console-application"></a><span data-ttu-id="89610-118">Erstellen einer Konsolenanwendung</span><span class="sxs-lookup"><span data-stu-id="89610-118">Create a console application</span></span>

1. <span data-ttu-id="89610-119">Erstellen Sie eine **C# .NET Core-Konsolenanwendung** mit dem Namen „RestaurantViolations“.</span><span class="sxs-lookup"><span data-stu-id="89610-119">Create a **C# .NET Core console application** called "RestaurantViolations".</span></span> <span data-ttu-id="89610-120">Stellen Sie sicher, dass die Option zum **Platzieren von Projektmappe und Projekt im selben Verzeichnis** **deaktiviert** (VS 2019) oder die Option **Verzeichnis für Projektmappe erstellen** **aktiviert** ist (VS 2017).</span><span class="sxs-lookup"><span data-stu-id="89610-120">Make sure **Place solution and project in the same directory** is **unchecked** (VS 2019), or **Create directory for solution** is **checked** (VS 2017).</span></span>

## <a name="prepare-and-understand-the-data"></a><span data-ttu-id="89610-121">Vorbereiten und Verstehen der Daten</span><span class="sxs-lookup"><span data-stu-id="89610-121">Prepare and understand the data</span></span>

> <span data-ttu-id="89610-122">Das Dataset, das zum Trainieren und Auswerten des Machine Learning-Modells verwendet wird, stammt ursprünglich vom [San Francisco Department of Public Health für Integritätsbewertungen von Restaurants](https://www.sfdph.org/dph/EH/Food/score/default.asp).</span><span class="sxs-lookup"><span data-stu-id="89610-122">The data set used to train and evaluate the machine learning model is originally from the [San Francisco Department of Public Health Restaurant Safety Scores](https://www.sfdph.org/dph/EH/Food/score/default.asp).</span></span> <span data-ttu-id="89610-123">Aus Gründen der Benutzerfreundlichkeit wurde das Dataset so komprimiert, dass nur die Spalten enthalten sind, die zum Trainieren des Modells und zum Treffen von Vorhersagen relevant sind.</span><span class="sxs-lookup"><span data-stu-id="89610-123">For convenience, the dataset has been condensed to only include the columns relevant to train the model and make predictions.</span></span> <span data-ttu-id="89610-124">Weitere Informationen zum [Dataset](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0) finden Sie auf der folgenden Website.</span><span class="sxs-lookup"><span data-stu-id="89610-124">Visit the following website to learn more about the [dataset](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0).</span></span>

<span data-ttu-id="89610-125">[Laden Sie das Dataset „Restaurant Safety Scores“](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) herunter, und entpacken Sie es.</span><span class="sxs-lookup"><span data-stu-id="89610-125">[Download the Restaurant Safety Scores dataset](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) and unzip it.</span></span>

<span data-ttu-id="89610-126">Jede Zeile im Dataset enthält Informationen zu Verstößen, die im Rahmen einer Untersuchung des Gesundheitsamts festgestellt wurden, sowie eine Risikobewertung der aus diesen Verstößen resultierenden Gefahren für die öffentliche Gesundheit und Sicherheit.</span><span class="sxs-lookup"><span data-stu-id="89610-126">Each row in the dataset contains information regarding violations observed during an inspection from the Health Department and a risk assessment of the threat those violations present to public health and safety.</span></span>

| <span data-ttu-id="89610-127">InspectionType</span><span class="sxs-lookup"><span data-stu-id="89610-127">InspectionType</span></span> | <span data-ttu-id="89610-128">ViolationDescription</span><span class="sxs-lookup"><span data-stu-id="89610-128">ViolationDescription</span></span> | <span data-ttu-id="89610-129">RiskCategory</span><span class="sxs-lookup"><span data-stu-id="89610-129">RiskCategory</span></span> |
| --- | --- | --- |
| <span data-ttu-id="89610-130">Routinekontrolle (nicht angekündigt)</span><span class="sxs-lookup"><span data-stu-id="89610-130">Routine - Unscheduled</span></span> | <span data-ttu-id="89610-131">Unzureichend gesäuberte oder desinfizierte Oberflächen</span><span class="sxs-lookup"><span data-stu-id="89610-131">Inadequately cleaned or sanitized food contact surfaces</span></span> | <span data-ttu-id="89610-132">Mittleres Risiko</span><span class="sxs-lookup"><span data-stu-id="89610-132">Moderate Risk</span></span> |
| <span data-ttu-id="89610-133">Neuer Besitzer</span><span class="sxs-lookup"><span data-stu-id="89610-133">New Ownership</span></span> | <span data-ttu-id="89610-134">Hohes Risiko durch Schädlingsbefall</span><span class="sxs-lookup"><span data-stu-id="89610-134">High risk vermin infestation</span></span> | <span data-ttu-id="89610-135">Hohes Risiko</span><span class="sxs-lookup"><span data-stu-id="89610-135">High Risk</span></span> |
| <span data-ttu-id="89610-136">Routinekontrolle (nicht angekündigt)</span><span class="sxs-lookup"><span data-stu-id="89610-136">Routine - Unscheduled</span></span> | <span data-ttu-id="89610-137">Klamotten nicht bzw. nicht ordnungsgemäß gelagert und gewaschen</span><span class="sxs-lookup"><span data-stu-id="89610-137">Wiping cloths not clean or properly stored or inadequate sanitizer</span></span> | <span data-ttu-id="89610-138">Geringes Risiko</span><span class="sxs-lookup"><span data-stu-id="89610-138">Low Risk</span></span> |

- <span data-ttu-id="89610-139">**InspectionType:** Dies entspricht der Art der Überprüfung.</span><span class="sxs-lookup"><span data-stu-id="89610-139">**InspectionType**: the type of inspection.</span></span> <span data-ttu-id="89610-140">Dabei kann es sich um eine erstmalige Überprüfung eines neuen Ladens, eine Routineüberprüfung, eine Überprüfung infolge einer Beschwerde usw. handeln.</span><span class="sxs-lookup"><span data-stu-id="89610-140">This can either be a first-time inspection for a new establishment, a routine inspection, a complaint inspection, and many other types.</span></span>
- <span data-ttu-id="89610-141">**ViolationDescription:** Dies ist eine Beschreibung des während der Überprüfung festgestellten Verstoßes.</span><span class="sxs-lookup"><span data-stu-id="89610-141">**ViolationDescription**: a description of the violation found during inspection.</span></span>
- <span data-ttu-id="89610-142">**RiskCategory:** Dies beschreibt den Schweregrad des Verstoßes, den dieser für die öffentliche Gesundheit und Sicherheit darstellt.</span><span class="sxs-lookup"><span data-stu-id="89610-142">**RiskCategory**: the risk severity a violation poses to public health and safety.</span></span>

<span data-ttu-id="89610-143">`label` ist die Spalte, die vorhergesagt werden soll.</span><span class="sxs-lookup"><span data-stu-id="89610-143">The `label` is the column you want to predict.</span></span> <span data-ttu-id="89610-144">Beim Ausführen einer Klassifizierungsaufgabe ist es das Ziel, eine Kategorie zuzuweisen (Text oder numerisch).</span><span class="sxs-lookup"><span data-stu-id="89610-144">When performing a classification task, the goal is to assign a category (text or numerical).</span></span> <span data-ttu-id="89610-145">In diesem Klassifizierungsszenario entspricht der Schweregrad des Verstoßes den Werten „geringes Risiko“, „mittleres Risiko“ oder „hohes Risiko“.</span><span class="sxs-lookup"><span data-stu-id="89610-145">In this classification scenario, the severity of the violation is assigned the value of low, moderate, or high risk.</span></span> <span data-ttu-id="89610-146">Daher ist **RiskCategory** die Bezeichnung.</span><span class="sxs-lookup"><span data-stu-id="89610-146">Therefore, the **RiskCategory** is the label.</span></span> <span data-ttu-id="89610-147">Die `features` sind die Eingaben, die Sie dem Modell zum Vorhersagen von `label` bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="89610-147">The `features` are the inputs you give the model to predict the `label`.</span></span> <span data-ttu-id="89610-148">In diesem Fall werden **InspectionType** und **ViolationDescription** als Features oder Eingaben verwendet, um **RiskCategory** vorherzusagen.</span><span class="sxs-lookup"><span data-stu-id="89610-148">In this case, the **InspectionType** and **ViolationDescription** are used as features or inputs to predict the **RiskCategory**.</span></span>

## <a name="choose-a-scenario"></a><span data-ttu-id="89610-149">Auswählen eines Szenarios</span><span class="sxs-lookup"><span data-stu-id="89610-149">Choose a scenario</span></span>

![Modell-Generator-Assistent in Visual Studio](./media/sentiment-analysis-model-builder/model-builder-screen.png)

<span data-ttu-id="89610-151">Wählen Sie aus der vom Modell-Generator bereitgestellten Liste der verfügbaren Machine Learning-Szenarios ein Szenario aus, um Ihr Modell zu trainieren.</span><span class="sxs-lookup"><span data-stu-id="89610-151">To train your model, select from the list of available machine learning scenarios provided by Model Builder.</span></span> <span data-ttu-id="89610-152">In diesem Fall ist das Szenario *Issue Classification* (Klassifizierung von Issues).</span><span class="sxs-lookup"><span data-stu-id="89610-152">In this case, the scenario is *Issue Classification*.</span></span>

1. <span data-ttu-id="89610-153">Klicken Sie im **Projektmappen-Explorer** mit der rechten Maustaste auf das Projekt *RestaurantViolations*, und wählen Sie **Hinzufügen** > **Machine Learning** aus.</span><span class="sxs-lookup"><span data-stu-id="89610-153">In **Solution Explorer**, right-click the *RestaurantViolations* project, and select **Add** > **Machine Learning**.</span></span>
1. <span data-ttu-id="89610-154">In diesem Fall ist das Szenario multiclass classification (Multiklassenklassifizierung).</span><span class="sxs-lookup"><span data-stu-id="89610-154">For this sample, the scenario is multiclass classification.</span></span> <span data-ttu-id="89610-155">Wählen Sie im Schritt *Szenario* des Modell-Generators das **Issue Classification**-Szenario (Klassifizierung von Issues) aus.</span><span class="sxs-lookup"><span data-stu-id="89610-155">In the *Scenario* step of Model Builder, select the **Issue Classification** scenario.</span></span>

## <a name="load-the-data"></a><span data-ttu-id="89610-156">Laden der Daten</span><span class="sxs-lookup"><span data-stu-id="89610-156">Load the data</span></span>

<span data-ttu-id="89610-157">Der Modell-Generator akzeptiert Daten aus einer SQL Server-Datenbank oder aus einer lokalen Datei im `csv`- oder `tsv`-Format.</span><span class="sxs-lookup"><span data-stu-id="89610-157">Model Builder accepts data from a SQL Server database or a local file in `csv` or `tsv` format.</span></span>

1. <span data-ttu-id="89610-158">Wählen Sie im Schritt „Daten“ des Modell-Generator-Tools **SQL Server** aus der Dropdownliste „Datenquelle“ aus.</span><span class="sxs-lookup"><span data-stu-id="89610-158">In the data step of the Model Builder tool, select **SQL Server** from the data source dropdown.</span></span>
1. <span data-ttu-id="89610-159">Klicken Sie auf die Schaltfläche neben dem Textfeld **Connect to SQL Server database** (Verbindung mit SQL Server-Datenbank herstellen).</span><span class="sxs-lookup"><span data-stu-id="89610-159">Select the button next to the **Connect to SQL Server database** text box.</span></span>
    1. <span data-ttu-id="89610-160">Klicken Sie im Dialogfeld **Choose Data** (Daten auswählen) auf **Microsoft SQL Server-Datenbankdatei**.</span><span class="sxs-lookup"><span data-stu-id="89610-160">In the **Choose Data** dialog, select **Microsoft SQL Server Database File**.</span></span>
    1. <span data-ttu-id="89610-161">Deaktivieren Sie das Kontrollkästchen **Immer diese Auswahl verwenden**, und klicken Sie auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="89610-161">Uncheck the **Always use this selection** checkbox and select **Continue**.</span></span>
    1. <span data-ttu-id="89610-162">Klicken Sie im Dialogfeld **Verbindungseigenschaften** auf **Durchsuchen**, und klicken Sie auf die heruntergeladene Datei *RestaurantScores.mdf*.</span><span class="sxs-lookup"><span data-stu-id="89610-162">In the **Connection Properties** dialog, select **Browse** and select the downloaded *RestaurantScores.mdf* file.</span></span>
    1. <span data-ttu-id="89610-163">Klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="89610-163">Select **OK**.</span></span>
1. <span data-ttu-id="89610-164">Klicken Sie in der Dropdownliste **Tabellenname** auf **Violations** (Verstöße).</span><span class="sxs-lookup"><span data-stu-id="89610-164">Choose **Violations** from the **Table Name** dropdown.</span></span>
1. <span data-ttu-id="89610-165">Klicken Sie in der Dropdownliste **Column to Predict (Label)** (Vorherzusagende Spalte (Bezeichnung)) die Option **RiskCategory** aus.</span><span class="sxs-lookup"><span data-stu-id="89610-165">Choose **RiskCategory** in the **Column to Predict (Label)** dropdown.</span></span>
1. <span data-ttu-id="89610-166">Lassen Sie die in der Dropdownliste **Input Columns (Features)** (Eingabespalten (Features)) aktivierte Standardspaltenauswahl **InspectionType** und **ViolationDescription** unverändert.</span><span class="sxs-lookup"><span data-stu-id="89610-166">Leave the default column selections, **InspectionType** and **ViolationDescription**, checked in the **Input Columns (Features)** dropdown.</span></span>
1. <span data-ttu-id="89610-167">Wählen Sie den Link **Trainieren** aus, um zum nächsten Schritt im Modell-Generator zu gelangen.</span><span class="sxs-lookup"><span data-stu-id="89610-167">Select the **Train** link to move to the next step in Model Builder.</span></span>

## <a name="train-the-model"></a><span data-ttu-id="89610-168">Trainieren des Modells</span><span class="sxs-lookup"><span data-stu-id="89610-168">Train the model</span></span>

<span data-ttu-id="89610-169">Die in diesem Tutorial zum Trainieren des Klassifizierungsmodells für Issues verwendete Machine Learning-Aufgabe ist eine Multiklassenklassifizierung.</span><span class="sxs-lookup"><span data-stu-id="89610-169">The machine learning task used to train the issue classification model in this tutorial is multiclass classification.</span></span> <span data-ttu-id="89610-170">Während des Modelltrainings trainiert der Modell-Generator einzelne Modelle mit verschiedenen Algorithmen und Einstellungen für Multiklassenklassifizierungen, um das leistungsfähigste Modell für Ihr Dataset zu finden.</span><span class="sxs-lookup"><span data-stu-id="89610-170">During the model training process, Model Builder trains separate models using different multiclass classification algorithms and settings to find the best performing model for your dataset.</span></span>

<span data-ttu-id="89610-171">Die Zeit, die für das Trainieren des Modells benötigt wird, ist proportional zur Datenmenge.</span><span class="sxs-lookup"><span data-stu-id="89610-171">The time required for the model to train is proportional to the amount of data.</span></span> <span data-ttu-id="89610-172">Der Modell-Generator legt automatisch einen Standardwert für **Time to train (seconds)** (Trainingszeit (Sekunden)) basierend auf der Größe der Datenquelle fest.</span><span class="sxs-lookup"><span data-stu-id="89610-172">Model Builder automatically selects a default value for **Time to train (seconds)** based on the size of your data source.</span></span>

1. <span data-ttu-id="89610-173">Obwohl der Modell-Generator den Wert von **Trainingszeit (Sekunden)** auf 10 Sekunden festlegt, erhöhen Sie den Wert auf 30 Sekunden.</span><span class="sxs-lookup"><span data-stu-id="89610-173">Although Model Builder sets the value of **Time to train (seconds)** to 10 seconds, increase it to 30 seconds.</span></span> <span data-ttu-id="89610-174">Ein längeres Training ermöglicht es dem Modell-Generator, eine größere Anzahl von Algorithmen und Kombinationen von Parametern auf der Suche nach dem besten Modell zu untersuchen.</span><span class="sxs-lookup"><span data-stu-id="89610-174">Training for a longer period of time allows Model Builder to explore a larger number of algorithms and combination of parameters in search of the best model.</span></span>
1. <span data-ttu-id="89610-175">Wählen Sie **Training starten** aus.</span><span class="sxs-lookup"><span data-stu-id="89610-175">Select **Start Training**.</span></span>

    <span data-ttu-id="89610-176">Während des gesamten Trainingsprozesses werden die Fortschrittsdaten im Abschnitt `Progress` des Schritts „Trainieren“ angezeigt.</span><span class="sxs-lookup"><span data-stu-id="89610-176">Throughout the training process, progress data is displayed in the `Progress` section of the train step.</span></span>

    - <span data-ttu-id="89610-177">**Status** zeigt den Abschlussstatus des Trainingsprozesses an.</span><span class="sxs-lookup"><span data-stu-id="89610-177">**Status** displays the completion status of the training process.</span></span>
    - <span data-ttu-id="89610-178">**Best accuracy**  (Beste Genauigkeit) zeigt die Genauigkeit des leistungsfähigsten Modells an, das bisher vom Modell-Generator gefunden wurde.</span><span class="sxs-lookup"><span data-stu-id="89610-178">**Best accuracy** displays the accuracy of the best performing model found by Model Builder so far.</span></span> <span data-ttu-id="89610-179">Eine höhere Genauigkeit bedeutet, dass die Vorhersage des Modells anhand der Testdaten präziser ist.</span><span class="sxs-lookup"><span data-stu-id="89610-179">Higher accuracy means the model predicted more correctly on test data.</span></span>
    - <span data-ttu-id="89610-180">**Best algorithm**  (Bester Algorithmus) zeigt den Namen des leistungsfähigsten Algorithmus an, der bisher vom Modell-Generator gefunden wurde.</span><span class="sxs-lookup"><span data-stu-id="89610-180">**Best algorithm** displays the name of the best-performing algorithm found by Model Builder so far.</span></span>
    - <span data-ttu-id="89610-181">**Last algorithm**  (Letzter Algorithmus) zeigt den Namen des Algorithmus an, der zuletzt vom Modell-Generator zum Trainieren des Modells verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="89610-181">**Last algorithm** displays the name of the algorithm most recently used by Model Builder to train the model.</span></span>

1. <span data-ttu-id="89610-182">Wählen Sie nach Abschluss des Trainings den Link **Evaluieren** aus, um mit dem nächsten Schritt fortzufahren.</span><span class="sxs-lookup"><span data-stu-id="89610-182">Once training is complete, select the **Evaluate** link to move to the next step.</span></span>

## <a name="evaluate-the-model"></a><span data-ttu-id="89610-183">Evaluieren des Modells</span><span class="sxs-lookup"><span data-stu-id="89610-183">Evaluate the model</span></span>

<span data-ttu-id="89610-184">Das Ergebnis des Schritts „Trainieren“ ist das Modell mit der besten Leistung.</span><span class="sxs-lookup"><span data-stu-id="89610-184">The result of the training step is the one model that had the best performance.</span></span> <span data-ttu-id="89610-185">Im Schritt „Evaluieren“ des Modell-Generators enthält der Ausgabebereich den Algorithmus, der vom leistungsfähigsten Modell im Eintrag **Best Model** (Bestes Modell) verwendet wird, sowie Metriken in **Best Model Accuracy** (Beste Modellgenauigkeit).</span><span class="sxs-lookup"><span data-stu-id="89610-185">In the evaluate step of Model Builder, the output section contains the algorithm used by the best performing model in the **Best Model** entry along with metrics in **Best Model Accuracy**.</span></span> <span data-ttu-id="89610-186">Zusätzlich werden eine Zusammenfassungstabelle mit bis zu fünf untersuchten Modellen und deren Metriken angezeigt.</span><span class="sxs-lookup"><span data-stu-id="89610-186">Additionally, a summary table containing up to five models that were explored and their metrics is displayed.</span></span>

<span data-ttu-id="89610-187">Wenn Sie mit Ihren Genauigkeitsmetriken nicht zufrieden sind, gibt es einige einfache Möglichkeiten, die Modellgenauigkeit zu verbessern, indem Sie beispielsweise die Zeit für das Training des Modells erhöhen oder mehr Daten verwenden.</span><span class="sxs-lookup"><span data-stu-id="89610-187">If you're not satisfied with your accuracy metrics, some easy ways to try to improve model accuracy are to increase the amount of time to train the model or use more data.</span></span> <span data-ttu-id="89610-188">Klicken Sie andernfalls auf den Link **Code**, um zum letzten Schritt im Modell-Generator zu gelangen.</span><span class="sxs-lookup"><span data-stu-id="89610-188">Otherwise, select the **code** link to move to the final step in Model Builder.</span></span>

## <a name="add-the-code-to-make-predictions"></a><span data-ttu-id="89610-189">Hinzufügen des Codes für Vorhersagen</span><span class="sxs-lookup"><span data-stu-id="89610-189">Add the code to make predictions</span></span>

<span data-ttu-id="89610-190">Als Ergebnis des Trainingsprozesses werden zwei Projekte erstellt.</span><span class="sxs-lookup"><span data-stu-id="89610-190">Two projects are created as a result of the training process.</span></span>

- <span data-ttu-id="89610-191">RestaurantViolationsML.ConsoleApp: Dies ist eine .NET Core-Konsolenanwendung, die den Modelltrainings- und Beispielverbrauchscode enthält.</span><span class="sxs-lookup"><span data-stu-id="89610-191">RestaurantViolationsML.ConsoleApp: A C# .NET Core Console application that contains the model training and sample consumption code.</span></span>
- <span data-ttu-id="89610-192">RestaurantViolationsML.Model: Dies ist eine .NET Standard-Klassenbibliothek, die die Datenmodelle enthält, die das Schema der Eingabe- und Ausgabemodelldaten, die gespeicherte Version des leistungsfähigsten Modells während des Trainings sowie eine Hilfsklasse namens `ConsumeModel` definieren, um Vorhersagen zu treffen.</span><span class="sxs-lookup"><span data-stu-id="89610-192">RestaurantViolationsML.Model: A .NET Standard class library containing the data models that define the schema of input and output model data, the saved version of the best performing model during training, and a helper class called `ConsumeModel` to make predictions.</span></span>

1. <span data-ttu-id="89610-193">Wählen Sie im Schritt „Code“ des Modell-Generators die Option **Projekte hinzufügen** aus, um der Projektmappe die automatisch generierten Projekte hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="89610-193">In the code step of Model Builder, select **Add Projects** to add the autogenerated projects to the solution.</span></span>
1. <span data-ttu-id="89610-194">Öffnen Sie die Datei *Program.cs* im Projekt *RestaurantViolations*.</span><span class="sxs-lookup"><span data-stu-id="89610-194">Open the *Program.cs* file in the *RestaurantViolations* project.</span></span>
1. <span data-ttu-id="89610-195">Fügen Sie die folgende using-Anweisung hinzu, um auf das Projekt *RestaurantViolationsML.Model* zu verweisen:</span><span class="sxs-lookup"><span data-stu-id="89610-195">Add the following using statement to reference the *RestaurantViolationsML.Model* project:</span></span>

    [!code-csharp [ProgramUsings](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L2)]

1. <span data-ttu-id="89610-196">Um eine Vorhersage für neue Daten mithilfe des Modells zu erstellen, erstellen Sie eine neue Instanz der Klasse `ModelInput` innerhalb der `Main`-Methode Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="89610-196">To make a prediction on new data using the model, create a new instance of the `ModelInput` class inside the `Main` method of your application.</span></span> <span data-ttu-id="89610-197">Beachten Sie, dass die Risikokategorie nicht Teil der Eingabe ist.</span><span class="sxs-lookup"><span data-stu-id="89610-197">Notice that the risk category is not part of the input.</span></span> <span data-ttu-id="89610-198">Das liegt daran, dass das Modell die Vorhersage dafür generiert.</span><span class="sxs-lookup"><span data-stu-id="89610-198">This is because the model generates the prediction for it.</span></span>

    [!code-csharp [TestData](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L11-L15)]

1. <span data-ttu-id="89610-199">Verwenden Sie die `Predict`-Methode aus der `ConsumeModel`-Klasse.</span><span class="sxs-lookup"><span data-stu-id="89610-199">Use the `Predict` method from the `ConsumeModel` class.</span></span> <span data-ttu-id="89610-200">Die `Predict`-Methode lädt das trainierte Modell, erstellt eine [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) für das Modell und verwendet sie, um Vorhersagen für neue Daten zu generieren.</span><span class="sxs-lookup"><span data-stu-id="89610-200">The `Predict` method loads the trained model, creates a [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) for the model, and uses it to make predictions on new data.</span></span>

    [!code-csharp [Prediction](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L17-L24)]

1. <span data-ttu-id="89610-201">Führen Sie die Anwendung aus.</span><span class="sxs-lookup"><span data-stu-id="89610-201">Run the application.</span></span>

    <span data-ttu-id="89610-202">Die vom Programm generierte Ausgabe sollte wie der folgende Ausschnitt aussehen:</span><span class="sxs-lookup"><span data-stu-id="89610-202">The output generated by the program should look similar to the snippet below:</span></span>

    ```bash
    Inspection Type: Complaint
    Violation Description: Inadequate sewage or wastewater disposal
    Risk Category: Moderate Risk
    ```

<span data-ttu-id="89610-203">Wenn Sie zu einem späteren Zeitpunkt innerhalb einer anderen Projektmappe auf die generierten Projekte verweisen müssen, finden Sie diese im Verzeichnis `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools`.</span><span class="sxs-lookup"><span data-stu-id="89610-203">If you need to reference the generated projects at a later time inside of another solution, you can find them inside the `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools` directory.</span></span>

<span data-ttu-id="89610-204">Herzlichen Glückwunsch!</span><span class="sxs-lookup"><span data-stu-id="89610-204">Congratulations!</span></span> <span data-ttu-id="89610-205">Sie haben mithilfe des Modell-Generators erfolgreich ein Machine Learning-Modell zum Kategorisieren des Risikos von Integritätsverstößen erstellt.</span><span class="sxs-lookup"><span data-stu-id="89610-205">You've successfully built a machine learning model to categorize the risk of health violations using Model Builder.</span></span> <span data-ttu-id="89610-206">Sie finden den Quellcode für dieses Tutorial im GitHub-Repository [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations).</span><span class="sxs-lookup"><span data-stu-id="89610-206">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="89610-207">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="89610-207">Additional resources</span></span>

<span data-ttu-id="89610-208">Weitere Informationen zu den in diesem Tutorial erwähnten Themen finden Sie in den folgenden Ressourcen:</span><span class="sxs-lookup"><span data-stu-id="89610-208">To learn more about topics mentioned in this tutorial, visit the following resources:</span></span>

- [<span data-ttu-id="89610-209">Szenarien für den Modellgenerator</span><span class="sxs-lookup"><span data-stu-id="89610-209">Model Builder Scenarios</span></span>](../automate-training-with-model-builder.md#scenarios)
- [<span data-ttu-id="89610-210">Multiklassenklassifizierung</span><span class="sxs-lookup"><span data-stu-id="89610-210">Multiclass Classification</span></span>](../resources/glossary.md#multiclass-classification)
- [<span data-ttu-id="89610-211">Modellmetriken zur Multiklassenklassifizierung</span><span class="sxs-lookup"><span data-stu-id="89610-211">Multiclass Classification Model Metrics</span></span>](../resources/metrics.md#evaluation-metrics-for-multi-class-classification)
